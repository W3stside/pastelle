{"version":3,"sources":["i18n.ts","blockchain/constants/chains.ts","assets/chains/network-mainnet-logo.svg","assets/chains/network-rinkeby-logo.svg","assets/chains/network-gnosis-chain-logo.svg","blockchain/constants/tokens.ts","blockchain/constants/addresses.ts","blockchain/utils/constructSameAddressMap.ts","blockchain/connectors/Fortmatic.ts","blockchain/connectors/NetworkConnector.ts","blockchain/connectors/index.ts","blockchain/constants/wallets.ts","blockchain/utils/getLibrary.ts","theme/styled.ts","state/user/actions.ts","state/user/hooks.ts","theme/styles/colours.ts","theme/utils.ts","theme/styles/mediaQueries.ts","theme/components.tsx","components/Button/index.tsx","theme/index.tsx","state/application/reducer.ts","components/Layout/Card.tsx","components/ThemeViewer/index.tsx","state/global/actions.ts","state/user/reducer.ts","state/blockchain/reducer.ts","state/multicall/actions.ts","state/multicall/utils.ts","state/multicall/reducer.ts","state/transactions/reducer.ts","state/index.ts","state/application/hooks.ts","components/Layout/Row.tsx","components/Layout/Column.tsx","components/Popups/PopupItem.tsx","components/Popups/index.tsx","blockchain/hooks/index.ts","components/blockchain/Web3ReactManager/index.tsx","assets/images/menu.svg","components/Menu/index.tsx","hooks/useOnClickOutside.tsx","hooks/useWindowSize.ts","pages/SingleItem/styleds.tsx","components/Header/DynamicLogoHeader.tsx","components/Layout/Section.tsx","components/Header/styleds.ts","components/Header/index.tsx","components/Carousel/styleds.ts","components/Carousel/index.tsx","components/Breadcrumb/index.tsx","pages/SingleItem/AsideWithVideo.tsx","assets/apparel/leer/images/front.jpg","assets/apparel/leer/images/back.jpg","mock/apparel/index.ts","mock/apparel/leer.ts","assets/apparel/leer/webm/front.webm","assets/apparel/leer/webm/back.webm","pages/Home/index.tsx","pages/App.tsx","hooks/useIsWindowVisible.ts","blockchain/utils/addNetwork.ts","blockchain/utils/switchToNetwork.ts","state/blockchain/hooks.ts","state/blockchain/updater.ts","hooks/useDebounce.ts","blockchain/utils/supportedChainId.ts","state/transactions/updater.tsx","state/user/updater.ts","theme/styles/global.ts","serviceWorkerRegistration.ts","utils/node.ts","index.tsx"],"names":["i18next","use","XHR","LanguageDetector","initReactI18next","init","backend","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","SupportedChainId","MAINNET","RINKEBY","XDAI","L1_CHAIN_IDS","CHAIN_INFO","docs","explorer","infoLink","label","logoUrl","EthereumLogo","nativeCurrency","name","symbol","decimals","RinkebyLogo","GnosisChainLogo","NETWORK_LABELS","WXDAI","Token","WETH9","address","additionalNetworks","concat","reduce","memo","chainId","constructSameAddressMap","CHAIN_ID_NETWORK_ARGUMENT","ChainId","undefined","FortmaticConnector","a","this","fortmatic","Fortmatic","default","apiKey","Error","provider","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","then","accounts","account","FortmaticConnectorCore","RequestError","message","code","data","MiniRpcProvider","url","batchWaitTimeMs","isMetaMask","host","path","nextId","batchTimeoutId","batch","clearBatch","console","debug","fetch","method","headers","accept","body","JSON","stringify","map","item","request","response","forEach","reject","ok","json","byKey","current","id","result","error","sendAsync","callback","params","jsonrpc","catch","toString","promise","push","setTimeout","parsed","URL","pathname","NetworkConnector","urls","defaultChainId","invariant","Object","keys","length","supportedChainIds","k","Number","providers","currentChainId","accumulator","AbstractConnector","WALLET_CONNECT_BRIDGE","process","parseInt","chainIds","split","trim","includes","join","rpcNetworks","acc","otherChainIds","filter","networkId","getRpcNetworks","NETWORK_CHAIN_ID","network","WalletProvider","injected","InjectedConnector","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","portis","PortisConnector","dAppId","networks","walletlink","WalletLinkConnector","appName","appLogoUrl","STORAGE_KEY_LAST_PROVIDER","NetworkContextName","Set","getLibrary","library","Web3Provider","pollingInterval","ThemeModes","updateThemeMode","createAction","updateThemeAutoDetect","useAppColourTheme","useSelector","user","theme","THEME_LIST","entries","DEFAULT_COLOURS","black","white","whiteDark","red1","red2","green1","green2","yellow1","yellow2","blue1","blue","blueDark","purple","bgLight","bgDark","blackLight","successLight","successDark","dangerLight","dangerDark","warningLight","warningDark","bgDisabled","disabledDarkOpaque","textDisabled","disabledDark","mainGradient","mainGradientDarker","LIGHT_COLOURS","text1","text2","text3","text4","text5","bg1","bg2","bg3","bg4","bg5","modalBG","advancedBG","primary1","primary2","primary3","primary4","primary5","primaryText1","secondary1","secondary2","secondary3","DARK_COLOURS","GULF_COLOURS","getThemeColours","colourTheme","THEME_COLOURS","LIGHT","DARK","GULF","MEDIA_WIDTHS","upToExtraSmall","upToSmall","upToMedium","upToLarge","mediaWidthTemplates","size","b","c","css","StyledInternalLink","styled","button","attrs","warning","backgroundColor","darken","X","disabled","Link","StyledLink","rotateImg","keyframes","img","ExternalLink","target","href","rel","rest","handleClick","useCallback","event","ctrlKey","metaKey","ReactGA","outboundLink","preventDefault","window","location","onClick","rotate","Spinner","span","mediaWidth","ButtonVariations","ButtonSizeVariations","TextWrapper","Text","color","TYPE","props","fontWeight","fontSize","DEFAULT_THEME","buttons","font","small","normal","large","borderRadius","border","flexColumnNoWrap","flexRowNoWrap","ThemeProvider","children","themeExtension","mode","themeObject","useMemo","themeColours","shadow1","Children","childWithTheme","isValidElement","cloneElement","ApplicationModal","BV","BSV","BUTTON_VARIATION_LIST","DEFAULT_DARKEN_AMOUNT","PRIMARY_BUTTON_STYLES","SECONDARY_BUTTON_STYLES","DANGER_BUTTON_STYLES","SUCCESS_BUTTON_STYLES","WARNING_BUTTON_STYLES","CANCEL_BUTTON_STYLES","DISABLED_BUTTON_STYLES","THEME_BUTTON_STYLES","ButtonThemeMap","accum","buttonStyle","buttonVariant","DEFAULT","PRIMARY","SECONDARY","DANGER","SUCCESS","WARNING","CANCEL","DISABLED","THEME","accum2","ButtonTheme","variants","BUTTON_THEME_KEY","ButtonSizes","SMALL","BIG","ButtonBase","ColouredButtonBase","ColouredAndSizedButtonBase","restProps","component","Card","Box","padding","LightCard","YellowCard","ThemeConsumer","style","variant","ThemeViewer","updateVersion","currentTimestamp","Date","getTime","initialState","autoDetect","timestamp","createReducer","builder","addCase","state","lastUpdateVersionTimestamp","action","payload","applicationSlice","createSlice","popupList","openModal","reducers","setOpenModal","addPopup","content","key","removeAfterMs","popup","nanoid","show","removePopup","p","actions","application","reducer","blockchainSlice","blockNumber","chainConnectivityWarning","implements3085","updateChainId","updateBlockNumber","Math","max","setImplements3085","setChainConnectivityWarning","blockchain","addMulticallListeners","removeMulticallListeners","fetchingMulticallResults","errorFetchingMulticallResults","updateMulticallResults","toCallKey","call","callData","gasRequired","isSafeInteger","HashType","multicall","callResults","calls","blocksPerFetch","options","listeners","callListeners","callKey","fetchingBlockNumber","results","now","tx","lastCheckedBlockNumber","transactionsSlice","addTransaction","transactions","from","hash","hashType","approval","summary","presign","safeTransaction","warn","txs","transactionHash","ETHEREUM_TX","addedTime","clearAllTransactions","checkedTransaction","finalizeTransaction","receipt","confirmedTime","replaceTransaction","oldHash","newHash","type","allTxs","replacementType","updateSafeTransaction","safeTxHash","useAppDispatch","useDispatch","useAppSelector","PERSISTED_KEYS","store","configureStore","middleware","defaultMiddleware","thunk","save","states","preloadedState","load","disableWarnings","dispatch","useModalOpen","modal","useToggleModal","open","Row","align","RowFixed","div","gap","justify","Column","AutoColumn","StyledClose","Popup","Fader","AnimatedFader","animated","PopupItem","popKey","useRemovePopup","removeThisPopup","useEffect","timeout","clearTimeout","useContext","ThemeContext","faderStyle","useSpring","width","to","config","duration","popupContent","MobilePopupWrapper","height","MobilePopupInner","FixedPopupColumn","extraPadding","Popups","activePopups","list","useActivePopups","slice","reverse","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","active","useEagerConnect","activate","connector","useState","tried","setTried","handleBeforeUnload","walletType","INJECTED","WALLET_CONNECT","FORMATIC","PORTIS","WALLET_LINK","getProviderType","localStorage","setItem","removeItem","connectInjected","isAuthorized","isMobile","ethereum","connectWalletConnect","latestProvider","getItem","addEventListener","removeEventListener","MessageWrapper","Message","h2","Web3ReactManager","useWeb3React","networkActive","networkError","activateNetwork","triedEager","suppress","on","handleChainChanged","handleAccountsChanged","removeListener","useInactiveListener","_path","_path2","_path3","_extends","assign","i","arguments","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgMenu","_ref","svgRef","title","titleId","viewBox","fill","xmlns","ref","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ForwardRef","StyledMenuIcon","MenuIcon","StyledMenuButton","Button","StyledMenu","MenuFlyout","MenuItem","Menu","node","useRef","MENU","toggle","handler","handlerRef","handleClickOutside","e","contains","document","useOnClickOutside","isClient","getSize","innerWidth","innerHeight","saturateAnimation","textShadowAnimation","itemColor","VideoContentWrapper","ItemHeader","animation","ItemSubHeader","fontStyle","bgColor","transparentize","ItemBreadcrumb","NavLink","ItemAsidePanel","ItemContainer","ItalicStrikethrough","ItemCredits","ItemArtistInfo","artist","social","FloatingBlockContainer","gradientBase","gradientEnd","rotation","top","left","FloatingColouredBlock","FloatingStrip","PASTELLE_CREDIT","LogoHeader","DynamicHeaderLogo","windowSize","setWindowSize","handleResize","useWindowSize","constructedLogo","SectionFrame","activeClassName","StyledNavLink","HeaderFrame","HeaderControls","HeaderElement","HeaderElementWrap","HeaderRow","HeaderLinks","HideSmall","NetworkCard","Title","Header","as","CarouselStep","$calculatedWidth","CarouselContainer","CarouselButton","buttonColor","CarouselButtonContainer","Carousel","mediaList","mediaStartIndex","onCarouselChange","selectedStep","setSelectedStep","parentWidth","setParentWidth","isMultipleCarousel","lastStepIndex","carouselImageRef","focus","carouselRef","parentElement","offsetWidth","index","image","isLastStep","calculatedWidth","justifyContent","src","indexToSet","MOCK_BREADCRUMB","ItemPage","itemHeader","itemMediaList","itemSizesList","itemDescription","itemArtistInfo","setMediaStartIndex","lastCrumb","pop","breadcrumbs","useBreadcrumb","marginBottom","zIndex","crumb","isLastCrumb","marginTop","video","loop","muted","autoPlay","FRONT_IMAGE","BACK_IMAGE","PageArticle","article","Home","HOME_ITEMS_LIST","restItemData","Navigation","nav","App","fallback","exact","VISIBILITY_STATE_SUPPORTED","isWindowVisible","visibilityState","useIsWindowVisible","focused","setFocused","listener","addNetwork","info","formattedChainId","hexStripZeros","BigNumber","toHexString","chainName","rpcUrls","blockExplorerUrls","switchToNetwork","getNetwork","useBlockNumber","DEFAULT_MS_BEFORE_WARNING","useBlockWarningTimer","currentBlock","chainConnectivityWarningActive","useSetChainConnectivityWarning","msSinceLastBlock","setMsSinceLastBlock","waitMsBeforeWarning","blockWaitMsBeforeWarning","Updater","useUpdateChainId","useUpdateBlockNumber","useSetImplements3085","setState","windowVisible","blockNumberCallback","getBlockNumber","debouncedState","value","delay","debouncedValue","setDebouncedValue","useDebounce","supportedChainId","x","lastBlockNumber","useAddPopup","useFinalizeTransaction","useCheckedTransaction","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","status","transactionIndex","txn","success","setMode","setAutoDetect","useThemeManager","autoDarkHandler","match","autoTheme","matches","matchMedia","themeColour","TopGlobalStyle","createGlobalStyle","ThemedGlobalStyle","setBgColour","Boolean","hostname","Node","originalRemoveChild","removeChild","child","parentNode","originalInsertBefore","insertBefore","newNode","referenceNode","nodeRemoveChildFix","Web3ProviderNetwork","createWeb3ReactRoot","Updaters","caches","cacheName","log","delete","navigator","serviceWorker","getRegistrations","registrations","unregister","autoRefreshOnNetworkChange","ReactDOM","render","getElementById","ready","registration","deleteAllCaches","unregisterAllWorkers"],"mappings":"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","file":"static/js/main.8cf0e7a6.chunk.js","sourcesContent":["import i18next from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport XHR from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\ni18next\n  .use(XHR)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    backend: {\n      loadPath: `./locales/{{lng}}.json`\n    },\n    react: {\n      useSuspense: true\n    },\n    fallbackLng: 'en',\n    preload: ['en'],\n    keySeparator: false,\n    interpolation: { escapeValue: false }\n  })\n\nexport default i18next\n","// import ethereumLogoUrl from 'assets/images/ethereum-logo.png'\n// import arbitrumLogoUrl from 'assets/svg/arbitrum_logo.svg'\n// import optimismLogoUrl from 'assets/svg/optimistic_ethereum.svg'\n// import ms from 'ms.macro'\n\nimport EthereumLogo from 'assets/chains/network-mainnet-logo.svg' // mod\nimport RinkebyLogo from 'assets/chains/network-rinkeby-logo.svg' // mod\nimport GnosisChainLogo from 'assets/chains/network-gnosis-chain-logo.svg' // mod\n\nexport enum SupportedChainId {\n  MAINNET = 1,\n  RINKEBY = 4,\n  // ROPSTEN = 3,\n  // GOERLI = 5,\n  // KOVAN = 42,\n  // ARBITRUM_ONE = 42161,\n  // ARBITRUM_RINKEBY = 421611,\n  // OPTIMISM = 10,\n  // OPTIMISTIC_KOVAN = 69,\n\n  XDAI = 100\n}\n\nexport const ALL_SUPPORTED_CHAIN_IDS: SupportedChainId[] = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.XDAI\n  // SupportedChainId.ROPSTEN,\n  // SupportedChainId.GOERLI,\n  // SupportedChainId.KOVAN,\n  // SupportedChainId.ARBITRUM_ONE,\n  // SupportedChainId.ARBITRUM_RINKEBY,\n  // SupportedChainId.OPTIMISM,\n  // SupportedChainId.OPTIMISTIC_KOVAN,\n]\n\nexport const L1_CHAIN_IDS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.XDAI\n  // SupportedChainId.ROPSTEN,\n  // SupportedChainId.GOERLI,\n  // SupportedChainId.KOVAN,\n] as const\n\nexport type SupportedL1ChainId = typeof L1_CHAIN_IDS[number]\n\nexport const L2_CHAIN_IDS = [\n  // SupportedChainId.ARBITRUM_ONE,\n  // SupportedChainId.ARBITRUM_RINKEBY,\n  // SupportedChainId.OPTIMISM,\n  // SupportedChainId.OPTIMISTIC_KOVAN,\n] as const\n\nexport type SupportedL2ChainId = typeof L2_CHAIN_IDS[number]\n\nexport interface L1ChainInfo {\n  readonly blockWaitMsBeforeWarning?: number\n  readonly docs: string\n  readonly explorer: string\n  readonly infoLink: string\n  readonly label: string\n  readonly logoUrl?: string\n  readonly rpcUrls?: string[]\n  readonly nativeCurrency: {\n    name: string // 'Goerli ETH',\n    symbol: string // 'gorETH',\n    decimals: number //18,\n  }\n}\nexport interface L2ChainInfo extends L1ChainInfo {\n  readonly bridge: string\n  readonly logoUrl: string\n  readonly statusPage?: string\n}\n\nexport type ChainInfo = { readonly [chainId: number]: (L1ChainInfo & { logoUrl: string }) | L2ChainInfo } & {\n  readonly [chainId in SupportedL2ChainId]: L2ChainInfo\n} &\n  { readonly [chainId in SupportedL1ChainId]: L1ChainInfo }\n\nexport const CHAIN_INFO: ChainInfo = {\n  /* [SupportedChainId.ARBITRUM_ONE]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://bridge.arbitrum.io/',\n    docs: 'https://offchainlabs.com/',\n    explorer: 'https://arbiscan.io/',\n    infoLink: 'https://info.uniswap.org/#/arbitrum',\n    label: 'Arbitrum',\n    logoUrl: arbitrumLogoUrl,\n    nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },\n    rpcUrls: ['https://arb1.arbitrum.io/rpc'],\n  },\n  [SupportedChainId.ARBITRUM_RINKEBY]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://bridge.arbitrum.io/',\n    docs: 'https://offchainlabs.com/',\n    explorer: 'https://rinkeby-explorer.arbitrum.io/',\n    infoLink: 'https://info.uniswap.org/#/arbitrum/',\n    label: 'Arbitrum Rinkeby',\n    logoUrl: arbitrumLogoUrl,\n    nativeCurrency: { name: 'Rinkeby ArbETH', symbol: 'rinkArbETH', decimals: 18 },\n    rpcUrls: ['https://rinkeby.arbitrum.io/rpc'],\n  }, */\n  [SupportedChainId.MAINNET]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://gnosis-protocol.io/mainnet',\n    infoLink: '',\n    label: 'Ethereum',\n    logoUrl: EthereumLogo, // mod\n    nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 }\n  },\n  [SupportedChainId.RINKEBY]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://gnosis-protocol.io/rinkeby',\n    infoLink: '',\n    label: 'Rinkeby',\n    nativeCurrency: { name: 'Rinkeby ETH', symbol: 'rinkETH', decimals: 18 },\n    logoUrl: RinkebyLogo // mod\n  },\n  /* [SupportedChainId.ROPSTEN]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://ropsten.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/',\n    label: 'Ropsten',\n    nativeCurrency: { name: 'Ropsten ETH', symbol: 'ropETH', decimals: 18 },\n  },\n  [SupportedChainId.KOVAN]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://kovan.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/',\n    label: 'Kovan',\n    nativeCurrency: { name: 'Kovan ETH', symbol: 'kovETH', decimals: 18 },\n  },\n  [SupportedChainId.GOERLI]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://goerli.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/',\n    label: 'Görli',\n    nativeCurrency: { name: 'Görli ETH', symbol: 'görETH', decimals: 18 },\n  },\n  [SupportedChainId.OPTIMISM]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://gateway.optimism.io/',\n    docs: 'https://optimism.io/',\n    explorer: 'https://optimistic.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/optimism',\n    label: 'OΞ',\n    logoUrl: optimismLogoUrl,\n    nativeCurrency: { name: 'Optimistic ETH', symbol: 'ETH', decimals: 18 },\n    rpcUrls: ['https://mainnet.optimism.io'],\n    statusPage: 'https://optimism.io/status',\n  },\n  [SupportedChainId.OPTIMISTIC_KOVAN]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://gateway.optimism.io/',\n    docs: 'https://optimism.io/',\n    explorer: 'https://optimistic.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/optimism',\n    label: 'Optimistic Kovan',\n    rpcUrls: ['https://kovan.optimism.io'],\n    logoUrl: optimismLogoUrl,\n    nativeCurrency: { name: 'Optimistic kovETH', symbol: 'kovOpETH', decimals: 18 },\n    statusPage: 'https://optimism.io/status',\n  }, */\n  [SupportedChainId.XDAI]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://blockscout.com/xdai/mainnet/  ',\n    infoLink: '',\n    label: 'Gnosis Chain',\n    logoUrl: GnosisChainLogo, // mod\n    nativeCurrency: { name: 'xDai', symbol: 'XDAI', decimals: 18 }\n  }\n}\n\nexport const NETWORK_LABELS: { [chainId in SupportedChainId | number]: string } = {\n  [SupportedChainId.MAINNET]: 'Ethereum',\n  [SupportedChainId.RINKEBY]: 'Rinkeby',\n  [SupportedChainId.XDAI]: 'Gnosis Chain' // mod\n  // [SupportedChainId.ROPSTEN]: 'Ropsten',\n  // [SupportedChainId.GOERLI]: 'Görli',\n  // [SupportedChainId.KOVAN]: 'Kovan',\n  // [SupportedChainId.ARBITRUM_KOVAN]: 'kArbitrum',\n  // [SupportedChainId.ARBITRUM_ONE]: 'Arbitrum One',\n}\n","export default __webpack_public_path__ + \"static/media/network-mainnet-logo.ccc77767.svg\";","export default __webpack_public_path__ + \"static/media/network-rinkeby-logo.16c794f3.svg\";","export default __webpack_public_path__ + \"static/media/network-gnosis-chain-logo.2c5a4968.svg\";","import { Token, WETH9 } from '@uniswap/sdk-core'\nimport { SupportedChainId } from './chains'\n\nexport const WETH_LOGO_URI =\n  'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png'\nexport const XDAI_LOGO_URI =\n  'https://raw.githubusercontent.com/1Hive/default-token-list/master/src/assets/xdai/0xe91d153e0b41518a2ce8dd3d7944fa863463a97d/logo.png'\n\n// Gnosis Chain\nexport const XDAI_SYMBOL = 'XDAI'\nexport const XDAI_NAME = 'xDai'\nexport const WXDAI = new Token(\n  SupportedChainId.XDAI,\n  '0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d',\n  18,\n  'WXDAI',\n  'Wrapped XDAI'\n)\n\nexport const WETH9_EXTENDED: { [chainId: number]: Token } = {\n  ...WETH9,\n  [SupportedChainId.XDAI]: WXDAI\n}\n","import { SupportedChainId } from '.'\nimport { constructSameAddressMap } from 'blockchain/utils/constructSameAddressMap'\n\nexport type AddressMap = { [chainId: number]: string }\n\nexport const ARGENT_WALLET_DETECTOR_ADDRESS: AddressMap = {\n  [SupportedChainId.MAINNET]: '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8'\n}\n\nexport const ENS_REGISTRAR_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.RINKEBY]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\n}\n\nexport const MULTICALL_ADDRESS: AddressMap = {\n  ...constructSameAddressMap('0x1F98415757620B543A52E61c46B32eB19261F984'),\n  [SupportedChainId.XDAI]: '0x0f41c16b8ad27c11f181eca85f0941868c1297af'\n}\n","import { L1_CHAIN_IDS, SupportedChainId } from 'blockchain/constants/chains'\n\nexport function constructSameAddressMap<T extends string>(\n  address: T,\n  additionalNetworks: SupportedChainId[] = []\n): { [chainId: number]: T } {\n  return (L1_CHAIN_IDS as readonly SupportedChainId[])\n    .concat(additionalNetworks)\n    .reduce<{ [chainId: number]: T }>((memo, chainId) => {\n      memo[chainId] = address\n      return memo\n    }, {})\n}\n","import { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\nimport { SupportedChainId as ChainId } from 'blockchain/constants/chains'\n\nexport const OVERLAY_READY = 'OVERLAY_READY'\n\ntype FormaticSupportedChains = Extract<ChainId, ChainId.MAINNET | ChainId.RINKEBY>\n\nconst CHAIN_ID_NETWORK_ARGUMENT: { readonly [chainId in FormaticSupportedChains]: string | undefined } = {\n  [ChainId.MAINNET]: undefined,\n  [ChainId.RINKEBY]: 'rinkeby'\n}\n\nexport class FortmaticConnector extends FortmaticConnectorCore {\n  async activate() {\n    if (!this.fortmatic) {\n      const { default: Fortmatic } = await import('fortmatic')\n\n      const { apiKey, chainId } = this as any\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\n      } else {\n        throw new Error(`Unsupported network ID: ${chainId}`)\n      }\n    }\n\n    const provider = this.fortmatic.getProvider()\n\n    const pollForOverlayReady = new Promise(resolve => {\n      const interval = setInterval(() => {\n        if (provider.overlayReady) {\n          clearInterval(interval)\n          this.emit(OVERLAY_READY)\n          resolve('Resolved!')\n        }\n      }, 200)\n    })\n\n    const [account] = await Promise.all([\n      provider.enable().then((accounts: string[]) => accounts[0]),\n      pollForOverlayReady\n    ])\n\n    return { provider: this.fortmatic.getProvider(), chainId: (this as any).chainId, account }\n  }\n}\n","import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport invariant from 'tiny-invariant'\n\ninterface NetworkConnectorArguments {\n  urls: { [chainId: number]: string }\n  defaultChainId?: number\n}\n\n// taken from ethers.js, compatible interface with web3 provider\ntype AsyncSendable = {\n  isMetaMask?: boolean\n  host?: string\n  path?: string\n  sendAsync?: (request: any, callback: (error: any, response: any) => void) => void\n  send?: (request: any, callback: (error: any, response: any) => void) => void\n}\n\nclass RequestError extends Error {\n  constructor(message: string, public code: number, public data?: unknown) {\n    super(message)\n  }\n}\n\ninterface BatchItem {\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\n  resolve: (result: any) => void\n  reject: (error: Error) => void\n}\n\nclass MiniRpcProvider implements AsyncSendable {\n  public readonly isMetaMask: false = false\n  public readonly chainId: number\n  public readonly url: string\n  public readonly host: string\n  public readonly path: string\n  public readonly batchWaitTimeMs: number\n\n  private nextId = 1\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\n  private batch: BatchItem[] = []\n\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\n    this.chainId = chainId\n    this.url = url\n    const parsed = new URL(url)\n    this.host = parsed.host\n    this.path = parsed.pathname\n    // how long to wait to batch calls\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\n  }\n\n  public readonly clearBatch = async () => {\n    console.debug('Clearing batch', this.batch)\n    const batch = this.batch\n    this.batch = []\n    this.batchTimeoutId = null\n    let response: Response\n    try {\n      response = await fetch(this.url, {\n        method: 'POST',\n        headers: { 'content-type': 'application/json', accept: 'application/json' },\n        body: JSON.stringify(batch.map(item => item.request))\n      })\n    } catch (error) {\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\n      return\n    }\n\n    if (!response.ok) {\n      // batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\n      return\n    }\n\n    let json\n    try {\n      json = await response.json()\n    } catch (error) {\n      // batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\n      return\n    }\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\n      memo[current.request.id] = current\n      return memo\n    }, {})\n    for (const result of json) {\n      const {\n        resolve,\n        reject,\n        request: { method }\n      } = byKey[result.id]\n      if (resolve) {\n        if ('error' in result) {\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\n        } else if ('result' in result) {\n          resolve(result.result)\n        } else {\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\n        }\n      }\n    }\n  }\n\n  public readonly sendAsync = (\n    request: { jsonrpc: '2.0'; id: number | string | null; method: string; params?: unknown[] | Record<any, any> },\n    callback: (error: any, response: any) => void\n  ): void => {\n    this.request(request.method, request.params)\n      .then(result => callback(null, { jsonrpc: '2.0', id: request.id, result }))\n      .catch(error => callback(error, null))\n  }\n\n  public readonly request = async (\n    method: string | { method: string; params: unknown[] },\n    params?: unknown[] | Record<any, any>\n  ): Promise<unknown> => {\n    if (typeof method !== 'string') {\n      return this.request(method.method, method.params)\n    }\n    if (method === 'eth_chainId') {\n      return `0x${this.chainId.toString(16)}`\n    }\n    const promise = new Promise((resolve, reject) => {\n      this.batch.push({\n        request: {\n          jsonrpc: '2.0',\n          id: this.nextId++,\n          method,\n          params\n        },\n        resolve,\n        reject\n      })\n    })\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\n    return promise\n  }\n}\n\nexport class NetworkConnector extends AbstractConnector {\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\n  private currentChainId: number\n\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\n    super({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) })\n\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\n    this.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\n      return accumulator\n    }, {})\n  }\n\n  public get provider(): MiniRpcProvider {\n    return this.providers[this.currentChainId]\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    return { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null }\n  }\n\n  public async getProvider(): Promise<MiniRpcProvider> {\n    return this.providers[this.currentChainId]\n  }\n\n  public async getChainId(): Promise<number> {\n    return this.currentChainId\n  }\n\n  public async getAccount(): Promise<null> {\n    return null\n  }\n\n  public deactivate() {\n    return\n  }\n}\n","import { Web3Provider } from '@ethersproject/providers'\nimport { PortisConnector } from '@web3-react/portis-connector'\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport { WalletLinkConnector } from '@web3-react/walletlink-connector'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\n\nimport { FortmaticConnector } from './Fortmatic'\nimport { NetworkConnector } from './NetworkConnector'\n\nconst INFURA_KEY = process.env.REACT_APP_INFURA_KEY\n\nif (typeof INFURA_KEY === 'undefined') {\n  throw new Error(`REACT_APP_INFURA_KEY must be a defined environment variable`)\n}\n\nexport const WALLET_CONNECT_BRIDGE = process.env.WALLET_CONNECT_BRIDGE || 'wss://safe-walletconnect.gnosis.io'\n\ntype RpcNetworks = { [chainId: number]: string }\n\nexport function getSupportedChainIds(): number[] {\n  const supportedChainIdsEnv = process.env.REACT_APP_SUPPORTED_CHAIN_IDS\n\n  if (!supportedChainIdsEnv) {\n    throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\n  }\n\n  const chainIds = supportedChainIdsEnv.split(',').map(chainId => Number(chainId.trim()))\n\n  return chainIds\n}\n\nfunction getRpcNetworks(): [RpcNetworks, number[]] {\n  const defaultChainId = parseInt(process.env.REACT_APP_CHAIN_ID ?? '1')\n\n  // Get list of supported chains\n  const chainIds = getSupportedChainIds()\n  if (chainIds.length === 0) {\n    throw new Error(`At least one network should be supported. REACT_APP_CHAIN_ID`)\n  }\n\n  // Make sure the default chain is in the list of supported chains\n  if (!chainIds.includes(defaultChainId)) {\n    throw new Error(\n      `The default chain id (${defaultChainId}) must be part of the list of supported networks: ${chainIds.join(', ')}`\n    )\n  }\n\n  // Return rpc urls per network\n  const rpcNetworks = chainIds.reduce<RpcNetworks>((acc, chainId) => {\n    const url = process.env['REACT_APP_NETWORK_URL_' + chainId]\n\n    if (!url) {\n      throw new Error(\n        `Network ${chainId} is supported, however 'REACT_APP_NETWORK_URL_${chainId} environment variable was not defined`\n      )\n    }\n\n    acc[chainId] = url\n\n    return acc\n  }, {})\n\n  // Get chainIds (excluding the NETWORK_CHAIN_ID)\n  // Reason: By convention we will return NETWORK_CHAIN_ID as the first element in the supported networks\n  const otherChainIds = Object.keys(rpcNetworks)\n    .map(Number)\n    .filter(networkId => networkId !== defaultChainId)\n  const supportedChainIds = [defaultChainId, ...otherChainIds]\n\n  return [rpcNetworks, supportedChainIds]\n}\n\nconst [rpcNetworks, supportedChainIds] = getRpcNetworks()\nexport const NETWORK_CHAIN_ID = supportedChainIds[0]\n\nexport const network = new NetworkConnector({\n  urls: rpcNetworks,\n  defaultChainId: NETWORK_CHAIN_ID\n})\n\nlet networkLibrary: Web3Provider | undefined\nexport function getNetworkLibrary(): Web3Provider {\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any))\n}\n\nexport const injected = new InjectedConnector({ supportedChainIds })\n\n// mainnet only\nexport const walletconnect = new WalletConnectConnector({\n  rpc: rpcNetworks,\n  bridge: WALLET_CONNECT_BRIDGE,\n  qrcode: true\n})\n\n// mainnet only\nexport const fortmatic = new FortmaticConnector({\n  apiKey: process.env.REACT_APP_FORTMATIC_KEY ?? '',\n  chainId: NETWORK_CHAIN_ID\n})\n\n// mainnet only\nexport const portis = new PortisConnector({\n  dAppId: process.env.REACT_APP_PORTIS_ID ?? '',\n  // TODO: Allow to configure multiple networks in portis\n  // networks: supportedChainIds\n  networks: [NETWORK_CHAIN_ID]\n})\n\n// mainnet only\nexport const walletlink = new WalletLinkConnector({\n  url: rpcNetworks[NETWORK_CHAIN_ID],\n  appName: 'CowSwap',\n  appLogoUrl: 'https://raw.githubusercontent.com/gnosis/gp-swap-ui/develop/public/favicon.png'\n})\n\nexport enum WalletProvider {\n  INJECTED = 'INJECTED',\n  WALLET_CONNECT = 'WALLET_CONNECT',\n  FORMATIC = 'FORMATIC',\n  PORTIS = 'PORTIS',\n  WALLET_LINK = 'WALLET_LINK'\n}\n\nexport function getProviderType(connector: AbstractConnector | undefined): WalletProvider | undefined {\n  if (!connector) {\n    return undefined\n  }\n\n  switch (connector) {\n    case injected:\n      return WalletProvider.INJECTED\n\n    case walletconnect:\n      return WalletProvider.WALLET_CONNECT\n\n    case fortmatic:\n      return WalletProvider.FORMATIC\n\n    case portis:\n      return WalletProvider.PORTIS\n\n    case walletlink:\n      return WalletProvider.WALLET_LINK\n\n    default:\n      return undefined\n  }\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../connectors'\n\nexport interface WalletInfo {\n  connector?: AbstractConnector\n  name: string\n  iconName: string\n  description: string\n  href: string | null\n  color: string\n  primary?: true\n  mobile?: true\n  mobileOnly?: true\n}\n\n// last wallet provider key used in local storage\nexport const STORAGE_KEY_LAST_PROVIDER = 'lastProvider'\n\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n  INJECTED: {\n    connector: injected,\n    name: 'Injected',\n    iconName: 'arrow-right.svg',\n    description: 'Injected web3 provider.',\n    href: null,\n    color: '#010101',\n    primary: true\n  },\n  METAMASK: {\n    connector: injected,\n    name: 'MetaMask',\n    iconName: 'metamask.png',\n    description: 'Easy-to-use browser extension.',\n    href: null,\n    color: '#E8831D'\n  },\n  WALLET_CONNECT: {\n    connector: walletconnect,\n    name: 'WalletConnect',\n    iconName: 'walletConnectIcon.svg',\n    description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\n    href: null,\n    color: '#4196FC',\n    mobile: true\n  },\n  WALLET_LINK: {\n    connector: walletlink,\n    name: 'Coinbase Wallet',\n    iconName: 'coinbaseWalletIcon.svg',\n    description: 'Use Coinbase Wallet app on mobile device',\n    href: null,\n    color: '#315CF5'\n  },\n  COINBASE_LINK: {\n    name: 'Open in Coinbase Wallet',\n    iconName: 'coinbaseWalletIcon.svg',\n    description: 'Open in Coinbase Wallet app.',\n    href: 'https://go.cb-w.com/mtUDhEZPy1',\n    color: '#315CF5',\n    mobile: true,\n    mobileOnly: true\n  },\n  FORTMATIC: {\n    connector: fortmatic,\n    name: 'Fortmatic',\n    iconName: 'fortmaticIcon.png',\n    description: 'Login using Fortmatic hosted wallet',\n    href: null,\n    color: '#6748FF',\n    mobile: true\n  },\n  Portis: {\n    connector: portis,\n    name: 'Portis',\n    iconName: 'portisIcon.png',\n    description: 'Login using Portis hosted wallet',\n    href: null,\n    color: '#4A6C9B',\n    mobile: true\n  }\n}\n\nexport const NetworkContextName = 'NETWORK'\n// Smart contract wallets are filtered out by default, no need to add them to this list\nexport const UNSUPPORTED_WC_WALLETS = new Set(['DeFi Wallet', 'WallETH'])\n","import { Web3Provider } from '@ethersproject/providers'\n\nexport default function getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider, 'any')\n  library.pollingInterval = 15000\n  return library\n}\n","export type Color = string\nexport interface Colors {\n  // base\n  white: Color\n  black: Color\n\n  // text\n  text1: Color\n  text2: Color\n  text3: Color\n  text4: Color\n  text5: Color\n  textDisabled: Color\n\n  // backgrounds / greys\n  bg1: Color\n  bg2: Color\n  bg3: Color\n  bg4: Color\n  bg5: Color\n  bgDisabled: Color\n\n  modalBG: Color\n  advancedBG: Color\n\n  //blues\n  primary1: Color\n  primary2: Color\n  primary3: Color\n  primary4: Color\n  primary5: Color\n\n  primaryText1: Color\n\n  // pinks\n  secondary1: Color\n  secondary2: Color\n  secondary3: Color\n\n  // other\n  red1: Color\n  red2: Color\n  green1: Color\n  green2: Color\n  yellow1: Color\n  yellow2: Color\n  blue1: Color\n}\n\nexport enum ThemeModes {\n  DARK = 'DARK',\n  LIGHT = 'LIGHT',\n  // add whatever themes u want here...\n  GULF = 'GULF'\n}\n\nexport type Theme = {\n  mode: ThemeModes\n  autoDetect: boolean\n}\n\nexport const THEME_LIST = Object.entries(ThemeModes)\n\ndeclare module 'styled-components' {\n  export interface DefaultTheme extends Colors {\n    // theming\n    mode: ThemeModes\n    buttons: {\n      font: {\n        size: {\n          small: string\n          normal: string\n          large: string\n        }\n      }\n      borderRadius: string\n      border: string\n    }\n    // shadows\n    shadow1: string\n\n    // media queries\n    mediaWidth: {\n      upToExtraSmall: ThemedCssFunction<DefaultTheme>\n      upToSmall: ThemedCssFunction<DefaultTheme>\n      upToMedium: ThemedCssFunction<DefaultTheme>\n      upToLarge: ThemedCssFunction<DefaultTheme>\n    }\n\n    // css snippets\n    flexColumnNoWrap: FlattenSimpleInterpolation\n    flexRowNoWrap: FlattenSimpleInterpolation\n  }\n}\n","import { createAction } from '@reduxjs/toolkit'\nimport { ThemeModes } from 'theme/styled'\n\nexport const updateThemeMode = createAction<ThemeModes>('user/updateThemeMode')\nexport const updateThemeAutoDetect = createAction<boolean>('user/updateThemeAutoDetect')\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { AppDispatch, AppState } from 'state'\nimport { Theme, ThemeModes } from 'theme/styled'\nimport { updateThemeAutoDetect, updateThemeMode } from './actions'\n\nexport const useAppColourTheme = (): Theme => useSelector<AppState, Theme>(({ user }) => user.theme)\n\ninterface ThemeManager {\n  theme: Theme\n  setMode: (mode: ThemeModes) => void\n  setAutoDetect: (autoDetect: boolean) => void\n}\n\nexport function useThemeManager(): ThemeManager {\n  const dispatch = useDispatch<AppDispatch>()\n  const theme = useAppColourTheme()\n\n  const setMode = useCallback(\n    (mode: ThemeModes) => {\n      dispatch(updateThemeMode(mode))\n    },\n    [dispatch]\n  )\n\n  const setAutoDetect = useCallback(\n    (autoDetect: boolean) => {\n      dispatch(updateThemeAutoDetect(autoDetect))\n    },\n    [dispatch]\n  )\n\n  return { theme, setMode, setAutoDetect }\n}\n","export const DEFAULT_COLOURS = {\n  // base\n  black: '#000',\n  // off white\n  white: '#e5e5e5',\n  whiteDark: '#e9e9f0',\n  red1: '#FF6871',\n  red2: '#200202',\n  green1: '#09371d',\n  green2: '#a9ffcd',\n  yellow1: '#FFE270',\n  yellow2: '#F3841E',\n  blue1: '#2172E5',\n  blue: '#3F77FF',\n  blueDark: '#185afb',\n  purple: '#8958FF',\n  bgLight: '#edf2f7',\n  bgDark: 'linear-gradient(0deg, #21222E 0.05%, #2C2D3F 100%)',\n  blackLight: '#181a1b',\n  successLight: '#5ca95c',\n  successDark: '#00BE2E',\n  dangerLight: '#e55353',\n  dangerDark: '#eb4025',\n  warningLight: '#f1851d',\n  warningDark: '#f1851d',\n  bgDisabled: '#8a8a8a80',\n  disabledDarkOpaque: '#ffffff80',\n  textDisabled: '#31323E',\n  disabledDark: '#31323E',\n  mainGradient: 'linear-gradient(270deg, #8958FF 0%, #3F77FF 100%)',\n  mainGradientDarker: 'linear-gradient(270deg, #6a2cff 0%, #185afb 100%)'\n}\nexport const LIGHT_COLOURS = {\n  // text\n  text1: '#000000',\n  text2: '#565A69',\n  text3: '#888D9B',\n  text4: '#C3C5CB',\n  text5: '#EDEEF2',\n\n  // backgrounds / greys\n  bg1: '#ffc1ff',\n  bg2: '#F7F8FA',\n  bg3: '#C1FFC1',\n  bg4: '#00a400',\n  bg5: '#888D9B',\n\n  //specialty colors\n  modalBG: 'rgba(0,0,0,0.3)',\n  advancedBG: 'rgba(255,255,255,0.6)',\n\n  //primary colors\n  primary1: '#ff007a',\n  primary2: '#FF8CC3',\n  primary3: '#FF99C9',\n  primary4: '#F6DDE8',\n  primary5: '#FDEAF1',\n\n  // color text\n  primaryText1: '#ff007a',\n\n  // secondary colors\n  secondary1: '#ff007a',\n  secondary2: '#F6DDE8',\n  secondary3: '#FDEAF1'\n}\n\nexport const DARK_COLOURS = {\n  // text\n  text1: '#FFFFFF',\n  text2: '#C3C5CB',\n  text3: '#6C7284',\n  text4: '#565A69',\n  text5: '#2C2F36',\n\n  // backgrounds / greys\n  bg1: '#212429',\n  bg2: '#2C2F36',\n  bg3: '#40444F',\n  bg4: '#565A69',\n  bg5: '#6C7284',\n\n  //specialty colors\n  modalBG: 'rgba(0,0,0,.425)',\n  advancedBG: 'rgba(0,0,0,0.1)',\n\n  //primary colors\n  primary1: '#2172E5',\n  primary2: '#3680E7',\n  primary3: '#4D8FEA',\n  primary4: '#376bad70',\n  primary5: '#153d6f70',\n\n  // color text\n  primaryText1: '#6da8ff',\n\n  // secondary colors\n  secondary1: '#2172E5',\n  secondary2: '#17000b26',\n  secondary3: '#17000b26'\n}\n\nexport const GULF_COLOURS = {\n  ...LIGHT_COLOURS,\n  bg1: '#b0e0e6',\n  bg2: '#7dbbcd',\n  bg3: '#d4946f'\n}\n","import { DefaultTheme, FlattenSimpleInterpolation, css } from 'styled-components/macro'\n\nimport { LIGHT_COLOURS, DARK_COLOURS, DEFAULT_COLOURS, GULF_COLOURS } from './styles'\nimport { ThemeModes, Colors } from './styled'\n\nexport function getThemeColours(colourTheme: ThemeModes): Colors {\n  let THEME_COLOURS = LIGHT_COLOURS\n\n  switch (colourTheme) {\n    case ThemeModes.LIGHT:\n      THEME_COLOURS = LIGHT_COLOURS\n      break\n    case ThemeModes.DARK:\n      THEME_COLOURS = DARK_COLOURS\n      break\n    case ThemeModes.GULF:\n      THEME_COLOURS = GULF_COLOURS\n      break\n  }\n  return {\n    ...DEFAULT_COLOURS,\n    ...THEME_COLOURS\n  }\n}\n\ninterface ThemeProps {\n  theme: DefaultTheme\n}\n\nexport const setBgColour = (themeColour: keyof Colors) => ({ theme }: ThemeProps): FlattenSimpleInterpolation =>\n  css`\n    background-color: ${theme[themeColour]};\n  `\n\nexport const setTextColour = (themeColour: keyof Colors) => ({ theme }: ThemeProps): FlattenSimpleInterpolation =>\n  css`\n    color: ${theme[themeColour]};\n  `\n","import { ThemedCssFunction, DefaultTheme, CSSObject, FlattenSimpleInterpolation, css } from 'styled-components/macro'\n\nexport const MEDIA_WIDTHS = {\n  upToExtraSmall: 500,\n  upToSmall: 720,\n  upToMedium: 960,\n  upToLarge: 1280\n}\n\ntype MediaWidthKeys = keyof typeof MEDIA_WIDTHS\n\ntype MediaWidth = {\n  [key in MediaWidthKeys]: ThemedCssFunction<DefaultTheme>\n}\n\nexport const mediaWidthTemplates = Object.keys(MEDIA_WIDTHS).reduce<MediaWidth>((accumulator, size: unknown) => {\n  ;(accumulator[size as MediaWidthKeys] as unknown) = (\n    a: CSSObject,\n    b: CSSObject,\n    c: CSSObject\n  ): ThemedCssFunction<DefaultTheme> | FlattenSimpleInterpolation => css`\n    @media (max-width: ${MEDIA_WIDTHS[size as MediaWidthKeys]}px) {\n      ${css(a, b, c)}\n    }\n  `\n  return accumulator\n}, {} as MediaWidth)\n","import { HTMLProps, useCallback } from 'react'\nimport ReactGA from 'react-ga'\nimport { Link } from 'react-router-dom'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { darken } from 'polished'\nimport { ArrowLeft, X } from 'react-feather'\n\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\n  backgroundColor: warning ? theme.red1 : theme.primary1\n}))`\n  padding: 1rem 2rem 1rem 2rem;\n  border-radius: 3rem;\n  cursor: pointer;\n  user-select: none;\n  font-size: 1rem;\n  border: none;\n  outline: none;\n  background-color: ${({ backgroundColor }) => backgroundColor};\n  color: ${({ theme }) => theme.white};\n  width: 100%;\n\n  :hover,\n  :focus {\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\n  }\n\n  :active {\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\n  }\n\n  :disabled {\n    background-color: ${({ theme }) => theme.bg1};\n    color: ${({ theme }) => theme.text4};\n    cursor: auto;\n  }\n`\n\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\n  cursor: pointer;\n`\n\n// A button that triggers some onClick result, but looks like a link.\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\n  border: none;\n  text-decoration: none;\n  background: none;\n\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  color: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\n// An internal link from the react-router-dom library that is correctly styled\nexport const StyledInternalLink = styled(Link)`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nconst StyledLink = styled.a`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nconst rotateImg = keyframes`\n  0% {\n    transform: perspective(1000px) rotateY(0deg);\n  }\n\n  100% {\n    transform: perspective(1000px) rotateY(360deg);\n  }\n`\n\nexport const UniTokenAnimated = styled.img`\n  animation: ${rotateImg} 5s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  padding: 2rem 0 0 0;\n  filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15));\n`\n\n/**\n * Outbound link that handles firing google analytics events\n */\nexport function ExternalLink({\n  target = '_blank',\n  href,\n  rel = 'noopener noreferrer',\n  ...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\n      // don't prevent default, don't redirect if it's a new tab\n      if (target === '_blank' || event.ctrlKey || event.metaKey) {\n        ReactGA.outboundLink({ label: href }, () => {\n          console.debug('Fired outbound link event', href)\n        })\n      } else {\n        event.preventDefault()\n        // send a ReactGA event and then trigger a location change\n        ReactGA.outboundLink({ label: href }, () => {\n          window.location.href = href\n        })\n      }\n    },\n    [href, target]\n  )\n  return <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Spinner = styled.img`\n  animation: 2s ${rotate} linear infinite;\n  width: 16px;\n  height: 16px;\n`\n\nconst BackArrowLink = styled(StyledInternalLink)`\n  color: ${({ theme }) => theme.text1};\n`\nexport function BackArrow({ to }: { to: string }) {\n  return (\n    <BackArrowLink to={to}>\n      <ArrowLeft />\n    </BackArrowLink>\n  )\n}\n\nexport const CustomLightSpinner = styled(Spinner)<{ size: string }>`\n  height: ${({ size }) => size};\n  width: ${({ size }) => size};\n`\n\nexport const HideSmall = styled.span`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n","import styled, { css, FlattenInterpolation, ThemeProps, DefaultTheme } from 'styled-components/macro'\nimport { variants } from 'styled-theming'\nimport ThemeProvider from 'theme'\n\nimport { darken } from 'polished'\nimport { THEME_LIST, ThemeModes } from 'theme/styled'\n\nexport type Writable<T> = {\n  -readonly [K in keyof T]: T[K]\n}\n\nexport interface ButtonBaseProps extends React.ButtonHTMLAttributes<Element> {\n  variant?: ButtonVariations\n  size?: ButtonSizeVariations\n}\n\nexport enum ButtonVariations {\n  DEFAULT = 'DEFAULT',\n  PRIMARY = 'PRIMARY',\n  SECONDARY = 'SECONDARY',\n  DANGER = 'DANGER',\n  SUCCESS = 'SUCCESS',\n  WARNING = 'WARNING',\n  CANCEL = 'CANCEL',\n  DISABLED = 'DISABLED',\n  THEME = 'THEME'\n}\n\nexport enum ButtonSizeVariations {\n  DEFAULT = 'DEFAULT',\n  SMALL = 'SMALL',\n  BIG = 'BIG'\n}\n\n// Aliases\nexport const BV = ButtonVariations\nexport const BSV = ButtonSizeVariations\n\nconst BUTTON_VARIATION_LIST = Object.entries(ButtonVariations)\n\nconst DEFAULT_DARKEN_AMOUNT = 0.2\n\nconst PRIMARY_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text1};\n  background: ${({ theme }): string => theme.bg1};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg1)};\n  }\n`\n\nconst SECONDARY_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text1};\n  background: ${({ theme }): string => theme.bg3};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg3)};\n  }\n`\n\nconst DANGER_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.red1};\n  background: ${({ theme }): string => theme.red2};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.red2)};\n    border-color: ${({ theme }): string => theme.red1};\n  }\n`\n\nconst SUCCESS_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.green1};\n  background: ${({ theme }): string => theme.green2};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.green2)};\n    border-color: ${({ theme }): string => theme.green1};\n  }\n`\n\nconst WARNING_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.yellow1};\n  background: ${({ theme }): string => theme.yellow2};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.yellow2)};\n    border-color: ${({ theme }): string => theme.yellow1};\n  }\n`\n\nconst CANCEL_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text3};\n  background: ${({ theme }): string => theme.bg1};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg1)};\n    border-color: ${({ theme }): string => theme.text3};\n  }\n`\n\nconst DISABLED_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.textDisabled};\n  background: ${({ theme }): string => theme.bgDisabled};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bgDisabled)};\n    border-color: ${({ theme }): string => theme.textDisabled};\n  }\n`\n\nconst THEME_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text1};\n  background: ${({ theme }): string => theme.bg1};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg1)};\n    border-color: ${({ theme }): string => theme.text1};\n  }\n`\n\ntype ButtonVariationInterpolationObject = {\n  [key in keyof typeof ButtonVariations]: ThemeInterpolationObject\n}\n\ntype ThemeInterpolationObject = { [key in keyof typeof ThemeModes]: FlattenInterpolation<ThemeProps<DefaultTheme>> }\n\nconst ButtonThemeMap: Writable<ButtonVariationInterpolationObject> = BUTTON_VARIATION_LIST.reduce(\n  (accum, [, buttonVariant]) => {\n    // buttonStyle = 'secondary' or 'primary' etc style\n    let buttonStyle: FlattenInterpolation<ThemeProps<DefaultTheme>>\n\n    switch (buttonVariant) {\n      case ButtonVariations.DEFAULT:\n        buttonStyle = PRIMARY_BUTTON_STYLES\n        break\n      case ButtonVariations.PRIMARY:\n        buttonStyle = PRIMARY_BUTTON_STYLES\n        break\n      case ButtonVariations.SECONDARY:\n        buttonStyle = SECONDARY_BUTTON_STYLES\n        break\n      case ButtonVariations.DANGER:\n        buttonStyle = DANGER_BUTTON_STYLES\n        break\n      case ButtonVariations.SUCCESS:\n        buttonStyle = SUCCESS_BUTTON_STYLES\n        break\n      case ButtonVariations.WARNING:\n        buttonStyle = WARNING_BUTTON_STYLES\n        break\n      case ButtonVariations.CANCEL:\n        buttonStyle = CANCEL_BUTTON_STYLES\n        break\n      case ButtonVariations.DISABLED:\n        buttonStyle = DISABLED_BUTTON_STYLES\n        break\n      case ButtonVariations.THEME:\n        buttonStyle = THEME_BUTTON_STYLES\n        break\n    }\n\n    accum[buttonVariant] = THEME_LIST.reduce<Writable<ThemeInterpolationObject>>((accum2, [, themeName]) => {\n      // { 'LIGHT': css` ... `, 'DARK': css` ... `, ... }\n      accum2[themeName] = buttonStyle\n      return accum2\n    }, {} as ThemeInterpolationObject)\n\n    return accum\n  },\n  {} as Writable<ButtonVariationInterpolationObject>\n)\n\nexport const ButtonTheme = variants('mode', 'variant', ButtonThemeMap)\n\n// name of the key we will look for on our theme object\n// used to target buttons\nconst BUTTON_THEME_KEY = 'button'\n// Created a 'size' prop on buttons, default | small | big\nconst ButtonSizes = variants('component', 'size', {\n  DEFAULT: {\n    [BUTTON_THEME_KEY]: css`\n      font-size: ${({ theme }) => theme.buttons.font.size.normal};\n      padding: 0.5rem 1rem;\n    `\n  },\n  SMALL: {\n    [BUTTON_THEME_KEY]: css`\n      font-size: ${({ theme }) => theme.buttons.font.size.small};\n      padding: 0.3rem 1rem;\n    `\n  },\n  BIG: {\n    [BUTTON_THEME_KEY]: css`\n      font-size: ${({ theme }) => theme.buttons.font.size.large};\n      padding: 0.65rem 1.2rem;\n    `\n  }\n})\n\nconst ButtonBase = styled.button`\n  border: ${({ theme }) => theme.buttons.border};\n  border-radius: ${({ theme }) => theme.buttons.borderRadius};\n  cursor: pointer;\n  font-size: ${({ theme }) => theme.buttons.font.size.normal};\n  font-weight: 600;\n  outline: 0;\n\n  transition-duration: 0.2;\n  transition-timing-function: ease-in-out;\n  transition-property: color, background, border-color, opacity, margin;\n\n  &:disabled,\n  &[disabled] {\n    pointer-events: none;\n  }\n`\n\nconst ColouredButtonBase = styled(ButtonBase)`\n  /* Fold in theme css above */\n  ${ButtonTheme}\n`\n\nconst ColouredAndSizedButtonBase = styled(ColouredButtonBase)`\n  /* Fold in theme css above */\n  ${ButtonSizes}\n`\n\n// Wrap ColouredAndSizedButtonsBase in it's own ThemeProvider which takes the toplevel app theme\n// ThemeProvider and interpolate over it's props\nconst ThemeWrappedButtonBase: React.FC<React.ButtonHTMLAttributes<Element>> = ({ children, ...restProps }) => (\n  <ThemeProvider themeExtension={{ component: BUTTON_THEME_KEY }}>\n    <ColouredAndSizedButtonBase {...restProps}>{children}</ColouredAndSizedButtonBase>\n  </ThemeProvider>\n)\n\nexport default styled(ThemeWrappedButtonBase).attrs<ButtonBaseProps>(({ size = BSV.DEFAULT }) => ({\n  size\n}))<ButtonBaseProps>``\n","import { ReactElement, FC, useMemo, Children, isValidElement, cloneElement } from 'react'\nimport styled, { ThemeProvider as StyledComponentsThemeProvider, css, DefaultTheme } from 'styled-components/macro'\n\nimport { Text, TextProps } from 'rebass'\nimport { useAppColourTheme } from 'state/user/hooks'\nimport { ThemeModes, Colors } from './styled'\nimport { getThemeColours } from './utils'\nimport { mediaWidthTemplates as mediaWidth } from './styles/mediaQueries'\n\nexport * from './components'\n\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\n  color: ${({ color, theme }): string => (theme as never)[color]};\n`\n\nexport const TYPE = {\n  main(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"text2\" {...props} />\n  },\n  link(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"primary1\" {...props} />\n  },\n  black(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"black\" {...props} />\n  },\n  white(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"white\" {...props} />\n  },\n  body(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={400} fontSize={16} color=\"text1\" {...props} />\n  },\n  largeHeader(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={600} fontSize={24} {...props} />\n  },\n  mediumHeader(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} fontSize={20} {...props} />\n  },\n  subHeader(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={400} fontSize={14} {...props} />\n  },\n  small(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} fontSize={11} {...props} />\n  },\n  blue(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"primary1\" {...props} />\n  },\n  yellow(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"yellow1\" {...props} />\n  },\n  darkGray(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"text3\" {...props} />\n  },\n  gray(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"bg3\" {...props} />\n  },\n  italic(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} fontSize={12} fontStyle={'italic'} color=\"text2\" {...props} />\n  },\n  error({ error, ...props }: { error: boolean } & TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color={error ? 'red1' : 'text2'} {...props} />\n  }\n}\n\nconst DEFAULT_THEME: Partial<DefaultTheme> = {\n  buttons: {\n    font: {\n      size: {\n        small: '10px',\n        normal: '12px',\n        large: '16px'\n      }\n    },\n    borderRadius: '16px',\n    border: '0.1rem solid transparent'\n  },\n  // media queries\n  mediaWidth,\n  // css snippets\n  // can be used in components\n  // like: ${({ theme }) => theme.flexColumnNoWrap}\n  flexColumnNoWrap: css`\n    display: flex;\n    flex-flow: column nowrap;\n  `,\n  flexRowNoWrap: css`\n    display: flex;\n    flex-flow: row nowrap;\n  `\n}\n\n// Extension/override of styled-components' ThemeProvider but with our own constructed theme object\nconst ThemeProvider: FC<{ themeExtension?: any }> = ({ children, themeExtension }) => {\n  const { mode } = useAppColourTheme()\n\n  const themeObject = useMemo(() => {\n    const themeColours = getThemeColours(mode)\n\n    const computedTheme = {\n      // Compute the app colour pallette using the passed in colourTheme\n      ...themeColours,\n      // pass in defaults\n      ...DEFAULT_THEME,\n      mode,\n      //shadows\n      shadow1: mode === ThemeModes.DARK ? '#000' : '#2F80ED',\n      // unfold in any extensions\n      // for example to make big/small buttons -> see src/components/Button ThemeWrappedButtonBase\n      // to see it in action\n      ...themeExtension\n    }\n\n    return computedTheme\n  }, [mode, themeExtension])\n\n  return (\n    <StyledComponentsThemeProvider theme={themeObject}>\n      {Children.map(\n        children,\n        childWithTheme =>\n          // make sure child is a valid react element as children by default can be type string|null|number\n          isValidElement(childWithTheme) && cloneElement(childWithTheme, { theme: themeObject })\n      )}\n    </StyledComponentsThemeProvider>\n  )\n}\n\nexport default ThemeProvider\n","import { createSlice, nanoid, PayloadAction } from '@reduxjs/toolkit'\n\nexport type PopupContent = React.ReactNode\n\nexport enum ApplicationModal {\n  WALLET,\n  SETTINGS,\n  MENU\n}\n\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\n\nexport interface ApplicationState {\n  readonly popupList: PopupList\n  readonly openModal: ApplicationModal | null\n}\n\nconst initialState: ApplicationState = {\n  popupList: [],\n  openModal: null\n}\n\nconst applicationSlice = createSlice({\n  name: 'application',\n  initialState,\n  reducers: {\n    setOpenModal(state, action: PayloadAction<ApplicationModal | null>) {\n      state.openModal = action.payload\n    },\n    addPopup(\n      state,\n      {\n        payload: { content, key, removeAfterMs = 15000 }\n      }: PayloadAction<{ content: PopupContent; key?: string; removeAfterMs?: number }>\n    ) {\n      state.popupList = (key ? state.popupList.filter(popup => popup.key !== key) : state.popupList).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs\n        }\n      ])\n    },\n    removePopup(state, { payload: key }: PayloadAction<string>) {\n      state.popupList.forEach(p => {\n        if (p.key === key) {\n          p.show = false\n        }\n      })\n    }\n  }\n})\n\nexport const { setOpenModal, addPopup, removePopup } = applicationSlice.actions\nexport const application = applicationSlice.reducer\n","import styled from 'styled-components/macro'\nimport { CardProps, Text } from 'rebass'\nimport { Box } from 'rebass/styled-components'\n\nconst Card = styled(Box)<{ padding?: string; border?: string; borderRadius?: string }>`\n  width: 100%;\n  border-radius: 1.6rem;\n  padding: 1.25rem;\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\nexport default Card\n\nexport const LightCard = styled(Card)`\n  border: 1px solid ${({ theme }) => theme.bg2};\n  background-color: ${({ theme }) => theme.bg1};\n`\n\nexport const GreyCard = styled(Card)`\n  background-color: ${({ theme }) => theme.bg3};\n`\n\nexport const OutlineCard = styled(Card)`\n  border: 1px solid ${({ theme }) => theme.bg3};\n`\n\nexport const YellowCard = styled(Card)`\n  background-color: rgba(243, 132, 30, 0.05);\n  color: ${({ theme }) => theme.yellow2};\n  font-weight: 500;\n`\n\nexport const PinkCard = styled(Card)`\n  background-color: rgba(255, 0, 122, 0.03);\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n`\n\nconst BlueCardStyled = styled(Card)`\n  background-color: ${({ theme }) => theme.primary5};\n  color: ${({ theme }) => theme.primary1};\n  border-radius: 12px;\n  width: fit-content;\n`\n\nexport const BlueCard = ({ children, ...rest }: CardProps) => {\n  return (\n    <BlueCardStyled {...rest}>\n      <Text fontWeight={500} color=\"#2172E5\">\n        {children}\n      </Text>\n    </BlueCardStyled>\n  )\n}\n","import { TFC } from 'react'\nimport ThemeProvider from 'theme'\nimport Button, { BSV, BV } from '../Button'\nimport { LightCard } from '../Layout/Card'\n\nconst ThemeConsumer: TFC = ({ theme }) => {\n  if (!theme) return <div>No active theme detected.</div>\n\n  return (\n    <div>\n      <h1>Theme Manager</h1>\n      <h4>\n        Your current app theme is: <p style={{ fontSize: 'large' }}>{theme.mode}</p>\n      </h4>\n      <LightCard>{JSON.stringify(theme, null, 2)}</LightCard>\n      <br />\n      <Button variant={BV.PRIMARY}>Default Button Example</Button>{' '}\n      <Button size={BSV.BIG} variant={BV.SECONDARY}>\n        Big Button Example\n      </Button>{' '}\n      <Button size={BSV.SMALL} variant={BV.WARNING}>\n        Small Button Example\n      </Button>\n    </div>\n  )\n}\n\nconst ThemeViewer: React.FC = () => {\n  return (\n    <ThemeProvider>\n      <ThemeConsumer />\n    </ThemeProvider>\n  )\n}\n\nexport default ThemeViewer\n","import { createAction } from '@reduxjs/toolkit'\n\n// fired once when the app reloads but before the app renders\n// allows any updates to be applied to store data loaded from localStorage\nexport const updateVersion = createAction<void>('global/updateVersion')\n","import { createReducer } from '@reduxjs/toolkit'\nimport { Theme, ThemeModes } from 'theme/styled'\nimport { updateVersion } from 'state/global/actions'\nimport { updateThemeMode, updateThemeAutoDetect } from './actions'\n\nconst currentTimestamp = () => new Date().getTime()\n\nexport interface UserState {\n  theme: Theme\n  timestamp: number\n  // the timestamp of the last updateVersion action\n  lastUpdateVersionTimestamp?: number\n}\n\nexport const initialState: UserState = {\n  theme: {\n    mode: ThemeModes.DARK,\n    autoDetect: true\n  },\n  timestamp: currentTimestamp()\n}\n\nexport default createReducer(initialState, builder =>\n  builder\n    .addCase(updateVersion, state => {\n      state.lastUpdateVersionTimestamp = currentTimestamp()\n    })\n    .addCase(updateThemeMode, (state, action) => {\n      state.theme.mode = action.payload\n      state.timestamp = currentTimestamp()\n    })\n    .addCase(updateThemeAutoDetect, (state, action) => {\n      state.theme.autoDetect = action.payload\n      state.timestamp = currentTimestamp()\n    })\n)\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nexport interface BlockchainState {\n  readonly blockNumber: { readonly [chainId: number]: number }\n  readonly chainId: number | null\n  readonly chainConnectivityWarning: boolean\n  readonly implements3085: boolean\n}\n\nexport type BlockNumberState = {\n  chainId: number\n  blockNumber: number\n}\n\nconst initialState: BlockchainState = {\n  blockNumber: {},\n  chainId: null,\n  chainConnectivityWarning: false,\n  implements3085: false\n}\n\nconst blockchainSlice = createSlice({\n  name: 'blockchain',\n  initialState,\n  reducers: {\n    updateChainId(state, action: PayloadAction<number | null>) {\n      state.chainId = action.payload\n    },\n    updateBlockNumber(state, { payload: { chainId, blockNumber } }: PayloadAction<BlockNumberState>) {\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\n      }\n    },\n    setImplements3085(state, action: PayloadAction<boolean>) {\n      state.implements3085 = action.payload\n    },\n    setChainConnectivityWarning(state, action: PayloadAction<boolean>) {\n      state.chainConnectivityWarning = action.payload\n    }\n  }\n})\n\nexport const {\n  updateBlockNumber,\n  updateChainId,\n  setChainConnectivityWarning,\n  setImplements3085\n} = blockchainSlice.actions\nexport const blockchain = blockchainSlice.reducer\n","import { createAction } from '@reduxjs/toolkit'\nimport { Call } from './utils'\n\nexport interface ListenerOptions {\n  // how often this data should be fetched, by default 1\n  readonly blocksPerFetch: number\n}\n\nexport const addMulticallListeners = createAction<{ chainId: number; calls: Call[]; options: ListenerOptions }>(\n  'multicall/addMulticallListeners'\n)\nexport const removeMulticallListeners = createAction<{ chainId: number; calls: Call[]; options: ListenerOptions }>(\n  'multicall/removeMulticallListeners'\n)\nexport const fetchingMulticallResults = createAction<{ chainId: number; calls: Call[]; fetchingBlockNumber: number }>(\n  'multicall/fetchingMulticallResults'\n)\nexport const errorFetchingMulticallResults = createAction<{\n  chainId: number\n  calls: Call[]\n  fetchingBlockNumber: number\n}>('multicall/errorFetchingMulticallResults')\nexport const updateMulticallResults = createAction<{\n  chainId: number\n  blockNumber: number\n  results: {\n    [callKey: string]: string | null\n  }\n}>('multicall/updateMulticallResults')\n","export interface Call {\n  address: string\n  callData: string\n  gasRequired?: number\n}\n\nexport function toCallKey(call: Call): string {\n  let key = `${call.address}-${call.callData}`\n  if (call.gasRequired) {\n    if (!Number.isSafeInteger(call.gasRequired)) {\n      throw new Error(`Invalid number: ${call.gasRequired}`)\n    }\n    key += `-${call.gasRequired}`\n  }\n  return key\n}\n\nexport function parseCallKey(callKey: string): Call {\n  const pcs = callKey.split('-')\n  if (![2, 3].includes(pcs.length)) {\n    throw new Error(`Invalid call key: ${callKey}`)\n  }\n  return {\n    address: pcs[0],\n    callData: pcs[1],\n    ...(pcs[2] ? { gasRequired: Number.parseInt(pcs[2]) } : {})\n  }\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nimport {\n  addMulticallListeners,\n  errorFetchingMulticallResults,\n  fetchingMulticallResults,\n  removeMulticallListeners,\n  updateMulticallResults\n} from './actions'\nimport { toCallKey } from './utils'\n\nexport interface MulticallState {\n  callListeners?: {\n    // on a per-chain basis\n    [chainId: number]: {\n      // stores for each call key the listeners' preferences\n      [callKey: string]: {\n        // stores how many listeners there are per each blocks per fetch preference\n        [blocksPerFetch: number]: number\n      }\n    }\n  }\n\n  callResults: {\n    [chainId: number]: {\n      [callKey: string]: {\n        data?: string | null\n        blockNumber?: number\n        fetchingBlockNumber?: number\n      }\n    }\n  }\n}\n\nconst initialState: MulticallState = {\n  callResults: {}\n}\n\nexport const multicall = createReducer(initialState, builder =>\n  builder\n    .addCase(\n      addMulticallListeners,\n      (\n        state,\n        {\n          payload: {\n            calls,\n            chainId,\n            options: { blocksPerFetch }\n          }\n        }\n      ) => {\n        const listeners: MulticallState['callListeners'] = state.callListeners\n          ? state.callListeners\n          : (state.callListeners = {})\n        listeners[chainId] = listeners[chainId] ?? {}\n        calls.forEach(call => {\n          const callKey = toCallKey(call)\n          listeners[chainId][callKey] = listeners[chainId][callKey] ?? {}\n          listeners[chainId][callKey][blocksPerFetch] = (listeners[chainId][callKey][blocksPerFetch] ?? 0) + 1\n        })\n      }\n    )\n    .addCase(\n      removeMulticallListeners,\n      (\n        state,\n        {\n          payload: {\n            chainId,\n            calls,\n            options: { blocksPerFetch }\n          }\n        }\n      ) => {\n        const listeners: MulticallState['callListeners'] = state.callListeners\n          ? state.callListeners\n          : (state.callListeners = {})\n\n        if (!listeners[chainId]) return\n        calls.forEach(call => {\n          const callKey = toCallKey(call)\n          if (!listeners[chainId][callKey]) return\n          if (!listeners[chainId][callKey][blocksPerFetch]) return\n\n          if (listeners[chainId][callKey][blocksPerFetch] === 1) {\n            delete listeners[chainId][callKey][blocksPerFetch]\n          } else {\n            listeners[chainId][callKey][blocksPerFetch]--\n          }\n        })\n      }\n    )\n    .addCase(fetchingMulticallResults, (state, { payload: { chainId, fetchingBlockNumber, calls } }) => {\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\n      calls.forEach(call => {\n        const callKey = toCallKey(call)\n        const current = state.callResults[chainId][callKey]\n        if (!current) {\n          state.callResults[chainId][callKey] = {\n            fetchingBlockNumber\n          }\n        } else {\n          if ((current.fetchingBlockNumber ?? 0) >= fetchingBlockNumber) return\n          state.callResults[chainId][callKey].fetchingBlockNumber = fetchingBlockNumber\n        }\n      })\n    })\n    .addCase(errorFetchingMulticallResults, (state, { payload: { fetchingBlockNumber, chainId, calls } }) => {\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\n      calls.forEach(call => {\n        const callKey = toCallKey(call)\n        const current = state.callResults[chainId][callKey]\n        if (!current || typeof current.fetchingBlockNumber !== 'number') return // only should be dispatched if we are already fetching\n        if (current.fetchingBlockNumber <= fetchingBlockNumber) {\n          delete current.fetchingBlockNumber\n          current.data = null\n          current.blockNumber = fetchingBlockNumber\n        }\n      })\n    })\n    .addCase(updateMulticallResults, (state, { payload: { chainId, results, blockNumber } }) => {\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\n      Object.keys(results).forEach(callKey => {\n        const current = state.callResults[chainId][callKey]\n        if ((current?.blockNumber ?? 0) > blockNumber) return\n        state.callResults[chainId][callKey] = {\n          data: results[callKey],\n          blockNumber\n        }\n      })\n    })\n)\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { SafeMultisigTransactionResponse } from '@gnosis.pm/safe-service-client'\n\ntype WithChainId = { chainId: number }\ntype WithData = { data?: any }\ntype WithChainIdAndHash = WithChainId & { hash: string }\nexport interface SerializableTransactionReceipt {\n  to: string\n  from: string\n  contractAddress: string\n  transactionIndex: number\n  blockHash: string\n  transactionHash: string\n  blockNumber: number\n  status?: number\n}\n\nexport type ReplacementType = 'speedup' | 'cancel'\n\nexport type AddTransactionParams = WithChainId &\n  WithData &\n  Pick<TransactionDetails, 'hash' | 'hashType' | 'from' | 'approval' | 'presign' | 'summary' | 'safeTransaction'>\n\nexport enum HashType {\n  ETHEREUM_TX = 'ETHEREUM_TX',\n  GNOSIS_SAFE_TX = 'GNOSIS_SAFE_TX'\n}\n\nexport interface TransactionDetails {\n  hash: string // The hash of the transaction, normally Ethereum one, but not necessarily\n  hashType: HashType // Transaction hash: could be Ethereum tx, or for multisigs could be some kind of hash identifying the order (i.e. Gnosis Safe)\n  transactionHash?: string // Transaction hash. For EOA this field is immediately available, however, other wallets go through a process of offchain signing before the transactionHash is available\n\n  // Params using for polling handling\n  addedTime: number // Used to determine the polling frequency\n  lastCheckedBlockNumber?: number\n\n  // Basic data\n  from: string\n  summary?: string\n  confirmedTime?: number\n  receipt?: SerializableTransactionReceipt // Ethereum transaction receipt\n  data?: any // any attached data type\n\n  // Operations\n  approval?: { tokenAddress: string; spender: string }\n  presign?: { orderId: string }\n\n  // Wallet specific\n  safeTransaction?: SafeMultisigTransactionResponse // Gnosis Safe transaction info\n  replacementType?: ReplacementType // if the user cancelled or speedup the tx it will be reflected here\n}\n\nexport interface EnhancedTransactionState {\n  [chainId: number]: {\n    [txHash: string]: TransactionDetails\n  }\n}\n\nexport const initialState: EnhancedTransactionState = {}\n\nconst now = () => new Date().getTime()\n\nfunction updateBlockNumber(tx: TransactionDetails, blockNumber: number) {\n  if (!tx.lastCheckedBlockNumber) {\n    tx.lastCheckedBlockNumber = blockNumber\n  } else {\n    tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber)\n  }\n}\n\nconst transactionsSlice = createSlice({\n  name: 'transactions',\n  initialState,\n  reducers: {\n    addTransaction(\n      transactions,\n      {\n        payload: { chainId, from, hash, hashType, approval, summary, presign, safeTransaction, data }\n      }: PayloadAction<AddTransactionParams>\n    ) {\n      if (transactions[chainId]?.[hash]) {\n        console.warn('[state::enhancedTransactions] Attempted to add existing transaction', hash)\n        // Unknown transaction. Do nothing!\n        return\n      }\n      const txs = transactions[chainId] ?? {}\n      txs[hash] = {\n        hash,\n        transactionHash: hashType === HashType.ETHEREUM_TX ? hash : undefined,\n        hashType,\n        addedTime: now(),\n        from,\n        summary,\n        data,\n\n        // Operations\n        approval,\n        presign,\n        safeTransaction\n      }\n      transactions[chainId] = txs\n    },\n    clearAllTransactions(transactions, { payload: chainId }: PayloadAction<number>) {\n      if (!transactions[chainId]) return\n      transactions[chainId] = {}\n    },\n\n    checkedTransaction(\n      transactions,\n      { payload: { chainId, hash, blockNumber } }: PayloadAction<WithChainIdAndHash & { blockNumber: number }>\n    ) {\n      const tx = transactions[chainId]?.[hash]\n      if (!tx) {\n        return\n      }\n      updateBlockNumber(tx, blockNumber)\n    },\n\n    finalizeTransaction(\n      transactions,\n      {\n        payload: { hash, chainId, receipt }\n      }: PayloadAction<WithChainIdAndHash & { receipt: SerializableTransactionReceipt }>\n    ) {\n      const tx = transactions[chainId]?.[hash]\n      if (!tx) {\n        return\n      }\n      tx.receipt = receipt\n      tx.confirmedTime = now()\n    },\n\n    replaceTransaction(\n      transactions,\n      {\n        payload: { chainId, oldHash, newHash, type }\n      }: PayloadAction<WithChainId & { oldHash: string; newHash: string; type: ReplacementType }>\n    ) {\n      if (!transactions[chainId]?.[oldHash]) {\n        console.error('Attempted to replace an unknown transaction.')\n        return\n      }\n      const allTxs = transactions[chainId] ?? {}\n      allTxs[newHash] = {\n        ...allTxs[oldHash],\n        hash: newHash,\n        transactionHash: newHash,\n        addedTime: new Date().getTime(),\n        replacementType: type\n      }\n      delete allTxs[oldHash]\n    },\n\n    updateSafeTransaction(\n      transactions,\n      {\n        payload: { chainId, safeTransaction, blockNumber }\n      }: PayloadAction<WithChainId & { safeTransaction: SafeMultisigTransactionResponse; blockNumber: number }>\n    ) {\n      const { safeTxHash, transactionHash } = safeTransaction\n      const tx = transactions[chainId]?.[safeTxHash]\n      if (!tx) {\n        console.warn('[updateSafeTransaction] Unknown safe transaction', safeTxHash)\n        return\n      }\n\n      // Update block number\n      updateBlockNumber(tx, blockNumber)\n\n      // Update tx hash (if present)\n      tx.transactionHash = transactionHash\n\n      // Update safe info\n      tx.safeTransaction = safeTransaction\n    }\n  }\n})\n\nexport const {\n  addTransaction,\n  clearAllTransactions,\n  checkedTransaction,\n  finalizeTransaction,\n  replaceTransaction,\n  updateSafeTransaction\n} = transactionsSlice.actions\nexport const transactions = transactionsSlice.reducer\n","import { configureStore } from '@reduxjs/toolkit'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport { save, load } from 'redux-localstorage-simple'\n\nimport user from 'state/user/reducer'\nimport { application } from 'state/application/reducer'\nimport { blockchain } from 'state/blockchain/reducer'\nimport { multicall } from 'state/multicall/reducer'\nimport { transactions } from 'state/transactions/reducer'\nimport { updateVersion } from 'state/global/actions'\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<AppState> = useSelector\n\nconst PERSISTED_KEYS: string[] = ['user', 'transactions', 'lists']\n\nconst store = configureStore({\n  reducer: {\n    application,\n    blockchain,\n    multicall,\n    transactions,\n    user\n  },\n  middleware: defaultMiddleware =>\n    defaultMiddleware({\n      thunk: true\n    }).concat(save({ states: PERSISTED_KEYS })),\n  preloadedState: load({ states: PERSISTED_KEYS, disableWarnings: process.env.NODE_ENV === 'test' })\n})\n\nstore.dispatch(updateVersion())\n\nexport default store\n\nexport type AppState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","import { useCallback, useMemo } from 'react'\nimport { AppState, useAppSelector, useAppDispatch } from 'state'\nimport { checkedTransaction, finalizeTransaction } from '../transactions/reducer'\nimport { addPopup, ApplicationModal, PopupContent, removePopup, setOpenModal } from './reducer'\n\nexport function useModalOpen(modal: ApplicationModal): boolean {\n  const openModal = useAppSelector(state => state.application.openModal)\n  return openModal === modal\n}\n\nexport function useToggleModal(modal: ApplicationModal): () => void {\n  const open = useModalOpen(modal)\n  const dispatch = useAppDispatch()\n  return useCallback(() => dispatch(setOpenModal(open ? null : modal)), [dispatch, modal, open])\n}\n\nexport function useOpenModal(modal: ApplicationModal): () => void {\n  const dispatch = useAppDispatch()\n  return useCallback(() => dispatch(setOpenModal(modal)), [dispatch, modal])\n}\n\nexport function useCloseModals(): () => void {\n  const dispatch = useAppDispatch()\n  return useCallback(() => dispatch(setOpenModal(null)), [dispatch])\n}\n\nexport function useWalletModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.WALLET)\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  return useToggleModal(ApplicationModal.SETTINGS)\n}\n\n// returns a function that allows adding a popup\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n  const dispatch = useAppDispatch()\n\n  return useCallback(\n    (content: PopupContent, key?: string) => {\n      dispatch(addPopup({ content, key }))\n    },\n    [dispatch]\n  )\n}\n\n// returns a function that allows removing a popup via its key\nexport function useRemovePopup() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (payload: Parameters<typeof removePopup>[0]) => {\n      dispatch(removePopup(payload))\n    },\n    [dispatch]\n  )\n}\n\nexport function useFinalizeTransaction() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (payload: Parameters<typeof finalizeTransaction>[0]) => {\n      dispatch(finalizeTransaction(payload))\n    },\n    [dispatch]\n  )\n}\n\nexport function useCheckedTransaction() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (payload: Parameters<typeof checkedTransaction>[0]) => {\n      dispatch(checkedTransaction(payload))\n    },\n    [dispatch]\n  )\n}\n\n// get the list of active popups\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useAppSelector(state => state.application.popupList)\n  return useMemo(() => list.filter(item => item.show), [list])\n}\n","import styled from 'styled-components/macro'\nimport { Box } from 'rebass/styled-components'\n\nexport const Row = styled(Box)<{ align?: string; padding?: string; border?: string; borderRadius?: string }>`\n  width: 100%;\n  display: flex;\n  padding: 0;\n  align-items: ${({ align = 'center' }) => align};\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\n\nexport const RowBetween = styled(Row)`\n  justify-content: space-between;\n`\n\nexport const RowFlat = styled.div`\n  display: flex;\n  align-items: flex-end;\n`\n\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\n  flex-wrap: wrap;\n  margin: ${({ gap }) => gap && `-${gap}`};\n  justify-content: ${({ justify }) => justify && justify};\n\n  & > * {\n    margin: ${({ gap }) => gap} !important;\n  }\n`\n\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\n  width: fit-content;\n  margin: ${({ gap }) => gap && `-${gap}`};\n`\n","import styled from 'styled-components/macro'\n\nexport const Column = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n`\nexport const ColumnCenter = styled(Column)`\n  width: 100%;\n  align-items: center;\n`\n\nexport const AutoColumn = styled.div<{\n  gap?: 'sm' | 'md' | 'lg' | string\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\n}>`\n  display: grid;\n  grid-auto-rows: auto;\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\n  justify-items: ${({ justify }) => justify && justify};\n`\n","import { useCallback, useContext, useEffect } from 'react'\nimport { X } from 'react-feather'\nimport { useSpring } from 'react-spring/web'\nimport styled, { ThemeContext } from 'styled-components/macro'\nimport { animated } from 'react-spring'\nimport { PopupContent } from 'state/application/reducer'\nimport { useRemovePopup } from 'state/application/hooks'\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({ theme }) => theme.bg1};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  overflow: hidden;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    min-width: 290px;\n    &:not(:last-of-type) {\n      margin-right: 20px;\n    }\n  `}\n`\nconst Fader = styled.div`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 2px;\n  background-color: ${({ theme }) => theme.bg3};\n`\n\nconst AnimatedFader = animated(Fader)\n\nexport default function PopupItem({\n  removeAfterMs,\n  // content,\n  popKey\n}: {\n  removeAfterMs: number | null\n  content: PopupContent\n  popKey: string\n}) {\n  const removePopup = useRemovePopup()\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined\n\n    const timeout = setTimeout(() => {\n      removeThisPopup()\n    }, removeAfterMs)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [removeAfterMs, removeThisPopup])\n\n  const theme = useContext(ThemeContext)\n\n  let popupContent\n\n  const faderStyle = useSpring({\n    from: { width: '100%' },\n    to: { width: '0%' },\n    config: { duration: removeAfterMs ?? undefined }\n  })\n\n  return (\n    <Popup>\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\n      {popupContent}\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\n    </Popup>\n  )\n}\n","import styled from 'styled-components/macro'\nimport { useActivePopups } from 'state/application/hooks'\nimport { AutoColumn } from 'components/Layout'\nimport PopupItem from './PopupItem'\n\nconst MobilePopupWrapper = styled.div<{ height: string | number }>`\n  position: relative;\n  max-width: 100%;\n  height: ${({ height }) => height};\n  margin: ${({ height }) => (height ? '0 auto;' : 0)};\n  margin-bottom: ${({ height }) => (height ? '20px' : 0)}};\n\n  display: none;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: block;\n  `};\n`\n\nconst MobilePopupInner = styled.div`\n  height: 99%;\n  overflow-x: auto;\n  overflow-y: hidden;\n  display: flex;\n  flex-direction: row;\n  -webkit-overflow-scrolling: touch;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`\n\nconst FixedPopupColumn = styled(AutoColumn)<{ extraPadding: boolean }>`\n  position: fixed;\n  top: ${({ extraPadding }) => (extraPadding ? '108px' : '88px')};\n  right: 1rem;\n  max-width: 355px !important;\n  width: 100%;\n  z-index: 3;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n\nexport default function Popups() {\n  // get all popups\n  const activePopups = useActivePopups()\n\n  return (\n    <>\n      <FixedPopupColumn gap=\"20px\" extraPadding>\n        {activePopups.map(item => (\n          <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\n        ))}\n      </FixedPopupColumn>\n      <MobilePopupWrapper height={activePopups?.length > 0 ? 'fit-content' : 0}>\n        <MobilePopupInner>\n          {activePopups // reverse so new items up front\n            .slice(0)\n            .reverse()\n            .map(item => (\n              <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\n            ))}\n        </MobilePopupInner>\n      </MobilePopupWrapper>\n    </>\n  )\n}\n","import { useMemo, useEffect, useState, useCallback } from 'react'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { isMobile } from 'react-device-detect'\nimport { getProviderType, injected, walletconnect, WalletProvider } from 'blockchain/connectors'\nimport { NetworkContextName, STORAGE_KEY_LAST_PROVIDER } from 'blockchain/constants'\n\nexport function useActiveWeb3React() {\n  const context = useWeb3ReactCore<Web3Provider>()\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\n  return context.active ? context : contextNetwork\n}\n\n/**\n * Provides a Web3Provider instance for active web3 connection, if any\n * Contrary to `getNetworkLibrary` that returns it for the default chainId\n */\nexport function useActiveWeb3Instance(): Web3Provider | undefined {\n  const { library } = useActiveWeb3React()\n\n  return useMemo(() => {\n    if (!library?.provider) {\n      return\n    }\n    return new Web3Provider(library.provider)\n  }, [library])\n}\n\nexport function useEagerConnect() {\n  const { activate, active, connector } = useWeb3ReactCore()\n  const [tried, setTried] = useState(false)\n\n  // handle setting/removing wallet provider in local storage\n  const handleBeforeUnload = useCallback(() => {\n    const walletType = getProviderType(connector)\n\n    if (!walletType || !active) {\n      localStorage.removeItem(STORAGE_KEY_LAST_PROVIDER)\n    } else {\n      localStorage.setItem(STORAGE_KEY_LAST_PROVIDER, walletType)\n    }\n  }, [connector, active])\n\n  const connectInjected = useCallback(() => {\n    // check if the our application is authorized/connected with Metamask\n    injected.isAuthorized().then(isAuthorized => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate, setTried])\n\n  const connectWalletConnect = useCallback(() => {\n    activate(walletconnect, undefined, true).catch(() => {\n      setTried(true)\n    })\n  }, [activate, setTried])\n\n  useEffect(() => {\n    if (!active) {\n      const latestProvider = localStorage.getItem(STORAGE_KEY_LAST_PROVIDER)\n\n      // if there is no last saved provider set tried state to true\n      if (!latestProvider) {\n        // Try to auto-connect to the injected wallet\n        connectInjected()\n      } else if (latestProvider === WalletProvider.INJECTED) {\n        // MM is last provider\n        connectInjected()\n      } else if (latestProvider === WalletProvider.WALLET_CONNECT) {\n        // WC is last provider\n        connectWalletConnect()\n      }\n    }\n  }, [connectInjected, connectWalletConnect, active]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  useEffect(() => {\n    // add beforeunload event listener on initial component mount\n    window.addEventListener('beforeunload', handleBeforeUnload)\n\n    // remove beforeunload event listener on component unmount\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload)\n    }\n  })\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch(error => {\n          console.error('Failed to activate after chain changed', error)\n        })\n      }\n\n      const handleAccountsChanged = (accounts: string[]) => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch(error => {\n            console.error('Failed to activate after accounts changed', error)\n          })\n        }\n      }\n\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n        }\n      }\n    }\n    return undefined\n  }, [active, error, suppress, activate])\n}\n","import { Trans } from '@lingui/macro'\nimport { useWeb3React } from '@web3-react/core'\nimport { useEffect } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { network } from 'blockchain/connectors'\nimport { useEagerConnect, useInactiveListener } from 'blockchain/hooks'\nimport { NetworkContextName } from 'blockchain/constants'\n\nconst MessageWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 20rem;\n`\n\nconst Message = styled.h2`\n  color: ${({ theme }) => theme.secondary1};\n`\n\nexport default function Web3ReactManager({ children }: { children: JSX.Element }) {\n  const { active } = useWeb3React()\n  const { active: networkActive, error: networkError, activate: activateNetwork } = useWeb3React(NetworkContextName)\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      activateNetwork(network)\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager)\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (triedEager && !active && networkError) {\n    return (\n      <MessageWrapper>\n        <Message>\n          <Trans>\n            Oops! An unknown error occurred. Please refresh the page, or visit from another browser or device.\n          </Trans>\n        </Message>\n      </MessageWrapper>\n    )\n  }\n\n  return children\n}\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMenu(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z\",\n    stroke: \"black\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z\",\n    stroke: \"black\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z\",\n    stroke: \"black\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMenu);\nexport default __webpack_public_path__ + \"static/media/menu.79681e1f.svg\";\nexport { ForwardRef as ReactComponent };","import { useRef } from 'react'\nimport { BookOpen, Code, Info, MessageCircle, PieChart } from 'react-feather'\nimport styled from 'styled-components/macro'\nimport { ReactComponent as MenuIcon } from 'assets/images/menu.svg'\n// import { useActiveWeb3React } from 'hooks'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport { ApplicationModal } from 'state/application/reducer'\nimport { useModalOpen, useToggleModal } from 'state/application/hooks'\n\nimport { ExternalLink } from 'theme'\nimport Button from 'components/Button'\nimport { darken } from 'polished'\n\nconst StyledMenuIcon = styled(MenuIcon)`\n  path {\n    stroke: ${({ theme }) => theme.text1};\n  }\n`\n\nconst StyledMenuButton = styled(Button)`\n  width: 100%;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  margin: 0;\n  padding: 0;\n  height: 35px;\n  background-color: ${({ theme }) => theme.bg3};\n\n  padding: 0.15rem 0.5rem;\n  border-radius: 0.5rem;\n\n  :hover,\n  :focus {\n    cursor: pointer;\n    outline: none;\n    background-color: ${({ theme }) => darken(0.1, theme.bg3)};\n  }\n\n  svg {\n    margin-top: 2px;\n  }\n`\n\nconst StyledMenu = styled.div`\n  margin-left: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n  text-align: left;\n`\n\nconst MenuFlyout = styled.span`\n  min-width: 8.125rem;\n  background-color: ${({ theme }) => theme.bg3};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.01);\n  border-radius: 12px;\n  padding: 0.5rem;\n  display: flex;\n  flex-direction: column;\n  font-size: 1rem;\n  position: absolute;\n  top: 4rem;\n  right: 0rem;\n  z-index: 100;\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    top: -17.25rem;\n  `};\n`\n\nconst MenuItem = styled(ExternalLink)`\n  flex: 1;\n  padding: 0.5rem 0.5rem;\n  color: ${({ theme }) => theme.text2};\n  :hover {\n    color: ${({ theme }) => theme.text1};\n    cursor: pointer;\n    text-decoration: none;\n  }\n  > svg {\n    margin-right: 8px;\n  }\n`\n\nconst CODE_LINK = 'https://github.com/Uniswap/uniswap-interface'\n\nexport default function Menu() {\n  // const { account } = useActiveWeb3React()\n\n  const node = useRef<HTMLDivElement>()\n  const open = useModalOpen(ApplicationModal.MENU)\n  const toggle = useToggleModal(ApplicationModal.MENU)\n  useOnClickOutside(node, open ? toggle : undefined)\n  // const openClaimModal = useToggleModal(ApplicationModal.ADDRESS_CLAIM)\n\n  return (\n    // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\n    <StyledMenu ref={node as any}>\n      <StyledMenuButton onClick={toggle}>\n        <StyledMenuIcon />\n      </StyledMenuButton>\n\n      {open && (\n        <MenuFlyout>\n          <MenuItem id=\"link\" href=\"#\">\n            <Info size={14} />\n            About\n          </MenuItem>\n          <MenuItem id=\"link\" href=\"#\">\n            <BookOpen size={14} />\n            Docs\n          </MenuItem>\n          <MenuItem id=\"link\" href={CODE_LINK}>\n            <Code size={14} />\n            Code\n          </MenuItem>\n          <MenuItem id=\"link\" href=\"#\">\n            <MessageCircle size={14} />\n            Discord\n          </MenuItem>\n          <MenuItem id=\"link\" href=\"#\">\n            <PieChart size={14} />\n            Analytics\n          </MenuItem>\n        </MenuFlyout>\n      )}\n    </StyledMenu>\n  )\n}\n","import { RefObject, useEffect, useRef } from 'react'\n\nexport function useOnClickOutside<T extends HTMLElement>(\n  node: RefObject<T | undefined>,\n  handler: undefined | (() => void)\n) {\n  const handlerRef = useRef<undefined | (() => void)>(handler)\n  useEffect(() => {\n    handlerRef.current = handler\n  }, [handler])\n\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (node.current?.contains(e.target as Node) ?? false) {\n        return\n      }\n      if (handlerRef.current) handlerRef.current()\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [node])\n}\n","import { useEffect, useState } from 'react'\n\nconst isClient = typeof window === 'object'\n\nfunction getSize() {\n  return {\n    width: isClient ? window.innerWidth : undefined,\n    height: isClient ? window.innerHeight : undefined\n  }\n}\n\n// https://usehooks.com/useWindowSize/\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState(getSize)\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize(getSize())\n    }\n\n    if (isClient) {\n      window.addEventListener('resize', handleResize)\n      return () => {\n        window.removeEventListener('resize', handleResize)\n      }\n    }\n    return undefined\n  }, [])\n\n  return windowSize\n}\n","import { TFC } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\nimport { transparentize } from 'polished'\n\nimport { Column, Row } from 'components/Layout'\nimport { ItemPageProps } from './AsideWithVideo'\nimport { ExternalLink, TYPE } from 'theme'\n\nconst saturateAnimation = css`\n  @keyframes saturate {\n    0% {\n      filter: contrast(1.8) saturate(20) blur(5px);\n    }\n    10% {\n      filter: contrast(1.8) saturate(1) blur(0.8px);\n    }\n  }\n`\n\nconst textShadowAnimation = css<{ itemColor: string }>`\n  @keyframes textShadowAnimation {\n    0% {\n      text-shadow: 20px 2px 2px ${({ itemColor }) => itemColor};\n      letter-spacing: 20px;\n    }\n    3% {\n      text-shadow: 55px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    5% {\n      text-shadow: -22px 2px 2px pink;\n    }\n    7% {\n      text-shadow: 47px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    10% {\n      text-shadow: 17px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    47% {\n      text-shadow: 10px 2px 2px ${({ itemColor }) => itemColor};\n      letter-spacing: 7px;\n    }\n    48% {\n      text-shadow: -20px 2px 1px pink;\n    }\n    49% {\n      text-shadow: 20px 2px 2px ${({ itemColor }) => itemColor};\n    }\n    53% {\n      text-shadow: 55px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    55% {\n      text-shadow: -32px 2px 2px purple;\n    }\n    57% {\n      text-shadow: 47px 2px 7px lightgreen;\n    }\n    58% {\n      text-shadow: -47px 2px 1px ${({ itemColor }) => itemColor};\n    }\n    60% {\n      text-shadow: 20px 2px 2px ${({ itemColor }) => itemColor};\n    }\n    65% {\n      text-shadow: 20px 2px 5px purple;\n    }\n  }\n`\n\nexport const VideoContentWrapper = styled(Row)`\n  z-index: -1;\n\n  video {\n    // lock the video to 16:9 ratio\n    height: calc(100vw * (9 / 16));\n    // height: 100%;\n\n    filter: contrast(1.8) saturate(1) blur(0.5px);\n\n    ${saturateAnimation}\n\n    animation-name: saturate;\n    animation-duration: 10.4s;\n  }\n`\nexport const Strikethrough = styled.div`\n  width: 100%;\n  background-color: ${({ theme }) => theme.white};\n  height: 5px;\n`\nexport type ItemHeaderProps = { animation?: boolean; itemColor: string }\nexport const ItemHeader = styled(TYPE.largeHeader)<ItemHeaderProps>`\n  z-index: 100;\n  font-style: italic;\n  letter-spacing: 7px;\n\n  ${({ animation = false }) => animation && textShadowAnimation}\n  ${({ animation = false, itemColor }) =>\n    animation &&\n    `\n      text-shadow: 10px 2px 2px ${itemColor};\n      animation-name: textShadowAnimation;\n      animation-duration: 10s;\n      animation-iteration-count: 3;\n      animation-delay: 1s;\n    `}\n`\n\nexport const ItemSubHeader = styled(TYPE.black).attrs(() => ({\n  fontSize: 16,\n  padding: 2,\n  fontWeight: 300,\n  fontStyle: 'italic'\n}))<{ bgColor?: string }>`\n  background: ${({ bgColor = 'transparent' }) =>\n    `linear-gradient(90deg, ${bgColor} 0%, ${transparentize(0.3, bgColor)} 35%, transparent 70%)`};\n  width: 100%;\n`\n\nexport const ItemBreadcrumb = styled(NavLink)`\n  color: ${({ theme }) => theme.black};\n  font-size: 10px;\n  font-weight: 300;\n  text-decoration: none;\n  text-transform: uppercase;\n\n  > span:first-child {\n    margin: 0 5px;\n  }\n`\n\nexport const ItemAsidePanel = styled(Column)`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  // padding: 5px;\n`\n\nexport const ItemContainer = styled(Row)`\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: stretch;\n\n  position: relative;\n\n  > ${ItemAsidePanel} {\n    position: relative;\n    justify-content: flex-start;\n\n    margin-right: auto;\n    height: 100%;\n    width: 100%;\n    max-width: 500px;\n\n    overflow-x: hidden;\n    z-index: 2;\n\n    background: ${({ theme }) => transparentize(0.1, theme.white)};\n    // background: ${({ theme }) => transparentize(0.1, theme.red2)};\n  }\n\n  > ${VideoContentWrapper} {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  select {\n    min-width: 15ch;\n    max-width: 100%;\n    border: 1px solid var(--select-border);\n    border-radius: 0.25em;\n    padding: 0.25em 0.5em;\n    margin: 0 5px;\n    font-size: 1.25rem;\n    cursor: pointer;\n    line-height: 1.1;\n    background-color: #fff;\n    background-image: linear-gradient(to top, #f9f9f9, #fff 33%);\n\n    display: grid;\n    grid-template-areas: 'select';\n    align-items: center;\n\n    &:after {\n      content: '';\n      width: 0.8em;\n      height: 0.5em;\n      background-color: #777;\n      clip-path: polygon(100% 0%, 0 0%, 50% 100%);\n\n      justify-self: end;\n    }\n\n    select,\n    .select:after {\n      grid-area: select;\n    }\n  }\n`\n\nexport const ItalicStrikethrough = styled.i`\n  text-decoration: line-through;\n`\n\nexport const ItemCredits: TFC = ({ children }) => (\n  <TYPE.black fontSize={14} padding=\"13px 8px\" fontWeight={300} width=\"100%\">\n    {children}\n  </TYPE.black>\n)\n\nexport const ItemArtistInfo = (props: ItemPageProps['itemArtistInfo'] | undefined) => {\n  if (!props) return null\n\n  const { artist, social } = props\n\n  return (\n    <TYPE.black fontSize={14} padding={2} fontWeight={300}>\n      <ItalicStrikethrough>PASTELLE</ItalicStrikethrough> x {artist}\n      <br />\n      <br />\n      <ExternalLink href={social}>{social}</ExternalLink>\n    </TYPE.black>\n  )\n}\ntype FloatingColoredBlock = {\n  width?: number\n  height?: number\n  top?: number\n  left?: number\n  gradientBase?: string\n  gradientEnd?: string\n  rotation?: number\n}\nexport const FloatingBlockContainer = styled.div<FloatingColoredBlock>`\n  position: absolute;\n  background-image: ${({ gradientBase = 'rgba(33, 114, 229, 0.1)', gradientEnd = 'rgba(33, 36, 41, 1)' }) =>\n    `radial-gradient(50% 50% at 50% 50%, ${gradientBase} 0%, ${gradientEnd} 100%)`};\n\n  transform: rotate(${({ rotation = 45 }) => rotation}deg);\n\n  width: ${({ width = 755 }) => width}px;\n  height: ${({ height = 292 }) => height}px;\n  top: ${({ top = 57 }) => top}px;\n  left: ${({ left = -106 }) => left}px;\n\n  z-index: -1;\n`\n\nconst FloatingColouredBlock = styled.div<{ color: string }>`\n  height: 100%;\n  width: 100%;\n  background: ${({ color }) => color};\n`\n\nexport const FloatingStrip = ({ color, ...rest }: FloatingColoredBlock & { color: string }) => (\n  <FloatingBlockContainer {...rest}>\n    <FloatingColouredBlock color={color} />\n  </FloatingBlockContainer>\n)\n\nexport const BreadcrumbWrapper = styled(ItemSubHeader)`\n  display: flex;\n  gap: 5px;\n  margin-bottom: -24px;\n  z-index: 100;\n  padding-top: 4px;\n  font-size: 12px;\n`\n\nexport const PASTELLE_CREDIT = (\n  <>\n    Homegrown at <ItalicStrikethrough>PASTELLE</ItalicStrikethrough> labs\n  </>\n)\n","import { useMemo } from 'react'\nimport { TextProps } from 'rebass'\nimport styled from 'styled-components/macro'\nimport { useWindowSize } from 'hooks/useWindowSize'\nimport { MEDIA_WIDTHS } from 'theme/styles/mediaQueries'\nimport { ItemHeader, ItemHeaderProps } from 'pages/SingleItem/styleds'\n\nconst LogoHeader = styled(ItemHeader)`\n  flex: 1 0 auto;\n  letter-spacing: 0;\n  text-decoration: none;\n`\ntype DynamicHeaderLogoProps = TextProps & ItemHeaderProps\nexport default function DynamicHeaderLogo(props: DynamicHeaderLogoProps) {\n  const { width } = useWindowSize()\n\n  /* \n    upToExtraSmall: 500,\n    upToSmall: 720,\n    upToMedium: 960,\n    upToLarge: 1280\n  */\n  const constructedLogo = useMemo(() => {\n    if (!width) return null\n    // width < 720px\n    if (width < MEDIA_WIDTHS.upToSmall) {\n      return 'PASTELLE'\n      // width < 960px\n    } else if (width < MEDIA_WIDTHS.upToMedium) {\n      return 'PASTELLE APPAREL'\n      // width < 1280px\n    } else if (width < MEDIA_WIDTHS.upToLarge) {\n      return 'PASTELLE APPAREL'\n    } else {\n      return 'PASTELLE APPAREL'\n    }\n  }, [width])\n\n  return <LogoHeader {...props}>{constructedLogo}</LogoHeader>\n}\n","import styled from 'styled-components/macro'\n\nexport const SectionFrame = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 12rem;\n  align-items: center;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row;\n  width: 100%;\n  position: relative;\n  padding: 1rem;\n  z-index: 2;\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    grid-template-columns: 1fr;\n    padding: 0 1rem;\n    width: calc(100%);\n    position: relative;\n  `};\n\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n        padding: 0.5rem 1rem;\n  `}\n`\n","import styled from 'styled-components/macro'\nimport { NavLink } from 'react-router-dom'\nimport { darken } from 'polished'\n\nconst activeClassName = 'ACTIVE'\n\nexport const StyledNavLink = styled(NavLink).attrs({\n  activeClassName\n})`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: left;\n  border-radius: 3rem;\n  outline: none;\n  cursor: pointer;\n  text-decoration: none;\n  color: ${({ theme }) => theme.text2};\n  font-size: ${({ theme }) => theme.buttons.font.size.normal};\n  width: fit-content;\n  margin: 0 12px;\n  font-weight: 500;\n\n  &.${activeClassName} {\n    border-radius: ${({ theme }) => theme.buttons.borderRadius};\n    font-weight: 800;\n    color: ${({ theme }) => theme.text1};\n  }\n\n  :hover,\n  :focus {\n    color: ${({ theme }) => darken(0.1, theme.text1)};\n  }\n`\n","import styled from 'styled-components/macro'\n\n// import Logo from 'assets/png/logo/compressed.png'\nimport { useActiveWeb3React } from 'blockchain/hooks'\n// import { ExternalLink } from 'theme'\n\nimport Menu from 'components/Menu'\nimport DynamicHeaderLogo from 'components/Header/DynamicLogoHeader'\nimport { Row, RowFixed, YellowCard } from 'components/Layout'\nimport { SectionFrame } from 'components/Layout/Section'\n\nimport { NETWORK_LABELS } from 'blockchain/constants'\nimport { StyledNavLink } from './styleds'\n\nconst HeaderFrame = styled(SectionFrame)`\n  top: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n`\n\nconst HeaderControls = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-self: flex-end;\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    flex-direction: row;\n    justify-content: space-between;\n    justify-self: center;\n    width: 100%;\n    max-width: 960px;\n    padding: 1rem;\n    position: fixed;\n    bottom: 0px;\n    left: 0px;\n    width: 100%;\n    z-index: 99;\n    height: 72px;\n    border-radius: 12px 12px 0 0;\n    background-color: ${({ theme }) => theme.bg1};\n  `};\n`\n\nconst HeaderElement = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n   flex-direction: row-reverse;\n    align-items: center;\n  `};\n`\n\nconst HeaderElementWrap = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst HeaderRow = styled(RowFixed)`\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n   width: 100%;\n  `};\n`\n\nconst HeaderLinks = styled(Row)`\n  width: min-content;\n  justify-content: center;\n  > a {\n    white-space: nowrap;\n    flex: 1 0 auto;\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 1rem 0 1rem 1rem;\n    justify-content: flex-end;\n`};\n`\n\n// const AccountElement = styled.div<{ active: boolean }>`\n//   display: flex;\n//   flex-direction: row;\n//   align-items: center;\n//   background-color: ${({ theme, active }) => (!active ? theme.bg1 : theme.bg3)};\n//   border-radius: 12px;\n//   white-space: nowrap;\n//   width: 100%;\n//   cursor: pointer;\n\n//   :focus {\n//     border: 1px solid blue;\n//   }\n//   /* :hover {\n//     background-color: ${({ theme, active }) => (!active ? theme.bg2 : theme.bg4)};\n//   } */\n// `\n\nconst HideSmall = styled.span`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n\nconst NetworkCard = styled(YellowCard)`\n  border-radius: 12px;\n  padding: 8px 12px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    margin: 0;\n    margin-right: 0.5rem;\n    width: initial;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex-shrink: 1;\n  `};\n`\n\nconst Title = styled.a`\n  display: flex;\n  align-items: center;\n  pointer-events: auto;\n  justify-self: flex-start;\n  margin-right: 12px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    justify-self: center;\n  `};\n  :hover {\n    cursor: pointer;\n  }\n`\n\n// const Sabrecon = styled.div`\n//   transition: transform 0.3s ease;\n//   :hover {\n//     transform: rotate(-5deg);\n//   }\n// `\n\n// const StyledExternalLink = styled(ExternalLink).attrs({\n//   activeClassName\n// })<{ isActive?: boolean }>`\n//   ${({ theme }) => theme.flexRowNoWrap}\n//   align-items: left;\n//   border-radius: 3rem;\n//   outline: none;\n//   cursor: pointer;\n//   text-decoration: none;\n//   color: ${({ theme }) => theme.text2};\n//   font-size: 1rem;\n//   width: fit-content;\n//   margin: 0 12px;\n//   font-weight: 500;\n\n//   &.${activeClassName} {\n//     border-radius: 12px;\n//     font-weight: 600;\n//     color: ${({ theme }) => theme.text1};\n//   }\n\n//   :hover,\n//   :focus {\n//     color: ${({ theme }) => darken(0.1, theme.text1)};\n//   }\n\n//   ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n//       display: none;\n// `}\n// `\n\nexport default function Header() {\n  const { chainId } = useActiveWeb3React()\n\n  return (\n    <HeaderFrame as=\"header\">\n      <HeaderRow>\n        <Title href=\"/#\">\n          {/* <Sabrecon>\n            <img width=\"40px\" src={Logo} alt=\"logo\" />\n          </Sabrecon> */}\n        </Title>\n        <DynamicHeaderLogo itemColor=\"#dda0ddb3\" fontSize={60} fontWeight={100} color={'ghostwhite'} />\n        <HeaderLinks>\n          <StyledNavLink to=\"/#\">{'// SHOP'}</StyledNavLink>\n          <StyledNavLink to=\"/theme\">{'// THEME'}</StyledNavLink>\n          {/* <StyledNavLink to=\"#\">Header Link</StyledNavLink> */}\n          {/* <StyledExternalLink href=\"#\">\n            External Link <span style={{ fontSize: '11px' }}>↗</span>\n          </StyledExternalLink> */}\n        </HeaderLinks>\n      </HeaderRow>\n      <HeaderControls>\n        <HeaderElement>\n          <HideSmall>\n            {chainId && NETWORK_LABELS[chainId] && (\n              <NetworkCard title={NETWORK_LABELS[chainId]}>{NETWORK_LABELS[chainId]}</NetworkCard>\n            )}\n          </HideSmall>\n          {/* <AccountElement active={!!account} style={{ pointerEvents: 'auto' }}>\n            {account && userEthBalance ? (\n              <BalanceText style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\n                {userEthBalance?.toSignificant(4)} ETH\n              </BalanceText>\n            ) : null}\n            <Web3Status />\n          </AccountElement> */}\n        </HeaderElement>\n        <HeaderElementWrap>\n          <Menu />\n        </HeaderElementWrap>\n      </HeaderControls>\n    </HeaderFrame>\n  )\n}\n","import styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { Row } from 'components/Layout'\n\nexport const CarouselStep = styled(Row)<{ $calculatedWidth: string }>`\n  position: relative;\n  width: ${({ $calculatedWidth }) => $calculatedWidth};\n\n  img {\n    max-width: 100%;\n    box-shadow: 3px 6px 8px 0px #686868ad;\n  }\n\n  transition: width 0.3s ease-out;\n`\n\nexport const CarouselContainer = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n\n  // no shrink\n  flex: 1 0 auto;\n  width: 100%;\n  height: 480px;\n`\n// #a1c3f9\nexport const CarouselButton = styled.div<{ buttonColor: string }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 20px;\n  margin: 0 4px;\n  background-color: ${({ buttonColor }) => transparentize(1, buttonColor)};\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${({ buttonColor }) => transparentize(0.2, buttonColor)};\n  }\n\n  transition: background-color 0.2s ease-in-out;\n`\n\nexport const CarouselButtonContainer = styled.div`\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n`\n","import { useState, useMemo, useRef, useEffect } from 'react'\nimport { ChevronLeft, ChevronRight } from 'react-feather'\nimport { CarouselContainer, CarouselStep, CarouselButtonContainer, CarouselButton } from './styleds'\nimport { ApparelItem } from 'mock/apparel/types'\n\ntype CarouselProps = {\n  buttonColor: string\n  mediaList: ApparelItem[]\n  mediaStartIndex: number\n  onCarouselChange?: (index: number) => void\n}\n\nexport default function Carousel({ buttonColor, mediaList, mediaStartIndex, onCarouselChange }: CarouselProps) {\n  const [selectedStep, setSelectedStep] = useState(mediaStartIndex)\n  const [parentWidth, setParentWidth] = useState<number | undefined>()\n\n  const { isMultipleCarousel, lastStepIndex } = useMemo(\n    () => ({\n      isMultipleCarousel: mediaList.length > 0,\n      lastStepIndex: mediaList.length - 1\n    }),\n    [mediaList.length]\n  )\n  // get a ref to the carouselImageboi\n  const carouselImageRef = useRef<HTMLImageElement | null>(null)\n  useEffect(() => {\n    carouselImageRef.current?.focus()\n  }, [])\n  // get a ref to the carouselboi\n  const carouselRef = useRef<HTMLDivElement | null>(null)\n  // we need to hold and updated cache of the carousel parent's width in px\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    if (carouselRef.current) {\n      const { parentElement } = carouselRef.current\n      setParentWidth(parentElement?.offsetWidth)\n    }\n  })\n\n  return (\n    <CarouselContainer id=\"#carousel-container\" ref={carouselRef}>\n      {mediaList.map(({ image }, index) => {\n        if (!parentWidth) return null\n        const isCurrentStep = index === selectedStep\n        // has multiple steps and is on last item\n        const isLastStep = isMultipleCarousel && selectedStep === lastStepIndex\n        const calculatedWidth = isCurrentStep ? parentWidth : 0\n\n        const onNext = () => {\n          let indexToSet = undefined\n          if (isLastStep) {\n            indexToSet = 0\n          } else {\n            indexToSet = selectedStep + 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        const onPrevious = () => {\n          let indexToSet = undefined\n          if (selectedStep === 0) {\n            indexToSet = lastStepIndex\n          } else {\n            indexToSet = selectedStep - 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        return (\n          <CarouselStep\n            id={'#carousel-step-' + index}\n            key={index}\n            justifyContent={'center'}\n            $calculatedWidth={calculatedWidth + 'px'}\n          >\n            <img src={image} ref={carouselImageRef} />\n            {isMultipleCarousel && (\n              <CarouselButtonContainer>\n                <CarouselButton onClick={onPrevious} buttonColor={buttonColor}>\n                  <ChevronLeft />\n                </CarouselButton>\n                <CarouselButton onClick={onNext} buttonColor={buttonColor}>\n                  <ChevronRight />\n                </CarouselButton>\n              </CarouselButtonContainer>\n            )}\n          </CarouselStep>\n        )\n      })}\n    </CarouselContainer>\n  )\n}\n","const MOCK_BREADCRUMB = ['Home', 'Longsleeve', 'LEER']\n\nexport function useBreadcrumb() {\n  const lastCrumb = MOCK_BREADCRUMB.slice().pop()\n  return { breadcrumbs: MOCK_BREADCRUMB, lastCrumb }\n}\n","import { ReactNode, useState } from 'react'\nimport { Row } from 'components/Layout'\nimport Carousel from 'components/Carousel'\nimport {\n  ItemContainer,\n  ItemAsidePanel,\n  ItemHeader,\n  VideoContentWrapper,\n  ItemCredits,\n  ItemArtistInfo,\n  FloatingStrip,\n  PASTELLE_CREDIT,\n  ItemSubHeader,\n  ItemBreadcrumb\n} from './styleds'\n\nimport { ApparelItem } from 'mock/apparel/types'\nimport { TYPE } from 'theme'\nimport { darken, transparentize } from 'polished'\nimport { useBreadcrumb } from 'components/Breadcrumb'\n\n// TODO: move to APPAREL TYPES or sth\ntype ItemSizes = 'XX-LARGE' | 'X-LARGE' | 'LARGE' | 'MEDIUM' | 'SMALL'\n\nexport interface ItemPageProps {\n  itemColor: string\n  itemHeader: string\n  itemMediaList: ApparelItem[]\n  itemSizesList: ItemSizes[]\n  itemDescription: ReactNode\n  itemArtistInfo?: {\n    artist: string\n    social: string\n  }\n}\n\nconst DEFAULT_MEDIA_START_INDEX = 0\n\n// TODO: fix props, pass steps, sizes etc\nexport default function ItemPage({\n  itemColor,\n  itemHeader,\n  itemMediaList,\n  itemSizesList,\n  itemDescription,\n  itemArtistInfo\n}: ItemPageProps) {\n  const [mediaStartIndex, setMediaStartIndex] = useState(DEFAULT_MEDIA_START_INDEX)\n  const onCarouselChange = (index: number) => setMediaStartIndex(index)\n\n  // TODO: un-mock\n  const { breadcrumbs, lastCrumb } = useBreadcrumb()\n\n  return (\n    <ItemContainer>\n      <ItemAsidePanel id=\"#shirt-aside-panel\">\n        {/* BREADCRUMBS */}\n        <Row marginBottom={-25} style={{ zIndex: 100 }} padding=\"5px\">\n          {breadcrumbs?.map((crumb, index) => {\n            const isLastCrumb = crumb === lastCrumb\n            return (\n              <ItemBreadcrumb key={crumb + '_' + index} to=\"/#\">\n                <span>{!isLastCrumb ? crumb : <strong>{crumb}</strong>}</span>\n                {!isLastCrumb && <span>{'//'}</span>}\n              </ItemBreadcrumb>\n            )\n          })}\n        </Row>\n        {/* Item carousel */}\n        <Carousel\n          buttonColor={itemColor}\n          mediaList={itemMediaList}\n          mediaStartIndex={mediaStartIndex}\n          onCarouselChange={onCarouselChange}\n        />\n        <br />\n        <ItemHeader\n          fontSize=\"100px\"\n          fontWeight={200}\n          /* marginBottom={-55} */ marginTop={-55}\n          itemColor={itemColor}\n          animation\n        >\n          {/* <Strikethrough /> */}\n          {itemHeader}\n        </ItemHeader>\n        <br />\n        <ItemSubHeader bgColor={itemColor}>CREDIT</ItemSubHeader>\n        {/* Credits */}\n        <ItemCredits>{itemArtistInfo ? <ItemArtistInfo {...itemArtistInfo} /> : PASTELLE_CREDIT}</ItemCredits>\n        {/* Size selector */}\n        <br />\n        <ItemSubHeader bgColor={itemColor}>CHOOSE A SIZE</ItemSubHeader>\n        <br />\n        <Row>\n          <select style={{ width: '50%' }}>\n            {itemSizesList.map((size, index) => (\n              <option key={size + '_' + index}>{size}</option>\n            ))}\n          </select>\n        </Row>\n        <br />\n        {/* Item description */}\n        <ItemSubHeader bgColor={itemColor}>DESCRIPTION</ItemSubHeader>\n        <br />\n        <Row>\n          <TYPE.black fontSize={18} padding={2} fontWeight={300}>\n            {itemDescription}\n          </TYPE.black>\n        </Row>\n        {/* VISUAL */}\n        <FloatingStrip\n          color={transparentize(0.4, itemColor)}\n          top={280}\n          left={-106}\n          rotation={15}\n          gradientBase={darken(0.56, itemColor)}\n          gradientEnd={itemColor}\n        />\n      </ItemAsidePanel>\n      {/* Item Video content */}\n      <VideoContentWrapper id=\"#video-content-wrapper\">\n        {itemMediaList.map(({ video }, index) => {\n          const isSelected = index === mediaStartIndex\n          if (!isSelected) return null\n\n          return (\n            <video loop muted autoPlay key={index}>\n              <source src={video} type=\"video/webm\" />\n            </video>\n          )\n        })}\n      </VideoContentWrapper>\n    </ItemContainer>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/front.57784f69.jpg\";","export default __webpack_public_path__ + \"static/media/back.ed907264.jpg\";","import { HomeItemsList } from './types'\n// APPAREL DATA\nimport LEER from 'mock/apparel/leer'\n\nexport default [LEER] as HomeItemsList\n","import { nanoid } from '@reduxjs/toolkit'\nimport FRONT_IMAGE from 'assets/apparel/leer/images/front.jpg'\nimport BACK_IMAGE from 'assets/apparel/leer/images/back.jpg'\nimport FRONT_VIDEO from 'assets/apparel/leer/webm/front.webm'\nimport BACK_VIDEO from 'assets/apparel/leer/webm/back.webm'\nimport { ApparelItem, HomeItem } from './types'\n\nconst ITEM_MEDIA_LIST: ApparelItem[] = [\n  { image: FRONT_IMAGE, video: FRONT_VIDEO },\n  { image: BACK_IMAGE, video: BACK_VIDEO }\n]\nconst ITEM_SIZES_LIST = ['LARGE', 'MEDIUM', 'SMALL']\nconst ITEM_DESCRIPTION = `\nVirgil didnt make it through 7 layers of hell and write about it for you to not buy this shirt. \nFuck you and your feelings. And learn to read italian because thats what the shirt is written in.\n\nBig shout to Matheiu Sato in Bordeaux for the painting on the front.\n@mathieusato\n`\nconst COLLABORATOR = 'Mathieu Sato'\nconst COLLABORATOR_SOCIAL_URL = 'https://instagram.com/mathieusato'\n\nexport default {\n  itemColor: '#a2c2fa',\n  itemHeader: 'L E E R',\n  itemMediaList: ITEM_MEDIA_LIST,\n  itemSizesList: ITEM_SIZES_LIST,\n  itemDescription: ITEM_DESCRIPTION,\n  itemArtistInfo: {\n    artist: COLLABORATOR,\n    social: COLLABORATOR_SOCIAL_URL\n  },\n  key: nanoid()\n} as HomeItem\n","export default __webpack_public_path__ + \"static/media/front.bfd29d3d.webm\";","export default __webpack_public_path__ + \"static/media/back.162a6f86.webm\";","import styled from 'styled-components/macro'\nimport { AsideWithVideo } from 'pages/SingleItem'\nimport HOME_ITEMS_LIST from 'mock/apparel'\n\nexport const PageArticle = styled.article``\n\nexport default function Home() {\n  return (\n    <PageArticle>\n      {HOME_ITEMS_LIST.map(({ key, ...restItemData }) => (\n        <AsideWithVideo key={key} {...restItemData} />\n      ))}\n    </PageArticle>\n  )\n}\n","import { Suspense } from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport ThemeViewer from 'components/ThemeViewer'\nimport Popups from 'components/Popups'\nimport Web3ReactManager from 'components/blockchain/Web3ReactManager'\n\nimport Header from 'components/Header'\nimport { StyledNavLink } from 'components/Header/styleds'\n// import Footer from 'components/Footer'\n\nimport Home from 'pages/Home'\nimport styled from 'styled-components/macro'\n\nconst Navigation = styled.nav`\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: start;\n  align-items: start;\n\n  text-align: left;\n\n  padding: 10px;\n  gap: 10px;\n\n  // all links in nav\n  > a {\n    font-size: 16px;\n  }\n`\n\nexport default function App() {\n  return (\n    <Web3ReactManager>\n      <Suspense fallback={null}>\n        <Popups />\n        {/* HEADER */}\n        <Header />\n        {/* SIDE-NAV */}\n        <Navigation>\n          <StyledNavLink to=\"/#\">{'// LONGSLEEVE'}</StyledNavLink>\n          <StyledNavLink to=\"/#\">{'// SHORTSLEEVE'}</StyledNavLink>\n          <StyledNavLink to=\"/#\">{'// HOODIES'}</StyledNavLink>\n        </Navigation>\n        {/* ARTICLE CONTENT */}\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/theme\" component={ThemeViewer} />\n        </Switch>\n        {/* FOOTER */}\n        {/* <Footer /> */}\n      </Suspense>\n    </Web3ReactManager>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document\n\nfunction isWindowVisible() {\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden'\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(isWindowVisible())\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible())\n  }, [setFocused])\n\n  useEffect(() => {\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined\n\n    document.addEventListener('visibilitychange', listener)\n    return () => {\n      document.removeEventListener('visibilitychange', listener)\n    }\n  }, [listener])\n\n  return focused\n}\n","import { BigNumber } from '@ethersproject/bignumber'\nimport { hexStripZeros } from '@ethersproject/bytes'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { L1ChainInfo, L2ChainInfo, SupportedChainId } from 'blockchain/constants/chains'\n\ninterface AddNetworkArguments {\n  library: Web3Provider\n  chainId: SupportedChainId\n  info: L1ChainInfo | L2ChainInfo\n}\n\n// provider.request returns Promise<any>, but wallet_switchEthereumChain must return null or throw\n// see https://github.com/rekmarks/EIPs/blob/3326-create/EIPS/eip-3326.md for more info on wallet_switchEthereumChain\nexport async function addNetwork({ library, chainId, info }: AddNetworkArguments): Promise<null | void> {\n  if (!library?.provider?.request) {\n    return\n  }\n  const formattedChainId = hexStripZeros(BigNumber.from(chainId).toHexString())\n  try {\n    await library?.provider.request({\n      method: 'wallet_addEthereumChain',\n      params: [\n        {\n          chainId: formattedChainId,\n          chainName: info.label,\n          rpcUrls: info.rpcUrls,\n          nativeCurrency: info.nativeCurrency,\n          blockExplorerUrls: [info.explorer]\n        }\n      ]\n    })\n  } catch (error) {\n    console.error('error adding eth network: ', chainId, info, error)\n  }\n}\n","import { BigNumber } from '@ethersproject/bignumber'\nimport { hexStripZeros } from '@ethersproject/bytes'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { CHAIN_INFO, SupportedChainId } from 'blockchain/constants/chains'\n\nimport { addNetwork } from './addNetwork'\n\ninterface SwitchNetworkArguments {\n  library: Web3Provider\n  chainId?: SupportedChainId\n}\n\n// provider.request returns Promise<any>, but wallet_switchEthereumChain must return null or throw\n// see https://github.com/rekmarks/EIPs/blob/3326-create/EIPS/eip-3326.md for more info on wallet_switchEthereumChain\nexport async function switchToNetwork({ library, chainId }: SwitchNetworkArguments): Promise<null | void> {\n  if (!library?.provider?.request) {\n    return\n  }\n  if (!chainId && library?.getNetwork) {\n    ;({ chainId } = await library.getNetwork())\n  }\n  const formattedChainId = hexStripZeros(BigNumber.from(chainId).toHexString())\n  try {\n    await library?.provider.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: formattedChainId }]\n    })\n  } catch (error) {\n    // 4902 is the error code for attempting to switch to an unrecognized chainId\n    if (error.code === 4902 && chainId !== undefined) {\n      const info = CHAIN_INFO[chainId]\n\n      // metamask (only known implementer) automatically switches after a network is added\n      // the second call is done here because that behavior is not a part of the spec and cannot be relied upon in the future\n      // metamask's behavior when switching to the current network is just to return null (a no-op)\n      await addNetwork({ library, chainId, info })\n      await switchToNetwork({ library, chainId })\n    } else {\n      throw error\n    }\n  }\n}\n","import { useCallback } from 'react'\nimport { useActiveWeb3React } from 'blockchain/hooks'\nimport { AppState, useAppDispatch, useAppSelector } from 'state'\nimport { setChainConnectivityWarning, setImplements3085, updateBlockNumber, updateChainId } from './reducer'\n\n// GETTERS\nexport function useBlockNumber(): number | undefined {\n  const { chainId } = useActiveWeb3React()\n\n  return useAppSelector((state: AppState) => state.blockchain.blockNumber[chainId ?? -1])\n}\nexport function useChainId() {\n  return useAppSelector((state: AppState) => state.blockchain.chainId)\n}\nexport function useChainConnectivityWarning() {\n  return useAppSelector((state: AppState) => state.blockchain.chainConnectivityWarning)\n}\nexport function useImplements3085() {\n  return useAppSelector((state: AppState) => state.blockchain.implements3085)\n}\n\n// SETTERS\nexport function useSetChainConnectivityWarning() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: boolean) => dispatch(setChainConnectivityWarning(payload)), [dispatch])\n}\nexport function useSetImplements3085() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: boolean) => dispatch(setImplements3085(payload)), [dispatch])\n}\nexport function useUpdateBlockNumber() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: { chainId: number; blockNumber: number }) => dispatch(updateBlockNumber(payload)), [\n    dispatch\n  ])\n}\nexport function useUpdateChainId() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: number | null) => dispatch(updateChainId(payload)), [dispatch])\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { CHAIN_INFO } from 'blockchain/constants/chains'\nimport useDebounce from 'hooks/useDebounce'\nimport useIsWindowVisible from 'hooks/useIsWindowVisible'\nimport { useActiveWeb3React } from 'blockchain/hooks'\nimport ms from 'ms.macro'\nimport { supportedChainId } from 'blockchain/utils/supportedChainId'\nimport { switchToNetwork } from 'blockchain/utils/switchToNetwork'\n\nimport {\n  useBlockNumber,\n  useChainConnectivityWarning,\n  useSetChainConnectivityWarning,\n  useSetImplements3085,\n  useUpdateBlockNumber,\n  useUpdateChainId\n} from 'state/blockchain/hooks'\n\nconst NETWORK_HEALTH_CHECK_MS = ms`15s`\nconst DEFAULT_MS_BEFORE_WARNING = ms`10m`\n\nfunction useBlockWarningTimer() {\n  const { chainId } = useActiveWeb3React()\n  const currentBlock = useBlockNumber()\n\n  const chainConnectivityWarningActive = useChainConnectivityWarning()\n  const setChainConnectivityWarning = useSetChainConnectivityWarning()\n\n  const [msSinceLastBlock, setMsSinceLastBlock] = useState(0)\n\n  const timeout = useRef<NodeJS.Timeout>()\n  const isWindowVisible = useIsWindowVisible()\n\n  useEffect(() => {\n    setMsSinceLastBlock(0)\n  }, [currentBlock])\n\n  useEffect(() => {\n    const waitMsBeforeWarning =\n      (chainId ? CHAIN_INFO[chainId]?.blockWaitMsBeforeWarning : DEFAULT_MS_BEFORE_WARNING) ?? DEFAULT_MS_BEFORE_WARNING\n\n    timeout.current = setTimeout(() => {\n      setMsSinceLastBlock(NETWORK_HEALTH_CHECK_MS + msSinceLastBlock)\n      if (msSinceLastBlock > waitMsBeforeWarning && isWindowVisible) {\n        setChainConnectivityWarning(true)\n      } else if (chainConnectivityWarningActive) {\n        setChainConnectivityWarning(false)\n      }\n    }, NETWORK_HEALTH_CHECK_MS)\n\n    return function cleanup() {\n      if (timeout.current) {\n        clearTimeout(timeout.current)\n      }\n    }\n  }, [\n    chainId,\n    chainConnectivityWarningActive,\n    isWindowVisible,\n    msSinceLastBlock,\n    setMsSinceLastBlock,\n    setChainConnectivityWarning\n  ])\n}\n\nexport default function Updater(): null {\n  const { account, chainId, library } = useActiveWeb3React()\n\n  const updateChainId = useUpdateChainId()\n  const updateBlockNumber = useUpdateBlockNumber()\n  const setImplements3085 = useSetImplements3085()\n\n  const [state, setState] = useState<{ chainId: number | undefined; blockNumber: number | null }>({\n    chainId,\n    blockNumber: null\n  })\n\n  const windowVisible = useIsWindowVisible()\n\n  useBlockWarningTimer()\n\n  const blockNumberCallback = useCallback(\n    (blockNumber: number) => {\n      setState(state => {\n        if (chainId === state.chainId) {\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber }\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) }\n        }\n        return state\n      })\n    },\n    [chainId, setState]\n  )\n\n  // attach/detach listeners\n  useEffect(() => {\n    if (!library || !chainId || !windowVisible) return undefined\n\n    setState({ chainId, blockNumber: null })\n\n    library\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch(error => console.error(`Failed to get block number for chainId: ${chainId}`, error))\n\n    library.on('block', blockNumberCallback)\n    return () => {\n      library.removeListener('block', blockNumberCallback)\n    }\n  }, [chainId, library, blockNumberCallback, windowVisible])\n\n  const debouncedState = useDebounce(state, 100)\n\n  useEffect(() => {\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return\n    updateBlockNumber({ chainId: debouncedState.chainId, blockNumber: debouncedState.blockNumber })\n  }, [windowVisible, debouncedState.blockNumber, debouncedState.chainId, updateBlockNumber])\n\n  useEffect(() => {\n    updateChainId(debouncedState.chainId ? supportedChainId(debouncedState.chainId) ?? null : null)\n  }, [debouncedState.chainId, updateChainId])\n\n  useEffect(() => {\n    if (!account || !library?.provider?.request || !library?.provider?.isMetaMask) {\n      return\n    }\n    switchToNetwork({ library })\n      .then(x => x ?? setImplements3085(true))\n      .catch(() => setImplements3085(false))\n  }, [account, chainId, library, setImplements3085])\n\n  return null\n}\n","import { useEffect, useState } from 'react'\n\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n","import { SupportedChainId } from 'blockchain/constants/chains'\n\n/**\n * Returns the input chain ID if chain is supported. If not, return undefined\n * @param chainId a chain ID, which will be returned if it is a supported chain ID\n */\nexport function supportedChainId(chainId: number): number | undefined {\n  if (chainId in SupportedChainId) {\n    return chainId\n  }\n  return undefined\n}\n","import { useEffect } from 'react'\nimport { useActiveWeb3React } from 'blockchain/hooks'\nimport { useBlockNumber } from 'state/blockchain/hooks'\n\nimport { useAddPopup, useFinalizeTransaction, useCheckedTransaction } from 'state/application/hooks'\nimport { useAppSelector } from 'state'\n\nexport function shouldCheck(\n  lastBlockNumber: number,\n  tx: { addedTime: number; receipt?: Record<any, any>; lastCheckedBlockNumber?: number }\n): boolean {\n  if (tx.receipt) return false\n  if (!tx.lastCheckedBlockNumber) return true\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber\n  if (blocksSinceCheck < 1) return false\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60\n  if (minutesPending > 60) {\n    // every 10 blocks if pending for longer than an hour\n    return blocksSinceCheck > 9\n  } else if (minutesPending > 5) {\n    // every 3 blocks if pending more than 5 minutes\n    return blocksSinceCheck > 2\n  } else {\n    // otherwise every block\n    return true\n  }\n}\n\nexport default function Updater(): null {\n  const { chainId, library } = useActiveWeb3React()\n\n  const lastBlockNumber = useBlockNumber()\n\n  const state = useAppSelector(state => state.transactions)\n\n  // show popup on confirm\n  const addPopup = useAddPopup()\n  const finalizeTransaction = useFinalizeTransaction()\n  const checkedTransaction = useCheckedTransaction()\n\n  useEffect(() => {\n    if (!chainId || !library || !lastBlockNumber) return\n\n    const transactions = state[chainId] ?? {}\n\n    Object.keys(transactions)\n      .filter(hash => shouldCheck(lastBlockNumber, transactions[hash]))\n      .forEach(hash => {\n        library\n          .getTransactionReceipt(hash)\n          .then(receipt => {\n            if (receipt) {\n              finalizeTransaction({\n                chainId,\n                hash,\n                receipt: {\n                  blockHash: receipt.blockHash,\n                  blockNumber: receipt.blockNumber,\n                  contractAddress: receipt.contractAddress,\n                  from: receipt.from,\n                  status: receipt.status,\n                  to: receipt.to,\n                  transactionHash: receipt.transactionHash,\n                  transactionIndex: receipt.transactionIndex\n                }\n              })\n\n              addPopup(\n                {\n                  txn: {\n                    hash,\n                    success: receipt.status === 1,\n                    summary: transactions[hash]?.summary\n                  }\n                },\n                hash\n              )\n            } else {\n              checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber })\n            }\n          })\n          .catch(error => {\n            console.error(`failed to check transaction hash: ${hash}`, error)\n          })\n      })\n  }, [chainId, library, lastBlockNumber, addPopup, state, finalizeTransaction, checkedTransaction])\n\n  return null\n}\n","import { useEffect } from 'react'\nimport { ThemeModes } from 'theme/styled'\nimport { useThemeManager } from './hooks'\n\nexport default function Updater(): null {\n  const { theme, setMode } = useThemeManager()\n\n  // keep dark mode in sync with the system\n  useEffect(() => {\n    const autoDarkHandler = (match: MediaQueryListEvent) => {\n      const autoTheme = match.matches ? ThemeModes.DARK : ThemeModes.LIGHT\n      setMode(autoTheme)\n    }\n\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\n\n    // If system prefers dark mode and user theme isnt already explicitly set by user\n    if (match.matches && theme.autoDetect) {\n      setMode(ThemeModes.DARK)\n    }\n\n    if (match?.addEventListener) {\n      match?.addEventListener('change', autoDarkHandler)\n    }\n\n    return () => {\n      if (match?.removeEventListener) {\n        match?.removeEventListener('change', autoDarkHandler)\n      }\n    }\n  }, [setMode, theme])\n\n  return null\n}\n","import { createGlobalStyle } from 'styled-components/macro'\nimport { transparentize } from 'polished'\n\nimport { getThemeColours, setTextColour, setBgColour } from '../utils'\nimport { ThemeModes } from '../styled'\n\nexport const TopGlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n\n  html,\n  input,\n  textarea,\n  button {\n    font-family: 'Inter', sans-serif;\n    font-display: fallback;\n  }\n  \n  @supports (font-variation-settings: normal) {\n    html,\n    input,\n    textarea,\n    button {\n      font-family: 'Inter var', sans-serif;\n    }\n  }\n  \n  html,\n  body {\n    font-size: 10px;\n    margin: 0;\n    padding: 0;\n  }\n\n  \n  html {\n    font-variant: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    font-feature-settings: 'ss01' on, 'ss02' on, 'cv01' on, 'cv03' on;\n  }\n\n  body {\n    // BG\n    background-position: 0 -30vh;\n    background-repeat: no-repeat;\n  }\n\n  body > div#root {\n    // LAYOUT\n    height: 100vh;\n    display: grid;\n    grid-template-areas:  'header header'\n                          'nav main'\n                          'footer footer';\n    grid-template-columns: minmax(auto, max-content) 5fr;\n    grid-template-rows: auto 1fr auto;\n    overflow: hidden;\n  }\n\n  header {\n    grid-area: header;\n  }\n\n  footer {\n    grid-area: footer;\n  }\n\n  nav {\n    grid-area: nav;\n  }\n\n  article {\n    grid-area: main;\n  }\n\n  nav, article {\n    overflow-y: auto;\n  }\n\n  a {\n    color: ${getThemeColours(ThemeModes.LIGHT).blue1};\n  }\n  \n  button {\n    user-select: none;\n  }\n\n  select {\n    // A reset of styles, including removing the default dropdown arrow\n    appearance: none;\n    // Additional resets for further consistency\n    background-color: transparent;\n    border: none;\n    padding: 0 1em 0 0;\n    margin: 0;\n    width: 100%;\n    font-family: inherit;\n    font-size: inherit;\n    cursor: inherit;\n    line-height: inherit;\n  }\n`\n\nexport const ThemedGlobalStyle = createGlobalStyle`\n  html {\n    ${setTextColour('text1')}\n    ${setBgColour('bg2')}\n  }\n\n  body {\n    background-image: ${({ theme }): string => `\n      radial-gradient(\n        50% 50% at 50% 50%,\n        ${transparentize(0.9, theme.primary1)} 0%,\n        ${transparentize(1, theme.bg1)} 100%\n      );`}\n\n    transition: background-color, background-image, color 0.3s ease-in-out;\n  }\n\n  header, nav, footer {\n    background: ${({ theme }) => transparentize(0.1, theme.red2)};\n  }\n\n`\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\ndeclare global {\n  interface Window {\n    swNeedUpdate: boolean\n  }\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nconst SWHelper = {\n  async getWaitingWorker() {\n    const registrations = (await navigator?.serviceWorker?.getRegistrations()) || []\n    const registrationWithWaiting = registrations.find(reg => reg.waiting)\n    return registrationWithWaiting?.waiting\n  },\n\n  async skipWaiting() {\n    return (await SWHelper.getWaitingWorker())?.postMessage({ type: 'SKIP_WAITING_WHEN_SOLO' })\n  },\n\n  async prepareCachesForUpdate() {\n    console.log('[worker] prepareCachesForUpdate')\n    return (await SWHelper.getWaitingWorker())?.postMessage({ type: 'PREPARE_CACHES_FOR_UPDATE' })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      if (registration.waiting && registration.active) {\n        console.log('[worker] Needs update (waiting & active)')\n        window.swNeedUpdate = true\n      }\n\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              console.log('[worker] Needs update (installed)')\n              window.swNeedUpdate = true\n\n              SWHelper.prepareCachesForUpdate().then()\n\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                '[worker] New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('[worker] Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('[worker] Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            '[worker] This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n\n    window.addEventListener('beforeunload', async () => {\n      if (window.swNeedUpdate) {\n        await SWHelper.skipWaiting()\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","/* eslint-disable prefer-rest-params */\nexport function nodeRemoveChildFix() {\n  if (typeof Node === 'function' && Node.prototype) {\n    const originalRemoveChild = Node.prototype.removeChild\n    Node.prototype.removeChild = function<T extends Node>(child: T): T {\n      if (child.parentNode !== this) {\n        if (console) {\n          console.error('Cannot remove a child from a different parent', child, this)\n        }\n        return child\n      }\n      return originalRemoveChild.apply(this, arguments as any) as T\n    }\n\n    const originalInsertBefore = Node.prototype.insertBefore\n    Node.prototype.insertBefore = function<T extends Node>(newNode: T, referenceNode: Node | null): T {\n      if (referenceNode && referenceNode.parentNode !== this) {\n        if (console) {\n          console.error('Cannot insert before a reference node from a different parent', referenceNode, this)\n        }\n        return newNode\n      }\n      return originalInsertBefore.apply(this, arguments as any) as T\n    }\n  }\n}\n","import 'inter-ui'\nimport './i18n'\n\nimport { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\n\nimport { StrictMode } from 'react'\nimport { Provider } from 'react-redux'\n\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\n\nimport { NetworkContextName } from 'blockchain/constants'\nimport getLibrary from 'blockchain/utils/getLibrary'\n\nimport App from './pages/App'\n\nimport store from 'state'\nimport BlockchainUpdater from 'state/blockchain/updater'\nimport TransactionUpdater from 'state/transactions/updater'\nimport UserUpdater from 'state/user/updater'\n\nimport ThemeProvider from 'theme'\nimport { TopGlobalStyle, ThemedGlobalStyle } from 'theme/styles/global'\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\nimport { nodeRemoveChildFix } from 'utils/node'\n\n// Node removeChild hackaround\n// based on: https://github.com/facebook/react/issues/11538#issuecomment-417504600\nnodeRemoveChildFix()\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\n\nif (!!window.ethereum) {\n  window.ethereum.autoRefreshOnNetworkChange = false\n}\n\nfunction Updaters() {\n  return (\n    <>\n      <UserUpdater />\n      <BlockchainUpdater />\n      <TransactionUpdater />\n    </>\n  )\n}\n\nReactDOM.render(\n  <StrictMode>\n    {/* Provides all top level CSS NOT dynamically adjustable by the ThemeProvider */}\n    <TopGlobalStyle />\n    <Provider store={store}>\n      <HashRouter>\n        <Web3ReactProvider getLibrary={getLibrary}>\n          <Web3ProviderNetwork getLibrary={getLibrary}>\n            <Updaters />\n            <ThemeProvider>\n              {/* Provides all top level CSS dynamically adjustable by the ThemeProvider */}\n              <ThemedGlobalStyle />\n              <App />\n            </ThemeProvider>\n          </Web3ProviderNetwork>\n        </Web3ReactProvider>\n      </HashRouter>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root')\n)\n\nasync function deleteAllCaches() {\n  const cacheNames = (await caches.keys()) || []\n\n  cacheNames.map(cacheName => {\n    console.log('[worker] Delete cache', cacheName)\n    // Delete old caches\n    // https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker#removing_outdated_caches\n    return caches.delete(cacheName)\n  })\n}\n\nasync function unregisterAllWorkers() {\n  navigator.serviceWorker.getRegistrations().then(function(registrations) {\n    for (const registration of registrations) {\n      registration.unregister()\n    }\n  })\n}\n\nif ('serviceWorker' in navigator) {\n  console.log('[worker] Unregister worker...')\n  serviceWorkerRegistration.unregister()\n\n  console.log('[worker] Deleting all caches...')\n  deleteAllCaches()\n    .then(() => console.log('[worker] All caches have been deleted'))\n    .catch(console.error)\n\n  console.log('[worker] Unregistering all workers...')\n  unregisterAllWorkers()\n    .then(() => console.log('[worker] All workers have been unregistered'))\n    .catch(console.error)\n}\n"],"sourceRoot":""}