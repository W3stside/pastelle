{"version":3,"sources":["components/Button/index.tsx","theme/styles/mediaQueries.ts","components/Layout/Article.tsx","components/ScrollingIndicator/index.tsx","components/ScrollingContentPage/styleds.ts","assets/svg/pastelle-ivory-outlined.svg","components/ScrollingContentPage/index.tsx","components/Carousel/styleds.ts","components/Carousel/index.tsx","components/Breadcrumb/index.tsx","components/Modal/index.tsx","components/LazyVideo/index.tsx","hooks/useDetectScrollIntoView.ts","pages/SingleItem/ItemVideoContent.tsx","pages/SingleItem/AsideWithVideo.tsx","pages/SingleItem/index.ts","pages/Catalog/index.tsx","i18n.ts","blockchain/constants/chains.ts","assets/chains/network-mainnet-logo.svg","assets/chains/network-rinkeby-logo.svg","assets/chains/network-gnosis-chain-logo.svg","blockchain/constants/tokens.ts","blockchain/constants/addresses.ts","blockchain/utils/constructSameAddressMap.ts","blockchain/connectors/Fortmatic.ts","blockchain/connectors/NetworkConnector.ts","blockchain/connectors/index.ts","blockchain/constants/wallets.ts","blockchain/utils/getLibrary.ts","blockchain/hooks/index.ts","components/blockchain/Web3ReactManager/index.tsx","pages/App.tsx","hooks/useIsWindowVisible.ts","blockchain/utils/addNetwork.ts","blockchain/utils/switchToNetwork.ts","state/blockchain/hooks.ts","state/blockchain/updater.ts","hooks/useDebounce.ts","blockchain/utils/supportedChainId.ts","state/transactions/updater.tsx","state/user/updater.ts","state/catalog/updater.tsx","assets/fonts/Roboto/Roboto-Thin.ttf","assets/fonts/Roboto/Roboto-ThinItalic.ttf","assets/fonts/Roboto/Roboto-Light.ttf","assets/fonts/Roboto/Roboto-LightItalic.ttf","assets/fonts/Roboto/Roboto-Regular.ttf","assets/fonts/Roboto/Roboto-Italic.ttf","assets/fonts/Roboto/Roboto-Medium.ttf","assets/fonts/Roboto/Roboto-MediumItalic.ttf","assets/fonts/Roboto/Roboto-Bold.ttf","assets/fonts/Roboto/Roboto-BoldItalic.ttf","assets/fonts/Roboto/Roboto-Black.ttf","assets/fonts/Roboto/Roboto-BlackItalic.ttf","theme/styles/fonts.ts","theme/styles/global.tsx","serviceWorkerRegistration.ts","utils/node.ts","index.tsx","state/multicall/actions.ts","state/multicall/utils.ts","state/multicall/reducer.ts","state/global/actions.ts","state/index.ts","theme/styled.ts","pages/SingleItem/styleds.tsx","utils/logging.ts","utils/index.ts","components/Layout/Row.tsx","components/Layout/Column.tsx","components/Layout/Card.tsx","theme/components.tsx","theme/index.tsx","constants/config.ts","state/application/reducer.ts","theme/styles/colours.ts","theme/utils.ts","state/user/hooks.ts","mock/apparel/types.ts","state/catalog/hooks.ts","state/user/reducer.ts","components/Loader/index.tsx","state/application/hooks.ts","state/blockchain/reducer.ts","components/SmartImg/index.tsx","state/catalog/reducer.ts","state/transactions/reducer.ts","mock/apparel/utils.ts","mock/apparel/2022/FALL/index.ts","mock/apparel/index.ts","pages/Catalog/hooks.ts"],"names":["ButtonVariations","ButtonSizeVariations","BV","BSV","BUTTON_VARIATION_LIST","Object","entries","DEFAULT_DARKEN_AMOUNT","PRIMARY_BUTTON_STYLES","css","theme","text1","bg1","darken","SECONDARY_BUTTON_STYLES","bg3","DANGER_BUTTON_STYLES","red1","red2","SUCCESS_BUTTON_STYLES","green1","green2","WARNING_BUTTON_STYLES","yellow1","yellow2","CANCEL_BUTTON_STYLES","text3","DISABLED_BUTTON_STYLES","textDisabled","bgDisabled","THEME_BUTTON_STYLES","ButtonThemeMap","reduce","accum","buttonStyle","buttonVariant","DEFAULT","PRIMARY","SECONDARY","DANGER","SUCCESS","WARNING","CANCEL","DISABLED","THEME","THEME_LIST","accum2","ButtonTheme","variants","BUTTON_THEME_KEY","ButtonSizes","buttons","font","size","normal","SMALL","small","BIG","large","ButtonBase","styled","button","border","borderRadius","ColouredButtonBase","ColouredAndSizedButtonBase","children","restProps","themeExtension","component","attrs","MEDIA_WIDTHS","upToExtraSmall","upToSmall","upToMedium","upToLarge","mediaWidthTemplates","keys","accumulator","a","b","c","ArticleFadeInContainer","article","process","fadeInAnimation","Wrapper","div","bgColor","color","left","top","bottom","height","width","padding","zIndex","ScrollingContentIndicator","baseContentMessage","onlyOne","styleProps","AnimatedDivContainer","Scroller","mediaWidth","ScrollerContainer","CONFIG","MAC_SPRING_CONFIG","friction","tension","MOBILE_SPRING_CONFIG","mass","_calcAnchorPos","point","mult","range","highPoint","Math","ceil","_getLimits","limitA","limitB","abs","_getNearestAxisPoint","multiple","lethargy","Lethargy","useStateRef","defaultRef","processNode","useState","node","setNode","useCallback","newNode","ScrollingContentPage","data","dataItem","fHeight","showIndicator","IterableComponent","indicatorProps","mobileView","setMobileView","items","visible","snapOnScroll","scaleOptions","scaleOnScroll","initialScale","prev","useRef","target","setContainerRef","clientHeight","setHeightRef","useEffect","_handleWindowResize","window","addEventListener","removeEventListener","setTargetRef","current","currentIndex","setCurrentIndex","firstPaintOver","setFirstPaintOver","useSprings","length","i","scale","y","onRest","springs","api","getIndex","l","getPos","firstVisible","firstVisibleIndex","calculateApiLogic","dy","my","active","firstVis","firstVisIdx","position","s","prevPosition","rank","yPos","isMobile","max","anchorPoint","immediate","config","runSprings","itemPosition","floor","start","wheelOffset","dragOffset","useGesture","onDrag","offset","movement","direction","aY","computedY","onWheel","event","preventDefault","check","eventOptions","passive","useViewPagerAnimation","mobileProps","handleMobileViewClick","state","loadText","src","PastelleIvoryOutlined","animation","ref","onClick","isActive","itemIndex","map","style","CarouselStep","Row","$calculatedWidth","CarouselContainer","fixedHeight","CarouselButton","buttonColor","transparentize","CarouselButtonContainer","Carousel","imageList","transformation","mediaStartIndex","showCarouselContentIndicators","onCarouselChange","onImageClick","setRef","parentWidth","setParentWidth","selectedStep","setSelectedStep","useMemo","isMultipleCarousel","lastStepIndex","carouselImageRef","carouselRef","undefined","parentElement","offsetWidth","focus","handleResize","id","path","index","isLastStep","calculatedWidth","justifyContent","SmartImg","e","stopPropagation","indexToSet","MOCK_BREADCRUMB","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","modalBG","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","isLargeImageModal","rest","bg0","shadow1","Modal","onDismiss","initialFocusRef","className","fadeTransition","useTransition","duration","from","opacity","enter","leave","useSpring","set","bind","down","styles","item","unstable_lockFocusAcrossFrames","transform","interpolate","background","right","textAlign","margin","tabIndex","VideoContainer","ItemHeader","Spinner","label","itemColor","getThemeColours","ThemeModes","CHAMELEON","blue1","BASE_VIDEO_PROPS","loop","muted","autoPlay","preload","BASE_INTERSECTION_OPTIONS","threshold","forwardRef","sourcesProps","videoProps","loadInView","container","Loader","boxProps","dataLoaded","setDataLoaded","metaDataLoaded","setMetaDataLoaded","loaded","videoElement","setVideoElement","video","_handleDataLoad","_handleMetaDataLoad","isInView","elem","options","setIsInView","observer","IntersectionObserver","isIntersecting","unobserve","observe","disconnect","useDetectScrollIntoView","root","sourceProps","ItemVideoContent","itemMediaList","currentCarouselIndex","setVideoStatus","handleOnPlaying","handleOnPaused","videoMedia","lowq","document","querySelector","marginLeft","type","Breadcrumbs","breadcrumbs","lastCrumb","rowProps","crumb","isLastCrumb","to","AsideWithVideo","itemHeader","itemLogo","itemSizesList","itemDescription","itemArtistInfo","itemKey","noVideo","noDescription","handleMobileItemClick","setCurrentCarouselIndex","toggleModal","useToggleModal","ApplicationModal","ITEM_LARGE_IMAGE","showLargeImage","useModalOpen","slice","pop","useBreadcrumb","smallImagesList","largeImagesList","forEach","imageMedia","push","setOnScreenId","useSetOnScreenItemID","marginBottom","fontWeight","marginTop","quality","backgroundColor","fontSize","letterSpacing","alignItems","white","PASTELLE_CREDIT","disabled","paragraph","hide","BASE_CATALOG_URL","Catalog","useCatalogItemFromURL","randomiseData","seasonList","currentItem","Article","STORE_IMAGE_SIZES","i18next","use","XHR","LanguageDetector","initReactI18next","init","backend","loadPath","react","useSuspense","fallbackLng","keySeparator","interpolation","escapeValue","SupportedChainId","MAINNET","RINKEBY","XDAI","L1_CHAIN_IDS","CHAIN_INFO","docs","explorer","infoLink","logoUrl","EthereumLogo","nativeCurrency","name","symbol","decimals","RinkebyLogo","GnosisChainLogo","WXDAI","Token","WETH9","address","additionalNetworks","concat","memo","chainId","constructSameAddressMap","CHAIN_ID_NETWORK_ARGUMENT","ChainId","FortmaticConnector","this","fortmatic","Fortmatic","default","apiKey","Error","provider","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","then","accounts","account","FortmaticConnectorCore","RequestError","message","code","MiniRpcProvider","url","batchWaitTimeMs","isMetaMask","host","nextId","batchTimeoutId","batch","clearBatch","devDebug","fetch","method","headers","accept","body","JSON","stringify","request","response","reject","ok","json","byKey","result","error","sendAsync","callback","params","jsonrpc","catch","toString","promise","setTimeout","parsed","URL","pathname","NetworkConnector","urls","defaultChainId","invariant","supportedChainIds","k","Number","providers","currentChainId","AbstractConnector","WALLET_CONNECT_BRIDGE","parseInt","chainIds","split","trim","includes","join","rpcNetworks","acc","otherChainIds","filter","networkId","getRpcNetworks","NETWORK_CHAIN_ID","network","WalletProvider","injected","InjectedConnector","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","REACT_APP_FORTMATIC_KEY","portis","PortisConnector","dAppId","REACT_APP_PORTIS_ID","networks","walletlink","WalletLinkConnector","appName","appLogoUrl","STORAGE_KEY_LAST_PROVIDER","NetworkContextName","Set","getLibrary","library","Web3Provider","pollingInterval","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","useEagerConnect","activate","connector","tried","setTried","handleBeforeUnload","walletType","INJECTED","WALLET_CONNECT","FORMATIC","PORTIS","WALLET_LINK","getProviderType","localStorage","setItem","removeItem","connectInjected","isAuthorized","ethereum","connectWalletConnect","latestProvider","getItem","MessageWrapper","Message","h2","secondary1","Web3ReactManager","useWeb3React","networkActive","networkError","activateNetwork","triedEager","suppress","on","handleChainChanged","console","handleAccountsChanged","removeListener","useInactiveListener","Header","lazy","Popups","AboutUs","NotFound","Navigation","App","useCatalogByYearAndSeason","year","season","fallback","exact","strict","VISIBILITY_STATE_SUPPORTED","isWindowVisible","visibilityState","useIsWindowVisible","focused","setFocused","listener","addNetwork","info","formattedChainId","hexStripZeros","BigNumber","toHexString","chainName","rpcUrls","blockExplorerUrls","switchToNetwork","getNetwork","useBlockNumber","useAppSelector","blockchain","blockNumber","DEFAULT_MS_BEFORE_WARNING","useBlockWarningTimer","currentBlock","chainConnectivityWarningActive","chainConnectivityWarning","setChainConnectivityWarning","dispatch","useAppDispatch","payload","useSetChainConnectivityWarning","msSinceLastBlock","setMsSinceLastBlock","timeout","waitMsBeforeWarning","blockWaitMsBeforeWarning","clearTimeout","Updater","updateChainId","useUpdateChainId","updateBlockNumber","useUpdateBlockNumber","setImplements3085","useSetImplements3085","setState","windowVisible","blockNumberCallback","getBlockNumber","debouncedState","value","delay","debouncedValue","setDebouncedValue","handler","useDebounce","supportedChainId","x","lastBlockNumber","transactions","addPopup","useAddPopup","finalizeTransaction","useFinalizeTransaction","checkedTransaction","useCheckedTransaction","hash","tx","receipt","lastCheckedBlockNumber","blocksSinceCheck","minutesPending","Date","getTime","addedTime","shouldCheck","getTransactionReceipt","blockHash","contractAddress","status","transactionHash","transactionIndex","txn","success","summary","useThemeManager","setMode","autoDarkHandler","match","autoTheme","matches","DARK","LIGHT","matchMedia","autoDetect","CURRENT_YEAR","getFullYear","useMockFetchCatalogDataByYear","winterCatalog","WINTER","springCatalog","SPRING","summerCatalog","SUMMER","fallCatalog","FALL","batchUpdateCatalogByYear","useBatchUpdateCatalogByYear","catalog","FontStyles","createGlobalStyle","Roboto100","Roboto100Italic","Roboto300","Roboto300Italic","Roboto400","Roboto400Italic","Roboto500","Roboto500Italic","Roboto700","Roboto700Italic","Roboto900","Roboto900Italic","TopGlobalStyle","flickerAnimation","frameBgColor","ThemedGlobalStyle","setTextColour","setBgColour","primary1","headerLogo","navLogo","animationDelay","ThemedGlobalComponent","useAppColourTheme","useGetCurrentOnScreenItem","mode","Boolean","location","hostname","Node","prototype","originalRemoveChild","removeChild","child","parentNode","apply","arguments","originalInsertBefore","insertBefore","referenceNode","nodeRemoveChildFix","Web3ProviderNetwork","createWeb3ReactRoot","Updaters","caches","cacheName","devLog","delete","navigator","serviceWorker","getRegistrations","registrations","unregister","autoRefreshOnNetworkChange","ReactDOM","render","store","getElementById","ready","registration","deleteAllCaches","unregisterAllWorkers","addMulticallListeners","createAction","removeMulticallListeners","fetchingMulticallResults","errorFetchingMulticallResults","updateMulticallResults","toCallKey","call","key","callData","gasRequired","isSafeInteger","multicall","createReducer","callResults","builder","addCase","calls","blocksPerFetch","listeners","callListeners","callKey","fetchingBlockNumber","results","updateVersion","useDispatch","useSelector","PERSISTED_KEYS","configureStore","reducer","application","user","middleware","defaultMiddleware","thunk","save","states","preloadedState","load","disableWarnings","saturateAnimation","textShadowAnimation","VideoContentWrapper","TYPE","maxWidth","ItemSubHeader","img","black","props","fontStyle","useGradient","ItemBreadcrumb","NavLink","ItemDescription","ItemAsidePanel","Column","ItemContainer","side","ItalicStrikethrough","ItemCredits","_showSocialUrl","SocialType","INSTAGRAM","DEVIANTART","DRIBBBLE","TIKTOK","BEHANCE","ItemArtistInfo","artist","social","display","href","gap","gradientBase","gradientEnd","rotation","Button","parser","UAParser","userAgent","getDevice","getResult","ms","Box","align","RowFixed","justify","AutoColumn","Card","bg2","primary5","StyledInternalLink","warning","text4","X","text2","Link","StyledLink","rotateImg","keyframes","ExternalLink","rel","handleClick","ctrlKey","metaKey","ReactGA","outboundLink","rotate","span","TextWrapper","Text","main","link","largeHeader","mediumHeader","subHeader","blue","yellow","darkGray","gray","italic","DEFAULT_THEME","flexColumnNoWrap","flexRowNoWrap","ThemeProvider","themeObject","themeColours","Children","childWithTheme","isValidElement","cloneElement","CURRENT_SEASON","LARGE","SHIRT_SIZES","applicationSlice","createSlice","initialState","popupList","openModal","reducers","setOpenModal","action","content","removeAfterMs","popup","nanoid","show","removePopup","p","actions","DEFAULT_COLOURS","whiteDark","blueDark","purple","bgLight","bgDark","blackLight","successLight","successDark","dangerLight","dangerDark","warningLight","warningDark","disabledDarkOpaque","disabledDark","mainGradient","mainGradientDarker","LIGHT_COLOURS","text5","bg4","bg5","advancedBG","primary2","primary3","primary4","primaryText1","secondary2","secondary3","DARK_COLOURS","VAMPIRE_COLOURS","CHAMELEON_COLOURS","colourTheme","THEME_COLOURS","VAMPIRE","themeColour","updateThemeMode","setAutoDetect","updateThemeAutoDetect","setOnScreenItemID","useOnScreenItemID","onScreenItemID","useCatalog","itemId","userSlice","lastUpdateVersionTimestamp","StyledSVG","svg","stroke","FixedContainer","FixedAnimatedLoader","styleParams","viewBox","fill","xmlns","d","strokeWidth","strokeLinecap","strokeLinejoin","modal","open","useRemovePopup","useActivePopups","list","blockchainSlice","implements3085","DEFAULT_LQ_IP","DEFAULT_TRANSFORMATIONS","pr","ApiImage","lq","forwardedRef","lqip","publicKey","urlEndpoint","transformationPosition","loading","displayName","catalogSlice","updateCatalog","removeCatalogSeason","removeCatalogSeasonItem","HashType","now","transactionsSlice","addTransaction","hashType","approval","presign","safeTransaction","warn","txs","ETHEREUM_TX","clearAllTransactions","confirmedTime","replaceTransaction","oldHash","newHash","allTxs","replacementType","updateSafeTransaction","safeTxHash","buildUrl","HOME_GROWN_MESSAGE","VIRGIL","description","collaborator","VOODOO","ELLEX","REBIRTH","DAYDREAMING","FALL_CATALOG","values","FALL_CATALOG_INFO","itemContent","fullItem","assign","catalogItems","Map","_getRandomArrayItem","arr","randomIndex","round","random","adjustedArrEnd","adjustedArrBeg","useLocation","substring","catalogMap","seasonMap","toUpperCase","useMockFetchCatalogData","useSWR","MOCK_CATALOG_MAP","get","refreshInterval"],"mappings":"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","file":"static/js/main.723bb58d.chunk.js","sourcesContent":["import styled, { css, FlattenInterpolation, ThemeProps, DefaultTheme } from 'styled-components/macro'\nimport { variants } from 'styled-theming'\nimport ThemeProvider from 'theme'\n\nimport { darken } from 'polished'\nimport { THEME_LIST, ThemeModes } from 'theme/styled'\n\nexport type Writable<T> = {\n  -readonly [K in keyof T]: T[K]\n}\n\nexport interface ButtonBaseProps extends React.ButtonHTMLAttributes<Element> {\n  variant?: ButtonVariations\n  size?: ButtonSizeVariations\n}\n\nexport enum ButtonVariations {\n  DEFAULT = 'DEFAULT',\n  PRIMARY = 'PRIMARY',\n  SECONDARY = 'SECONDARY',\n  DANGER = 'DANGER',\n  SUCCESS = 'SUCCESS',\n  WARNING = 'WARNING',\n  CANCEL = 'CANCEL',\n  DISABLED = 'DISABLED',\n  THEME = 'THEME'\n}\n\nexport enum ButtonSizeVariations {\n  DEFAULT = 'DEFAULT',\n  SMALL = 'SMALL',\n  BIG = 'BIG'\n}\n\n// Aliases\nexport const BV = ButtonVariations\nexport const BSV = ButtonSizeVariations\n\nconst BUTTON_VARIATION_LIST = Object.entries(ButtonVariations)\n\nconst DEFAULT_DARKEN_AMOUNT = 0.2\n\nconst PRIMARY_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text1};\n  background: ${({ theme }): string => theme.bg1};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg1)};\n  }\n`\n\nconst SECONDARY_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text1};\n  background: ${({ theme }): string => theme.bg3};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg3)};\n  }\n`\n\nconst DANGER_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.red1};\n  background: ${({ theme }): string => theme.red2};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.red2)};\n    border-color: ${({ theme }): string => theme.red1};\n  }\n`\n\nconst SUCCESS_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.green1};\n  background: ${({ theme }): string => theme.green2};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.green2)};\n    border-color: ${({ theme }): string => theme.green1};\n  }\n`\n\nconst WARNING_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.yellow1};\n  background: ${({ theme }): string => theme.yellow2};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.yellow2)};\n    border-color: ${({ theme }): string => theme.yellow1};\n  }\n`\n\nconst CANCEL_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text3};\n  background: ${({ theme }): string => theme.bg1};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg1)};\n    border-color: ${({ theme }): string => theme.text3};\n  }\n`\n\nconst DISABLED_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.textDisabled};\n  background: ${({ theme }): string => theme.bgDisabled};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bgDisabled)};\n    border-color: ${({ theme }): string => theme.textDisabled};\n  }\n`\n\nconst THEME_BUTTON_STYLES = css`\n  color: ${({ theme }): string => theme.text1};\n  background: ${({ theme }): string => theme.bg1};\n\n  &:hover {\n    background: ${({ theme }): string => darken(DEFAULT_DARKEN_AMOUNT, theme.bg1)};\n    border-color: ${({ theme }): string => theme.text1};\n  }\n`\n\ntype ButtonVariationInterpolationObject = {\n  [key in keyof typeof ButtonVariations]: ThemeInterpolationObject\n}\n\ntype ThemeInterpolationObject = { [key in keyof typeof ThemeModes]: FlattenInterpolation<ThemeProps<DefaultTheme>> }\n\nconst ButtonThemeMap: Writable<ButtonVariationInterpolationObject> = BUTTON_VARIATION_LIST.reduce(\n  (accum, [, buttonVariant]) => {\n    // buttonStyle = 'secondary' or 'primary' etc style\n    let buttonStyle: FlattenInterpolation<ThemeProps<DefaultTheme>>\n\n    switch (buttonVariant) {\n      case ButtonVariations.DEFAULT:\n        buttonStyle = PRIMARY_BUTTON_STYLES\n        break\n      case ButtonVariations.PRIMARY:\n        buttonStyle = PRIMARY_BUTTON_STYLES\n        break\n      case ButtonVariations.SECONDARY:\n        buttonStyle = SECONDARY_BUTTON_STYLES\n        break\n      case ButtonVariations.DANGER:\n        buttonStyle = DANGER_BUTTON_STYLES\n        break\n      case ButtonVariations.SUCCESS:\n        buttonStyle = SUCCESS_BUTTON_STYLES\n        break\n      case ButtonVariations.WARNING:\n        buttonStyle = WARNING_BUTTON_STYLES\n        break\n      case ButtonVariations.CANCEL:\n        buttonStyle = CANCEL_BUTTON_STYLES\n        break\n      case ButtonVariations.DISABLED:\n        buttonStyle = DISABLED_BUTTON_STYLES\n        break\n      case ButtonVariations.THEME:\n        buttonStyle = THEME_BUTTON_STYLES\n        break\n    }\n\n    accum[buttonVariant] = THEME_LIST.reduce<Writable<ThemeInterpolationObject>>((accum2, [, themeName]) => {\n      // { 'LIGHT': css` ... `, 'DARK': css` ... `, ... }\n      accum2[themeName] = buttonStyle\n      return accum2\n    }, {} as ThemeInterpolationObject)\n\n    return accum\n  },\n  {} as Writable<ButtonVariationInterpolationObject>\n)\n\nexport const ButtonTheme = variants('mode', 'variant', ButtonThemeMap)\n\n// name of the key we will look for on our theme object\n// used to target buttons\nconst BUTTON_THEME_KEY = 'button'\n// Created a 'size' prop on buttons, default | small | big\nconst ButtonSizes = variants('component', 'size', {\n  DEFAULT: {\n    [BUTTON_THEME_KEY]: css`\n      font-size: ${({ theme }) => theme.buttons.font.size.normal};\n      padding: 0.5rem 1rem;\n    `\n  },\n  SMALL: {\n    [BUTTON_THEME_KEY]: css`\n      font-size: ${({ theme }) => theme.buttons.font.size.small};\n      padding: 0.3rem 1rem;\n    `\n  },\n  BIG: {\n    [BUTTON_THEME_KEY]: css`\n      font-size: ${({ theme }) => theme.buttons.font.size.large};\n      padding: 0.65rem 1.2rem;\n    `\n  }\n})\n\nconst ButtonBase = styled.button`\n  border: ${({ theme }) => theme.buttons.border};\n  border-radius: ${({ theme }) => theme.buttons.borderRadius};\n  cursor: pointer;\n  font-size: ${({ theme }) => theme.buttons.font.size.normal};\n  font-weight: 600;\n  outline: 0;\n\n  transition-duration: 0.2;\n  transition-timing-function: ease-in-out;\n  transition-property: color, background, border-color, opacity, margin;\n\n  &:disabled,\n  &[disabled] {\n    pointer-events: none;\n  }\n`\n\nconst ColouredButtonBase = styled(ButtonBase)`\n  /* Fold in theme css above */\n  ${ButtonTheme}\n`\n\nconst ColouredAndSizedButtonBase = styled(ColouredButtonBase)`\n  /* Fold in theme css above */\n  ${ButtonSizes}\n`\n\n// Wrap ColouredAndSizedButtonsBase in it's own ThemeProvider which takes the toplevel app theme\n// ThemeProvider and interpolate over it's props\nconst ThemeWrappedButtonBase: React.FC<React.ButtonHTMLAttributes<Element>> = ({ children, ...restProps }) => (\n  <ThemeProvider themeExtension={{ component: BUTTON_THEME_KEY }}>\n    <ColouredAndSizedButtonBase {...restProps}>{children}</ColouredAndSizedButtonBase>\n  </ThemeProvider>\n)\n\nexport default styled(ThemeWrappedButtonBase).attrs<ButtonBaseProps>(({ size = BSV.DEFAULT }) => ({\n  size\n}))<ButtonBaseProps>``\n","import { ThemedCssFunction, DefaultTheme, CSSObject, FlattenSimpleInterpolation, css } from 'styled-components/macro'\n\nexport const MEDIA_WIDTHS = {\n  upToExtraSmall: 500,\n  upToSmall: 720,\n  upToMedium: 960,\n  upToLarge: 1280\n}\n\ntype MediaWidthKeys = keyof typeof MEDIA_WIDTHS\n\ntype MediaWidth = {\n  [key in MediaWidthKeys]: ThemedCssFunction<DefaultTheme>\n}\n\nexport const mediaWidthTemplates = Object.keys(MEDIA_WIDTHS).reduce<MediaWidth>((accumulator, size: unknown) => {\n  ;(accumulator[size as MediaWidthKeys] as unknown) = (\n    a: CSSObject,\n    b: CSSObject,\n    c: CSSObject\n  ): ThemedCssFunction<DefaultTheme> | FlattenSimpleInterpolation => css`\n    @media (max-width: ${MEDIA_WIDTHS[size as MediaWidthKeys]}px) {\n      ${css(a, b, c)}\n    }\n  `\n  return accumulator\n}, {} as MediaWidth)\n","import styled from 'styled-components/macro'\nimport { fadeInAnimation } from 'pages/SingleItem/styleds'\n\nconst portugalBg = process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + '/portugal-bg_Rqj8jTKhFmds.jpg?tr=q-25'\nconst portugalBgLq =\n  process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + '/portugal-bg_Rqj8jTKhFmds.jpg?tr=h-1,w-1:h-1152,w-528'\n\nexport const ArticleFadeInContainer = styled.article`\n  overflow: hidden;\n  filter: contrast(1) blur(0px);\n\n  background-image: url(${portugalBg}), url(${portugalBgLq});\n  background-size: contain;\n\n  ${fadeInAnimation};\n\n  animation-name: fadeIn;\n  animation-duration: 0.8s;\n`\n","import styled from 'styled-components/macro'\nimport { ItemSubHeader } from 'pages/SingleItem/styleds'\n\nexport type ScrollingIndicatorParams = ScrollingIndicatorStyleProps & {\n  baseContentMessage: string\n  onlyOne?: 'TOP' | 'BOTTOM'\n}\n\nexport interface ScrollingIndicatorStyleProps {\n  bgColor?: string\n  left?: string\n  top?: string\n  bottom?: string\n  padding?: string\n  height?: string\n  width?: string\n  zIndex?: number\n}\n\nconst Wrapper = styled.div<ScrollingIndicatorStyleProps>`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ${({ bgColor = '#fa9b6f' }) => bgColor};\n    color: ${({ color = '#000' }) => color};\n    right: 0;\n    ${({ left }) => left && `left: ${left};`}\n    ${({ top }) => top && `top: ${top};`}\n    ${({ bottom }) => bottom && `bottom: ${bottom};`}\n    height: ${({ height = '50px' }) => height};\n    width: ${({ width = '100%' }) => width};\n    padding: ${({ padding = '0 10px' }) => padding};\n    z-index: ${({ zIndex = 1 }) => zIndex};\n  `\n\nexport function ScrollingContentIndicator({\n  baseContentMessage = 'MORE CONTENT',\n  onlyOne,\n  // isLastIndex,\n  ...styleProps\n}: ScrollingIndicatorParams) {\n  return (\n    <>\n      {onlyOne !== 'BOTTOM' && (\n        <Wrapper {...styleProps} top={'0px'}>\n          <ItemSubHeader>{baseContentMessage}</ItemSubHeader>\n        </Wrapper>\n      )}\n      {onlyOne !== 'TOP' && (\n        <Wrapper {...styleProps} bottom={'0px'}>\n          <ItemSubHeader>{baseContentMessage}</ItemSubHeader>\n        </Wrapper>\n      )}\n    </>\n  )\n}\n","import { a } from '@react-spring/web'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport styled from 'styled-components/macro'\n\nexport const AnimatedDivContainer = styled(a.div)`\n  position: absolute;\n  width: 100%;\n  will-change: transform;\n\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: 0px 0px 50px 10px lightsalmon;\n  }\n\n  transition: box-shadow 0.2s ease-in-out;\n`\n\nexport const Scroller = styled.div<{ index?: number; clientHeight?: number }>`\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  cursor: pointer;\n  // width: calc(100% - ${STORE_IMAGE_SIZES.SMALL}px);\n  z-index: 900;\n\n  touch-action: none;\n\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n    width: 100%;\n  `}\n`\n\nexport const ScrollerContainer = styled.div`\n  height: 100%;\n\n  touch-action: none;\n  transition: transform 350ms ease-in-out;\n`\n","export default __webpack_public_path__ + \"static/media/pastelle-ivory-outlined.06d3dadf.svg\";","import { useState, useRef, useEffect, useCallback, SetStateAction } from 'react'\nimport { useGesture } from '@use-gesture/react'\nimport { useSprings, SpringConfig } from '@react-spring/web'\nimport { FixedAnimatedLoader } from 'components/Loader'\nimport { ScrollingContentIndicator, ScrollingIndicatorParams } from 'components/ScrollingIndicator'\nimport { ScrollerContainer, Scroller, AnimatedDivContainer } from './styleds'\n\nimport { Lethargy } from 'lethargy'\nimport { isMobile } from 'utils'\nimport PastelleIvoryOutlined from 'assets/svg/pastelle-ivory-outlined.svg'\n\ninterface ScrollingContentPageParams<D> {\n  data: D[]\n  dataItem: D | undefined\n  fHeight?: number\n  hideHeight?: number\n  showIndicator?: boolean\n  IterableComponent: (props: D & ScrollableContentComponentBaseProps) => JSX.Element\n}\n\nexport interface ScrollableContentComponentBaseProps {\n  itemIndex: number\n  isActive: boolean\n  firstPaintOver?: boolean\n}\n\ntype Params<P> = ScrollingContentPageParams<P> & Omit<ScrollingIndicatorParams, 'isLastIndex'>\n\nconst CONFIG = {\n  SCROLL_SPEED_COEFFICIENT: 3.2,\n  DRAG_SPEED_COEFFICIENT: 0.5\n}\nconst MAC_SPRING_CONFIG: SpringConfig = { friction: 90, tension: 280 }\n// const WHEEL_SPRING_CONFIG: SpringConfig = { friction: 40, tension: 100 }\nconst MOBILE_SPRING_CONFIG: SpringConfig = { friction: 20, tension: 50, mass: 1 }\n/**\n *\n * @param a input\n * @param b constraint 1 (can be low or high)\n * @param c constraint 2 (can be low or high)\n * @returns number closer to b or c\n */\nconst _closerTo = (a: number, b: number, c: number) => (Math.abs(c - a) >= Math.abs(b - a) ? b : c)\nfunction _getLimits(point: number, mult: number): number[] {\n  const range = point / mult\n  const highPoint = mult * Math.ceil(range)\n  const bounds = [highPoint - mult, highPoint]\n\n  return bounds\n}\nfunction _calcAnchorPos(point: number, mult: number) {\n  const [limitA, limitB] = _getLimits(point, mult)\n\n  return _closerTo(point, limitA, limitB)\n}\n\nfunction _getNearestAxisPoint(point: number, multiple: number) {\n  const anchorPoint = _calcAnchorPos(point, multiple)\n\n  return anchorPoint\n}\ninterface ScrollSpringParams {\n  i: number\n  y: number\n  dy: number\n  my: number\n  active: boolean\n  firstVis: number\n  firstVisIdx: number\n  s: false | -1 | 1\n}\n\n// initialise Lethary\nconst lethargy = new Lethargy()\n\nfunction useStateRef<T>(defaultRef: T, processNode: (node: any) => SetStateAction<T>): [T, (newNode: any) => void] {\n  const [node, setNode] = useState<T>(defaultRef)\n  const setRef = useCallback(\n    newNode => {\n      setNode(processNode(newNode))\n    },\n    [processNode]\n  )\n  return [node, setRef]\n}\n\nexport function useViewPagerAnimation(\n  items: any[],\n  {\n    visible = 1,\n    // fixed height - bypasses useRef\n    fHeight,\n    // snap nearest screen after scroll end\n    snapOnScroll = false,\n    scaleOptions = {\n      scaleOnScroll: 0.8,\n      initialScale: 1\n    }\n  }: {\n    scale?: number\n    visible: number\n    fHeight?: number\n    snapOnScroll?: boolean\n    scaleOptions?: {\n      scaleOnScroll?: number\n      initialScale: number\n    }\n  }\n) {\n  const prev = useRef([0, 1])\n\n  const [target, setContainerRef] = useStateRef(null, node => node)\n  const [height, setHeightRef] = useStateRef<number>(0, node => fHeight || node?.clientHeight || 0)\n\n  // handle window resizing\n  useEffect(() => {\n    // resize handler - update clientHeight\n    const _handleWindowResize = () => !fHeight && target?.clientHeight && setHeightRef(target)\n\n    window?.addEventListener('resize', _handleWindowResize)\n    // first run call\n    _handleWindowResize()\n    return () => {\n      window?.removeEventListener('resize', _handleWindowResize)\n    }\n  }, [fHeight, setHeightRef, target])\n\n  const setTargetRef = useCallback((node: any) => {\n    setContainerRef(node)\n    setHeightRef(node)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const [currentIndex, setCurrentIndex] = useState(prev.current[0])\n  const [firstPaintOver, setFirstPaintOver] = useState(false)\n\n  const [springs, api] = useSprings(\n    items.length,\n    i => ({\n      scale: scaleOptions.initialScale,\n      y: (i < items.length - 1 ? i : -1) * height,\n      onRest: () => {\n        // if (y === 0 && height > 0) {\n        //   setCurrentIndex(i)\n        // }\n\n        // useful in knowing when the FIRST animation has ended\n        // like for setup\n        if (!firstPaintOver) {\n          setFirstPaintOver(true)\n        }\n      }\n      // config: WHEEL_SPRING_CONFIG // MAC_SPRING_CONFIG\n    }),\n    [height]\n  )\n\n  const getIndex = useCallback((y, l = items.length) => (y < 0 ? y + l : y) % l, [items])\n  const getPos = useCallback((i, firstVisible, firstVisibleIndex) => getIndex(i - firstVisible + firstVisibleIndex), [\n    getIndex\n  ])\n\n  const calculateApiLogic = useCallback(\n    ({ i, y, dy, my, active, firstVis, firstVisIdx, s }: ScrollSpringParams) => {\n      const position = getPos(i, firstVis, firstVisIdx)\n      const prevPosition = getPos(i, prev.current[0], prev.current[1])\n      const rank = firstVis - (y < 0 ? items.length : 0) + position - firstVisIdx\n\n      // const configPos = dy > 0 ? position : items.length - position\n      const yPos = (-y % (height * items.length)) + height * rank\n      const scale =\n        scaleOptions?.scaleOnScroll && !isMobile && active\n          ? Math.max(1 - Math.abs(my) / height / 2, scaleOptions.scaleOnScroll)\n          : scaleOptions.initialScale\n\n      const anchorPoint = _getNearestAxisPoint(yPos, height)\n\n      // the frame at the 0 anchor point is the current one in frame\n      // set it as the current index - sets header, nav, etc\n      if (anchorPoint === 0) {\n        setCurrentIndex(i)\n      }\n\n      return {\n        y: active || !snapOnScroll ? yPos : anchorPoint,\n        scale,\n        immediate: dy < 0 ? prevPosition > position : prevPosition < position,\n        // set configs based on intertial vs non-intertial scroll\n        // s === false means intertial\n        config: isMobile ? MOBILE_SPRING_CONFIG : s === false ? MAC_SPRING_CONFIG : MAC_SPRING_CONFIG // WHEEL_SPRING_CONFIG\n      }\n    },\n    [getPos, height, items.length, scaleOptions, snapOnScroll]\n  )\n\n  const runSprings = useCallback(\n    (y, dy, my, active, s) => {\n      const itemPosition = Math.floor(y / height) % items.length\n      const firstVis = getIndex(itemPosition)\n      const firstVisIdx = dy < 0 ? items.length - visible - 1 : 1\n\n      api.start(i => calculateApiLogic({ i, y, dy, my, active, firstVis, firstVisIdx, s }))\n\n      prev.current = [firstVis, firstVisIdx]\n    },\n    [height, items.length, getIndex, visible, api, calculateApiLogic]\n  )\n\n  const wheelOffset = useRef(0)\n  const dragOffset = useRef(0)\n\n  useGesture(\n    {\n      onDrag: ({ active, offset: [, y], movement: [, my], direction: [, dy] }) => {\n        if (dy) {\n          const aY = _getNearestAxisPoint(y, height)\n          dragOffset.current = -aY ?? -y\n          const computedY = wheelOffset.current + -y / CONFIG.DRAG_SPEED_COEFFICIENT\n          runSprings(computedY, -dy, -my, active, false)\n        }\n      },\n      onWheel: ({ event, active, offset: [, y], movement: [, my], direction: [, dy] }) => {\n        event.preventDefault()\n\n        // we need to check the scroll type... intertial vs linear\n        // -1/1 = linear down/up scroll, respectively.\n        // false = intertial\n        const s = lethargy.check(event)\n\n        if (dy) {\n          const aY = _getNearestAxisPoint(y, height)\n          wheelOffset.current = aY ?? y\n          const computedY = dragOffset.current + y / CONFIG.SCROLL_SPEED_COEFFICIENT\n          runSprings(computedY, dy, my, active, s)\n        }\n      }\n    },\n    {\n      target,\n      eventOptions: { passive: false }\n    }\n  )\n\n  return {\n    springs,\n    target,\n    setTargetRef,\n    height,\n    currentIndex,\n    firstPaintOver\n  }\n}\n\nexport function ScrollingContentPage<D>({\n  data,\n  dataItem,\n  fHeight,\n  showIndicator = true,\n  IterableComponent,\n  ...indicatorProps\n}: Params<D>) {\n  const [mobileView, setMobileView] = useState(false)\n  const { springs, setTargetRef, height, currentIndex, firstPaintOver } = useViewPagerAnimation(data, {\n    visible: 1,\n    fHeight,\n    snapOnScroll: false,\n    // defaults to 0.8 scale on scroll and 1 scale default\n    scaleOptions: {\n      initialScale: 0.87\n    }\n  })\n\n  if (!dataItem) return null\n\n  const mobileProps = isMobile ? { mobileView: true, handleMobileViewClick: () => setMobileView(state => !state) } : {}\n\n  return (\n    <>\n      <FixedAnimatedLoader loadText={<img src={PastelleIvoryOutlined} />} left=\"50%\" animation width=\"40vw\" />\n      <ScrollerContainer>\n        {/* scroll div */}\n        {!mobileView && (\n          <Scroller ref={setTargetRef} onClick={mobileProps.mobileView && (mobileProps.handleMobileViewClick as any)} />\n        )}\n        {/* Were in mobile or the data passed only has 1 item, don't run loop animations */}\n        {mobileView || data.length === 1 ? (\n          <IterableComponent\n            firstPaintOver={firstPaintOver}\n            isActive={true}\n            itemIndex={currentIndex}\n            {...data[currentIndex]}\n          />\n        ) : (\n          springs.map(({ y, scale }, i) => {\n            return (\n              <AnimatedDivContainer key={i} style={{ scale, height, y }}>\n                {showIndicator && <ScrollingContentIndicator {...indicatorProps} />}\n                <IterableComponent\n                  firstPaintOver={firstPaintOver}\n                  isActive={currentIndex === i}\n                  itemIndex={currentIndex}\n                  key={i}\n                  {...mobileProps}\n                  {...data[i]}\n                />\n              </AnimatedDivContainer>\n            )\n          })\n        )}\n      </ScrollerContainer>\n    </>\n  )\n}\n","import styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { Row } from 'components/Layout'\n\nexport const CarouselStep = styled(Row)<{ $calculatedWidth: string }>`\n  position: relative;\n  width: ${({ $calculatedWidth }) => $calculatedWidth};\n  height: ${({ $calculatedWidth }) => $calculatedWidth};\n\n  img {\n    max-width: 100%;\n    box-shadow: 3px 6px 8px 0px #686868ad;\n  }\n\n  transition: width 0.3s ease-out;\n`\n\nexport const CarouselContainer = styled.div<{ fixedHeight?: string }>`\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n\n  // no shrink\n  // flex: 1 0 auto;\n  width: 100%;\n  ${({ fixedHeight }) => `height: ${fixedHeight};`}\n`\n// #a1c3f9\nexport const CarouselButton = styled.div<{ buttonColor: string }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 20px;\n  margin: 0 4px;\n  background-color: ${({ buttonColor }) => transparentize(1, buttonColor)};\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${({ buttonColor }) => transparentize(0.2, buttonColor)};\n  }\n\n  transition: background-color 0.2s ease-in-out;\n`\n\nexport const CarouselButtonContainer = styled.div`\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n\n  cursor: pointer;\n`\n","import SmartImg, { ImageProps } from 'components/SmartImg'\nimport { useState, useMemo, useRef, useEffect } from 'react'\nimport { ChevronLeft, ChevronRight } from 'react-feather'\nimport { CarouselContainer, CarouselStep, CarouselButtonContainer, CarouselButton } from './styleds'\n\ntype CarouselProps = {\n  fixedHeight?: string\n  buttonColor: string\n  imageList: string[]\n  transformation: ImageProps['transformation']\n  mediaStartIndex: number\n  showCarouselContentIndicators?: boolean\n  onCarouselChange?: (index: number) => void\n  onImageClick?: () => void\n}\n\nexport default function Carousel({\n  fixedHeight,\n  buttonColor,\n  imageList,\n  transformation,\n  mediaStartIndex,\n  showCarouselContentIndicators = true,\n  onCarouselChange,\n  onImageClick\n}: CarouselProps) {\n  const [ref, setRef] = useState<HTMLDivElement>()\n  const [parentWidth, setParentWidth] = useState<number | undefined>()\n  const [selectedStep, setSelectedStep] = useState(mediaStartIndex)\n\n  const { isMultipleCarousel, lastStepIndex } = useMemo(\n    () => ({\n      isMultipleCarousel: imageList.length > 0,\n      lastStepIndex: imageList.length - 1\n    }),\n    [imageList.length]\n  )\n  // get a ref to the carouselImageboi\n  const carouselImageRef = useRef<HTMLImageElement | null>(null)\n  const carouselRef = useRef<HTMLDivElement | null>(null)\n\n  // set ref states and focus carousel\n  useEffect(() => {\n    setRef(carouselRef.current ?? undefined)\n    setParentWidth(ref?.parentElement?.offsetWidth)\n\n    ref?.focus()\n  }, [ref])\n\n  // get a ref to the carouselboi\n  // we need to hold and updated cache of the carousel parent's width in px\n  useEffect(() => {\n    function handleResize() {\n      setParentWidth(ref?.parentElement?.offsetWidth)\n    }\n\n    window.addEventListener('resize', handleResize)\n\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [parentWidth, ref?.parentElement?.offsetWidth])\n\n  return (\n    <CarouselContainer id=\"#carousel-container\" ref={carouselRef} fixedHeight={fixedHeight}>\n      {/* CAROUSEL CONTENT */}\n      {imageList.map((path, index) => {\n        if (!parentWidth) return null\n        const isCurrentStep = index === selectedStep\n        // has multiple steps and is on last item\n        const isLastStep = isMultipleCarousel && selectedStep === lastStepIndex\n        const calculatedWidth = isCurrentStep ? parentWidth : 0\n\n        const onNext = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.stopPropagation()\n          let indexToSet = undefined\n          if (isLastStep) {\n            indexToSet = 0\n          } else {\n            indexToSet = selectedStep + 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        const onPrevious = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.stopPropagation()\n          let indexToSet = undefined\n          if (selectedStep === 0) {\n            indexToSet = lastStepIndex\n          } else {\n            indexToSet = selectedStep - 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        return (\n          <CarouselStep\n            id={'#carousel-step-' + index}\n            key={index}\n            justifyContent={'center'}\n            $calculatedWidth={calculatedWidth + 'px'}\n          >\n            <SmartImg path={path} transformation={transformation} ref={carouselImageRef} />\n            {showCarouselContentIndicators && isMultipleCarousel && (\n              <CarouselButtonContainer onClick={onImageClick}>\n                <CarouselButton onClick={onPrevious} buttonColor={buttonColor}>\n                  <ChevronLeft />\n                </CarouselButton>\n                <CarouselButton onClick={onNext} buttonColor={buttonColor}>\n                  <ChevronRight />\n                </CarouselButton>\n              </CarouselButtonContainer>\n            )}\n          </CarouselStep>\n        )\n      })}\n    </CarouselContainer>\n  )\n}\n","const MOCK_BREADCRUMB = ['Home', 'Longsleeve', 'VIRGIL']\n\nexport function useBreadcrumb() {\n  const lastCrumb = MOCK_BREADCRUMB.slice().pop()\n  return { breadcrumbs: MOCK_BREADCRUMB, lastCrumb }\n}\n","import { DialogContent, DialogOverlay } from '@reach/dialog'\nimport { transparentize } from 'polished'\nimport { animated, useSpring, useTransition } from 'react-spring'\nimport { useGesture } from '@use-gesture/react'\nimport styled, { css } from 'styled-components/macro'\nimport { isMobile } from 'utils'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 9999;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, isLargeImageModal, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog'\n})`\n  overflow-y: auto;\n\n  overflow: hidden;\n  border: none;\n\n  &[data-reach-dialog-content] {\n    outline: none;\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg0};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: ${({ isLargeImageModal }) => (isLargeImageModal ? '90' : '50')}vh;\n    overflow-y: ${({ isLargeImageModal }) => (!isLargeImageModal ? 'auto' : 'hidden')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: ${({ maxHeight, isLargeImageModal = false }) =>\n      css`\n        ${isLargeImageModal ? maxHeight + 'vh' : '420px'}\n      `};\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${mobile &&\n        css`\n          width: 100vw;\n          height: 90vh;\n\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n          margin: auto;\n\n          img {\n            max-width: 150%;\n          }\n        `}\n    `}\n  }\n`\n\ninterface ModalProps {\n  isLargeImageModal?: boolean\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  className?: string\n  children?: React.ReactNode\n}\n\nexport default function Modal({\n  isLargeImageModal = false,\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  className,\n  children\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      })\n      if (state.movement[1] > 150 || (state.direction[1] > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    }\n  })\n\n  return (\n    <>\n      {fadeTransition(\n        (styles, item) =>\n          item && (\n            <StyledDialogOverlay\n              className={className}\n              style={styles}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.interpolate(y => `translateY(${(y as number) > 0 ? y : 0}px)`) }\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n                isLargeImageModal={isLargeImageModal}\n              >\n                {isMobile && (\n                  <h1\n                    onClick={onDismiss}\n                    style={{\n                      background: '#AB92E1',\n                      position: 'absolute',\n                      bottom: 0,\n                      left: 0,\n                      right: 0,\n                      padding: '5px 10px',\n                      textAlign: 'right',\n                      margin: 0\n                    }}\n                  >\n                    CLOSE\n                  </h1>\n                )}\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n","import { ForwardedRef, forwardRef, ReactNode, useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport Loader from 'components/Loader'\nimport { Row } from 'components/Layout'\n\nimport useDetectScrollIntoView from 'hooks/useDetectScrollIntoView'\n\nimport { ItemHeader } from 'pages/SingleItem/styleds'\n\nimport { ThemeModes } from 'theme/styled'\nimport { getThemeColours } from 'theme/utils'\nimport { BoxProps } from 'rebass'\n\ntype WithContainer = {\n  container: HTMLElement | null | undefined\n}\n\ntype LazyVideoProps = {\n  sourcesProps: React.DetailedHTMLProps<React.SourceHTMLAttributes<HTMLSourceElement>, HTMLSourceElement>[]\n  videoProps?: React.DetailedHTMLProps<React.VideoHTMLAttributes<HTMLVideoElement>, HTMLVideoElement>\n  loadInView?: boolean\n  Loader?: (...props: any[]) => JSX.Element\n} & WithContainer &\n  BoxProps\n\nconst VideoContainer = styled(Row)`\n  position: relative;\n\n  > ${ItemHeader} {\n    position: absolute;\n    right: 15%;\n    letter-spacing: -8px;\n    font-size: 76px;\n  }\n\n  > svg {\n    position: absolute;\n    right: 30%;\n    z-index: 200;\n  }\n`\n\nconst Spinner = ({ label = 'pstl' }: { label?: ReactNode }) => (\n  <>\n    <ItemHeader itemColor={getThemeColours(ThemeModes.CHAMELEON).blue1} animation>\n      {label}\n    </ItemHeader>\n    <Loader size={'100px'} />\n  </>\n)\n\nconst BASE_VIDEO_PROPS = { loop: true, muted: true, autoPlay: true, preload: 'none' }\nconst BASE_INTERSECTION_OPTIONS = {\n  threshold: 0.1\n}\n\nexport default forwardRef(function LazyVideo(\n  {\n    sourcesProps,\n    videoProps = {},\n    // useful for setting when setup is animated\n    // e.g useSprings animating components\n    // and we dont want to check if in view before animation ends\n    loadInView = true,\n    container,\n    Loader = Spinner,\n    ...boxProps\n  }: LazyVideoProps,\n  forwardRef: ForwardedRef<HTMLVideoElement>\n) {\n  const [dataLoaded, setDataLoaded] = useState(false)\n  const [metaDataLoaded, setMetaDataLoaded] = useState(false)\n  const loaded = metaDataLoaded && dataLoaded\n\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null)\n\n  // forwardedRef in use, we need to assing our internal ref to the external\n  useEffect(() => {\n    if (forwardRef && videoElement) {\n      typeof forwardRef === 'function' && forwardRef(videoElement)\n    }\n  }, [forwardRef, videoElement])\n\n  useEffect(() => {\n    const _handleDataLoad = () => setDataLoaded(true)\n    const _handleMetaDataLoad = () => setMetaDataLoaded(true)\n\n    let video: HTMLVideoElement\n    if (videoElement) {\n      video = videoElement\n\n      video.addEventListener('loadeddata', _handleDataLoad)\n      video.addEventListener('loadedmetadata', _handleMetaDataLoad)\n    }\n\n    return () => {\n      video?.removeEventListener('loadeddata', _handleDataLoad)\n      video?.removeEventListener('loadedmetadata', _handleMetaDataLoad)\n    }\n  }, [videoElement])\n\n  const isInView = useDetectScrollIntoView(loadInView ? videoElement : undefined, {\n    ...BASE_INTERSECTION_OPTIONS,\n    root: container\n  })\n\n  return (\n    <VideoContainer justifyContent=\"center\" {...boxProps}>\n      {!loaded && <Loader />}\n      <video {...BASE_VIDEO_PROPS} {...videoProps} ref={setVideoElement}>\n        {isInView\n          ? sourcesProps.map(({ src, ...sourceProps }, index) => <source key={index} src={src} {...sourceProps} />)\n          : null}\n      </video>\n    </VideoContainer>\n  )\n})\n","import { useState, useEffect } from 'react'\n\nexport default function useDetectScrollIntoView(\n  elem: HTMLElement | null | undefined,\n  options: IntersectionObserverInit | undefined\n) {\n  const [isInView, setIsInView] = useState(false)\n\n  useEffect(() => {\n    if (!elem) return\n\n    const observerCb: IntersectionObserverCallback = ([entry]: IntersectionObserverEntry[], observer) => {\n      if (entry.isIntersecting) {\n        setIsInView(true)\n        observer.unobserve(elem)\n      }\n    }\n    const observer = new IntersectionObserver(observerCb, options)\n\n    // start observation of elem\n    observer.observe(elem)\n\n    // disconnect observer and close\n    return () => {\n      observer.disconnect()\n    }\n  }, [elem, options])\n\n  return isInView\n}\n","import { /* useCallback ,*/ useEffect, useState } from 'react'\n// import { Pause, Play } from 'react-feather'\n\nimport /* ButtonVariations */ 'components/Button'\nimport { ItemPageProps } from './AsideWithVideo'\nimport { VideoContentWrapper /* , ItemSubHeader, VideoControlButton */ } from './styleds'\nimport LazyVideo from 'components/LazyVideo'\nimport { Spinner } from 'theme'\n\n// const CONTROL_BUTTON_SIZE = 20\n\nexport const ItemVideoContent = ({\n  itemMediaList,\n  currentCarouselIndex,\n  firstPaintOver\n}: // hide\n{ currentCarouselIndex: number; hide?: boolean; firstPaintOver?: boolean } & Pick<ItemPageProps, 'itemMediaList'>) => {\n  const [, /* videoStatus */ setVideoStatus] = useState<'PLAYING' | 'PAUSED' | undefined>(undefined)\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null)\n\n  useEffect(() => {\n    if (!videoElement) return\n    const video = videoElement\n\n    function handleOnPlaying() {\n      setVideoStatus('PLAYING')\n    }\n\n    function handleOnPaused() {\n      setVideoStatus('PAUSED')\n    }\n\n    video.addEventListener('playing', handleOnPlaying)\n    video.addEventListener('pause', handleOnPaused)\n\n    return () => {\n      video.removeEventListener('playing', handleOnPlaying)\n      video.removeEventListener('pause', handleOnPaused)\n    }\n  }, [videoElement])\n\n  /* const toggleVideo = useCallback(() => {\n    if (!videoElement) return\n\n    if (videoStatus === 'PAUSED') {\n      videoElement.play()\n    } else {\n      videoElement.pause()\n    }\n  }, [videoElement, videoStatus])\n\n  const isPaused = videoStatus === 'PAUSED' */\n\n  // TODO: show loader and set hide to also depend on active index\n  // if (hide) return null\n\n  return (\n    <>\n      <VideoContentWrapper id=\"#video-content-wrapper\">\n        {itemMediaList.map(({ videoMedia: { path, lowq } }, index) => {\n          const isSelected = index === currentCarouselIndex\n          if (!isSelected) return null\n\n          return (\n            <LazyVideo\n              key={index}\n              ref={setVideoElement}\n              container={document.querySelector('#CATALOG-ARTICLE') as HTMLElement}\n              loadInView={firstPaintOver}\n              videoProps={{\n                style: {\n                  marginLeft: 'auto'\n                }\n              }}\n              sourcesProps={[\n                { src: process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + path, type: 'video/mp4' },\n                { src: process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + path + '?tr=' + lowq, type: 'video/mp4' }\n              ]}\n              height=\"100%\"\n              Loader={Spinner}\n            />\n          )\n        })}\n      </VideoContentWrapper>\n      {/* videoStatus && (\n        <VideoControlButton variant={ButtonVariations.THEME} onClick={toggleVideo}>\n          <ItemSubHeader>\n            VIDEO\n            {isPaused ? (\n              <Play color=\"ghostwhite\" fill=\"ghostwhite\" size={CONTROL_BUTTON_SIZE} />\n            ) : (\n              <Pause size={CONTROL_BUTTON_SIZE} />\n            )}\n          </ItemSubHeader>\n        </VideoControlButton>\n      ) */}\n    </>\n  )\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport { Row } from 'components/Layout'\nimport Carousel from 'components/Carousel'\nimport {\n  ItemContainer,\n  ItemAsidePanel,\n  ItemHeader as ItemLogo,\n  ItemDescription,\n  ItemCredits,\n  ItemArtistInfo,\n  // FloatingStrip,\n  PASTELLE_CREDIT,\n  ItemSubHeader,\n  ItemBreadcrumb\n} from './styleds'\n\nimport { ApparelItem, CollaboratorSocialData, ItemSizes } from 'mock/apparel/types'\nimport { useBreadcrumb } from 'components/Breadcrumb'\n\nimport Modal from 'components/Modal'\nimport { useToggleModal, useModalOpen } from 'state/application/hooks'\nimport { ApplicationModal } from 'state/application/reducer'\nimport { ItemVideoContent } from './ItemVideoContent'\nimport { ScrollableContentComponentBaseProps } from 'components/ScrollingContentPage'\nimport { ThemeModes } from 'theme/styled'\nimport { getThemeColours } from 'theme/utils'\nimport { BoxProps } from 'rebass'\nimport SmartImg from 'components/SmartImg'\nimport { useSetOnScreenItemID } from 'state/user/hooks'\n\nexport interface ItemPageProps {\n  itemColor: string\n  itemHeader: string\n  itemLogo?: string\n  itemMediaList: ApparelItem[]\n  itemSizesList: ItemSizes[]\n  itemDescription: string[]\n  itemArtistInfo?: {\n    artist: string\n    social: CollaboratorSocialData\n  }\n  itemKey: string\n  mobileView?: boolean\n  noVideo?: boolean\n  noDescription?: boolean\n}\n\nexport type ItemPageDesignsProps = {\n  headerLogo?: string\n  navLogo?: string\n}\n\nfunction Breadcrumbs({\n  breadcrumbs,\n  lastCrumb,\n  ...rowProps\n}: {\n  breadcrumbs: string[]\n  lastCrumb: string | undefined\n} & BoxProps) {\n  return (\n    <Row {...rowProps} style={{ zIndex: 100 }}>\n      {breadcrumbs?.map((crumb, index) => {\n        const isLastCrumb = crumb === lastCrumb\n        return (\n          <ItemBreadcrumb key={crumb + '_' + index} to=\"/#\">\n            <span>{!isLastCrumb ? crumb : <strong>{crumb}</strong>}</span>\n            {!isLastCrumb && <span>{'//'}</span>}\n          </ItemBreadcrumb>\n        )\n      })}\n    </Row>\n  )\n}\n\nconst DEFAULT_MEDIA_START_INDEX = 1\n\nexport default function ItemPage({\n  itemColor,\n  itemHeader,\n  itemLogo,\n  itemMediaList,\n  itemSizesList,\n  itemDescription,\n  itemArtistInfo,\n  itemKey,\n  isActive,\n  firstPaintOver,\n  mobileView = false,\n  noVideo = false,\n  noDescription = false,\n  style,\n  handleMobileItemClick\n}: ItemPageProps &\n  ScrollableContentComponentBaseProps & {\n    style?: any\n    handleMobileItemClick?: React.MouseEventHandler<HTMLHeadingElement>\n  }) {\n  const [currentCarouselIndex, setCurrentCarouselIndex] = useState(DEFAULT_MEDIA_START_INDEX)\n  const onCarouselChange = (index: number) => setCurrentCarouselIndex(index)\n\n  // MODALS\n  const toggleModal = useToggleModal(ApplicationModal.ITEM_LARGE_IMAGE)\n  const showLargeImage = useModalOpen(ApplicationModal.ITEM_LARGE_IMAGE)\n\n  // TODO: un-mock\n  const breadcrumbs = useBreadcrumb()\n\n  // Split images lists\n  const { smallImagesList, largeImagesList } = useMemo(() => {\n    const smallImagesList: string[] = []\n    const largeImagesList: string[] = []\n\n    itemMediaList.forEach(({ imageMedia: { path } }) => {\n      smallImagesList.push(path)\n      largeImagesList.push(path)\n    })\n\n    return { smallImagesList, largeImagesList }\n  }, [itemMediaList])\n\n  const setOnScreenId = useSetOnScreenItemID()\n  useEffect(() => {\n    if (isActive) {\n      setOnScreenId(itemKey)\n    }\n  }, [isActive, itemKey, setOnScreenId])\n\n  // get catalog item from data and url\n  // const { seasonList, currentItem } = useCatalogItemFromURL()\n  // // update URL (if necessary) to reflect current item\n  // useUpdateURLFromCatalogItem({ seasonList, currentItem, isActive, itemIndex, itemKey })\n\n  return (\n    <ItemContainer id=\"#item-container\" /* isViewingItem={isViewingItem} */ style={style}>\n      <ItemAsidePanel id=\"#item-aside-panel\">\n        {/* Breadcrumbs */}\n        <Breadcrumbs {...breadcrumbs} padding=\"5px\" marginBottom={-25} />\n        {/* Item carousel */}\n        <Carousel\n          showCarouselContentIndicators={!mobileView}\n          buttonColor={itemColor}\n          imageList={smallImagesList}\n          transformation={[{ width: itemMediaList[0].imageMedia.small }]}\n          mediaStartIndex={currentCarouselIndex}\n          onCarouselChange={onCarouselChange}\n          onImageClick={toggleModal}\n        />\n\n        {/* Wrap everything else in a fragment */}\n        {noDescription ? null : mobileView ? (\n          <>\n            <br />\n            <ItemLogo fontWeight={200} marginTop={-55} marginBottom={-30} itemColor={itemColor} animation>\n              {itemLogo ? <SmartImg path={itemLogo} transformation={[{ quality: 60 }]} /> : itemHeader}\n            </ItemLogo>\n            <Row\n              style={{\n                position: 'fixed',\n                bottom: 0,\n                height: 60,\n                backgroundColor: 'lavender',\n                fontSize: '40px',\n                fontWeight: 100,\n                width: '100%',\n                color: '#000',\n                letterSpacing: -3.5\n              }}\n              alignItems=\"center\"\n              justifyContent=\"center\"\n              onClick={handleMobileItemClick && handleMobileItemClick}\n            >\n              TAP TO <strong style={{ marginLeft: 7 }}> VIEW MORE</strong>\n            </Row>\n          </>\n        ) : (\n          <>\n            <br />\n            <ItemLogo fontWeight={200} marginTop={-135} marginBottom={-30} itemColor={itemColor} animation>\n              {itemLogo ? <SmartImg path={itemLogo} transformation={[{ quality: 60 }]} /> : itemHeader}\n            </ItemLogo>\n\n            <br />\n\n            {/* Credits */}\n            <ItemSubHeader bgColor={itemColor}>\n              <span style={{ fontWeight: 500, color: getThemeColours(ThemeModes.CHAMELEON).white }}>CREDIT</span>\n            </ItemSubHeader>\n\n            <ItemCredits>{itemArtistInfo ? <ItemArtistInfo {...itemArtistInfo} /> : PASTELLE_CREDIT}</ItemCredits>\n\n            <br />\n\n            {/* Size selector */}\n            <ItemSubHeader bgColor={itemColor}>\n              <span style={{ fontWeight: 500, color: getThemeColours(ThemeModes.CHAMELEON).white }}>CHOOSE A SIZE</span>\n            </ItemSubHeader>\n\n            <br />\n\n            <Row>\n              <select disabled style={{ width: '50%' }}>\n                {itemSizesList.map((size, index) => (\n                  <option key={size + '_' + index}>{size}</option>\n                ))}\n              </select>\n            </Row>\n\n            <br />\n\n            {/* Item description */}\n            <ItemSubHeader bgColor={itemColor}>\n              <span style={{ fontWeight: 500, color: getThemeColours(ThemeModes.CHAMELEON).white }}>DESCRIPTION</span>\n            </ItemSubHeader>\n\n            <br />\n\n            <Row>\n              <ItemDescription>\n                {itemDescription.map((paragraph, index) => (\n                  <p key={index}>{paragraph}</p>\n                ))}\n              </ItemDescription>\n            </Row>\n          </>\n        )}\n      </ItemAsidePanel>\n      {noVideo ? null : (\n        <ItemVideoContent\n          firstPaintOver={firstPaintOver}\n          hide={!isActive}\n          itemMediaList={itemMediaList}\n          currentCarouselIndex={currentCarouselIndex}\n        />\n      )}\n\n      {/* LARGE IMAGE MODAL */}\n      <Modal isOpen={isActive && showLargeImage} onDismiss={toggleModal} isLargeImageModal={true}>\n        <Carousel\n          buttonColor={itemColor}\n          imageList={largeImagesList}\n          transformation={[{ width: itemMediaList[0].imageMedia.large }]}\n          mediaStartIndex={currentCarouselIndex}\n          onCarouselChange={onCarouselChange}\n          fixedHeight=\"auto\"\n        />\n      </Modal>\n    </ItemContainer>\n  )\n}\n","import AsideWithVideo from './AsideWithVideo'\n\nexport default AsideWithVideo\n","// import { lazy, Suspense } from 'react'\nimport { useCatalogItemFromURL } from './hooks'\nimport { ScrollingContentPage } from 'components/ScrollingContentPage'\n\n// const AsideWithVideo = lazy(() => import('pages/SingleItem'))\nimport AsideWithVideo from 'pages/SingleItem'\nimport { ArticleFadeInContainer } from 'components/Layout/Article'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport { isMobile } from 'utils'\n\nexport const BASE_CATALOG_URL = '/catalog/2022/FALL/'\n\nexport default function Catalog() {\n  // get catalog item from data and url\n  const { seasonList, currentItem } = useCatalogItemFromURL({ randomiseData: true })\n\n  const fHeight = isMobile ? 550 : undefined\n\n  return (\n    <ArticleFadeInContainer id=\"CATALOG-ARTICLE\">\n      <ScrollingContentPage\n        data={seasonList}\n        dataItem={currentItem}\n        IterableComponent={AsideWithVideo}\n        baseContentMessage=\"SCROLL/DRAG FOR MORE SHIT!\"\n        width={`calc(100% - ${STORE_IMAGE_SIZES.SMALL}px)`}\n        bgColor=\"#ffffffdb\"\n        onlyOne=\"BOTTOM\"\n        showIndicator={!isMobile}\n        fHeight={fHeight}\n      />\n    </ArticleFadeInContainer>\n  )\n}\n","import i18next from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport XHR from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\ni18next\n  .use(XHR)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    backend: {\n      loadPath: `./locales/{{lng}}.json`\n    },\n    react: {\n      useSuspense: true\n    },\n    fallbackLng: 'en',\n    preload: ['en'],\n    keySeparator: false,\n    interpolation: { escapeValue: false }\n  })\n\nexport default i18next\n","// import ethereumLogoUrl from 'assets/images/ethereum-logo.png'\n// import arbitrumLogoUrl from 'assets/svg/arbitrum_logo.svg'\n// import optimismLogoUrl from 'assets/svg/optimistic_ethereum.svg'\n// import ms from 'ms.macro'\n\nimport EthereumLogo from 'assets/chains/network-mainnet-logo.svg' // mod\nimport RinkebyLogo from 'assets/chains/network-rinkeby-logo.svg' // mod\nimport GnosisChainLogo from 'assets/chains/network-gnosis-chain-logo.svg' // mod\n\nexport enum SupportedChainId {\n  MAINNET = 1,\n  RINKEBY = 4,\n  // ROPSTEN = 3,\n  // GOERLI = 5,\n  // KOVAN = 42,\n  // ARBITRUM_ONE = 42161,\n  // ARBITRUM_RINKEBY = 421611,\n  // OPTIMISM = 10,\n  // OPTIMISTIC_KOVAN = 69,\n\n  XDAI = 100\n}\n\nexport const ALL_SUPPORTED_CHAIN_IDS: SupportedChainId[] = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.XDAI\n  // SupportedChainId.ROPSTEN,\n  // SupportedChainId.GOERLI,\n  // SupportedChainId.KOVAN,\n  // SupportedChainId.ARBITRUM_ONE,\n  // SupportedChainId.ARBITRUM_RINKEBY,\n  // SupportedChainId.OPTIMISM,\n  // SupportedChainId.OPTIMISTIC_KOVAN,\n]\n\nexport const L1_CHAIN_IDS = [\n  SupportedChainId.MAINNET,\n  SupportedChainId.RINKEBY,\n  SupportedChainId.XDAI\n  // SupportedChainId.ROPSTEN,\n  // SupportedChainId.GOERLI,\n  // SupportedChainId.KOVAN,\n] as const\n\nexport type SupportedL1ChainId = typeof L1_CHAIN_IDS[number]\n\nexport const L2_CHAIN_IDS = [\n  // SupportedChainId.ARBITRUM_ONE,\n  // SupportedChainId.ARBITRUM_RINKEBY,\n  // SupportedChainId.OPTIMISM,\n  // SupportedChainId.OPTIMISTIC_KOVAN,\n] as const\n\nexport type SupportedL2ChainId = typeof L2_CHAIN_IDS[number]\n\nexport interface L1ChainInfo {\n  readonly blockWaitMsBeforeWarning?: number\n  readonly docs: string\n  readonly explorer: string\n  readonly infoLink: string\n  readonly label: string\n  readonly logoUrl?: string\n  readonly rpcUrls?: string[]\n  readonly nativeCurrency: {\n    name: string // 'Goerli ETH',\n    symbol: string // 'gorETH',\n    decimals: number //18,\n  }\n}\nexport interface L2ChainInfo extends L1ChainInfo {\n  readonly bridge: string\n  readonly logoUrl: string\n  readonly statusPage?: string\n}\n\nexport type ChainInfo = { readonly [chainId: number]: (L1ChainInfo & { logoUrl: string }) | L2ChainInfo } & {\n  readonly [chainId in SupportedL2ChainId]: L2ChainInfo\n} &\n  { readonly [chainId in SupportedL1ChainId]: L1ChainInfo }\n\nexport const CHAIN_INFO: ChainInfo = {\n  /* [SupportedChainId.ARBITRUM_ONE]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://bridge.arbitrum.io/',\n    docs: 'https://offchainlabs.com/',\n    explorer: 'https://arbiscan.io/',\n    infoLink: 'https://info.uniswap.org/#/arbitrum',\n    label: 'Arbitrum',\n    logoUrl: arbitrumLogoUrl,\n    nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 },\n    rpcUrls: ['https://arb1.arbitrum.io/rpc'],\n  },\n  [SupportedChainId.ARBITRUM_RINKEBY]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://bridge.arbitrum.io/',\n    docs: 'https://offchainlabs.com/',\n    explorer: 'https://rinkeby-explorer.arbitrum.io/',\n    infoLink: 'https://info.uniswap.org/#/arbitrum/',\n    label: 'Arbitrum Rinkeby',\n    logoUrl: arbitrumLogoUrl,\n    nativeCurrency: { name: 'Rinkeby ArbETH', symbol: 'rinkArbETH', decimals: 18 },\n    rpcUrls: ['https://rinkeby.arbitrum.io/rpc'],\n  }, */\n  [SupportedChainId.MAINNET]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://gnosis-protocol.io/mainnet',\n    infoLink: '',\n    label: 'Ethereum',\n    logoUrl: EthereumLogo, // mod\n    nativeCurrency: { name: 'ETH', symbol: 'ETH', decimals: 18 }\n  },\n  [SupportedChainId.RINKEBY]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://gnosis-protocol.io/rinkeby',\n    infoLink: '',\n    label: 'Rinkeby',\n    nativeCurrency: { name: 'Rinkeby ETH', symbol: 'rinkETH', decimals: 18 },\n    logoUrl: RinkebyLogo // mod\n  },\n  /* [SupportedChainId.ROPSTEN]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://ropsten.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/',\n    label: 'Ropsten',\n    nativeCurrency: { name: 'Ropsten ETH', symbol: 'ropETH', decimals: 18 },\n  },\n  [SupportedChainId.KOVAN]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://kovan.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/',\n    label: 'Kovan',\n    nativeCurrency: { name: 'Kovan ETH', symbol: 'kovETH', decimals: 18 },\n  },\n  [SupportedChainId.GOERLI]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://goerli.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/',\n    label: 'Görli',\n    nativeCurrency: { name: 'Görli ETH', symbol: 'görETH', decimals: 18 },\n  },\n  [SupportedChainId.OPTIMISM]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://gateway.optimism.io/',\n    docs: 'https://optimism.io/',\n    explorer: 'https://optimistic.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/optimism',\n    label: 'OΞ',\n    logoUrl: optimismLogoUrl,\n    nativeCurrency: { name: 'Optimistic ETH', symbol: 'ETH', decimals: 18 },\n    rpcUrls: ['https://mainnet.optimism.io'],\n    statusPage: 'https://optimism.io/status',\n  },\n  [SupportedChainId.OPTIMISTIC_KOVAN]: {\n    blockWaitMsBeforeWarning: ms`10m`,\n    bridge: 'https://gateway.optimism.io/',\n    docs: 'https://optimism.io/',\n    explorer: 'https://optimistic.etherscan.io/',\n    infoLink: 'https://info.uniswap.org/#/optimism',\n    label: 'Optimistic Kovan',\n    rpcUrls: ['https://kovan.optimism.io'],\n    logoUrl: optimismLogoUrl,\n    nativeCurrency: { name: 'Optimistic kovETH', symbol: 'kovOpETH', decimals: 18 },\n    statusPage: 'https://optimism.io/status',\n  }, */\n  [SupportedChainId.XDAI]: {\n    docs: 'https://docs.uniswap.org/',\n    explorer: 'https://blockscout.com/xdai/mainnet/  ',\n    infoLink: '',\n    label: 'Gnosis Chain',\n    logoUrl: GnosisChainLogo, // mod\n    nativeCurrency: { name: 'xDai', symbol: 'XDAI', decimals: 18 }\n  }\n}\n\nexport const NETWORK_LABELS: { [chainId in SupportedChainId | number]: string } = {\n  [SupportedChainId.MAINNET]: 'Ethereum',\n  [SupportedChainId.RINKEBY]: 'Rinkeby',\n  [SupportedChainId.XDAI]: 'Gnosis Chain' // mod\n  // [SupportedChainId.ROPSTEN]: 'Ropsten',\n  // [SupportedChainId.GOERLI]: 'Görli',\n  // [SupportedChainId.KOVAN]: 'Kovan',\n  // [SupportedChainId.ARBITRUM_KOVAN]: 'kArbitrum',\n  // [SupportedChainId.ARBITRUM_ONE]: 'Arbitrum One',\n}\n","export default __webpack_public_path__ + \"static/media/network-mainnet-logo.ccc77767.svg\";","export default __webpack_public_path__ + \"static/media/network-rinkeby-logo.16c794f3.svg\";","export default __webpack_public_path__ + \"static/media/network-gnosis-chain-logo.2c5a4968.svg\";","import { Token, WETH9 } from '@uniswap/sdk-core'\nimport { SupportedChainId } from './chains'\n\nexport const WETH_LOGO_URI =\n  'https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png'\nexport const XDAI_LOGO_URI =\n  'https://raw.githubusercontent.com/1Hive/default-token-list/master/src/assets/xdai/0xe91d153e0b41518a2ce8dd3d7944fa863463a97d/logo.png'\n\n// Gnosis Chain\nexport const XDAI_SYMBOL = 'XDAI'\nexport const XDAI_NAME = 'xDai'\nexport const WXDAI = new Token(\n  SupportedChainId.XDAI,\n  '0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d',\n  18,\n  'WXDAI',\n  'Wrapped XDAI'\n)\n\nexport const WETH9_EXTENDED: { [chainId: number]: Token } = {\n  ...WETH9,\n  [SupportedChainId.XDAI]: WXDAI\n}\n","import { SupportedChainId } from '.'\nimport { constructSameAddressMap } from 'blockchain/utils/constructSameAddressMap'\n\nexport type AddressMap = { [chainId: number]: string }\n\nexport const ARGENT_WALLET_DETECTOR_ADDRESS: AddressMap = {\n  [SupportedChainId.MAINNET]: '0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8'\n}\n\nexport const ENS_REGISTRAR_ADDRESSES: AddressMap = {\n  [SupportedChainId.MAINNET]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [SupportedChainId.RINKEBY]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\n}\n\nexport const MULTICALL_ADDRESS: AddressMap = {\n  ...constructSameAddressMap('0x1F98415757620B543A52E61c46B32eB19261F984'),\n  [SupportedChainId.XDAI]: '0x0f41c16b8ad27c11f181eca85f0941868c1297af'\n}\n","import { L1_CHAIN_IDS, SupportedChainId } from 'blockchain/constants/chains'\n\nexport function constructSameAddressMap<T extends string>(\n  address: T,\n  additionalNetworks: SupportedChainId[] = []\n): { [chainId: number]: T } {\n  return (L1_CHAIN_IDS as readonly SupportedChainId[])\n    .concat(additionalNetworks)\n    .reduce<{ [chainId: number]: T }>((memo, chainId) => {\n      memo[chainId] = address\n      return memo\n    }, {})\n}\n","import { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\nimport { SupportedChainId as ChainId } from 'blockchain/constants/chains'\n\nexport const OVERLAY_READY = 'OVERLAY_READY'\n\ntype FormaticSupportedChains = Extract<ChainId, ChainId.MAINNET | ChainId.RINKEBY>\n\nconst CHAIN_ID_NETWORK_ARGUMENT: { readonly [chainId in FormaticSupportedChains]: string | undefined } = {\n  [ChainId.MAINNET]: undefined,\n  [ChainId.RINKEBY]: 'rinkeby'\n}\n\nexport class FortmaticConnector extends FortmaticConnectorCore {\n  async activate() {\n    if (!this.fortmatic) {\n      const { default: Fortmatic } = await import('fortmatic')\n\n      const { apiKey, chainId } = this as any\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\n      } else {\n        throw new Error(`Unsupported network ID: ${chainId}`)\n      }\n    }\n\n    const provider = this.fortmatic.getProvider()\n\n    const pollForOverlayReady = new Promise(resolve => {\n      const interval = setInterval(() => {\n        if (provider.overlayReady) {\n          clearInterval(interval)\n          this.emit(OVERLAY_READY)\n          resolve('Resolved!')\n        }\n      }, 200)\n    })\n\n    const [account] = await Promise.all([\n      provider.enable().then((accounts: string[]) => accounts[0]),\n      pollForOverlayReady\n    ])\n\n    return { provider: this.fortmatic.getProvider(), chainId: (this as any).chainId, account }\n  }\n}\n","import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport invariant from 'tiny-invariant'\nimport { devDebug } from 'utils/logging'\n\ninterface NetworkConnectorArguments {\n  urls: { [chainId: number]: string }\n  defaultChainId?: number\n}\n\n// taken from ethers.js, compatible interface with web3 provider\ntype AsyncSendable = {\n  isMetaMask?: boolean\n  host?: string\n  path?: string\n  sendAsync?: (request: any, callback: (error: any, response: any) => void) => void\n  send?: (request: any, callback: (error: any, response: any) => void) => void\n}\n\nclass RequestError extends Error {\n  constructor(message: string, public code: number, public data?: unknown) {\n    super(message)\n  }\n}\n\ninterface BatchItem {\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\n  resolve: (result: any) => void\n  reject: (error: Error) => void\n}\n\nclass MiniRpcProvider implements AsyncSendable {\n  public readonly isMetaMask: false = false\n  public readonly chainId: number\n  public readonly url: string\n  public readonly host: string\n  public readonly path: string\n  public readonly batchWaitTimeMs: number\n\n  private nextId = 1\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\n  private batch: BatchItem[] = []\n\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\n    this.chainId = chainId\n    this.url = url\n    const parsed = new URL(url)\n    this.host = parsed.host\n    this.path = parsed.pathname\n    // how long to wait to batch calls\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\n  }\n\n  public readonly clearBatch = async () => {\n    devDebug('Clearing batch', this.batch)\n    const batch = this.batch\n    this.batch = []\n    this.batchTimeoutId = null\n    let response: Response\n    try {\n      response = await fetch(this.url, {\n        method: 'POST',\n        headers: { 'content-type': 'application/json', accept: 'application/json' },\n        body: JSON.stringify(batch.map(item => item.request))\n      })\n    } catch (error) {\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\n      return\n    }\n\n    if (!response.ok) {\n      // batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\n      return\n    }\n\n    let json\n    try {\n      json = await response.json()\n    } catch (error) {\n      // batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\n      return\n    }\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\n      memo[current.request.id] = current\n      return memo\n    }, {})\n    for (const result of json) {\n      const {\n        resolve,\n        reject,\n        request: { method }\n      } = byKey[result.id]\n      if (resolve) {\n        if ('error' in result) {\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\n        } else if ('result' in result) {\n          resolve(result.result)\n        } else {\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\n        }\n      }\n    }\n  }\n\n  public readonly sendAsync = (\n    request: { jsonrpc: '2.0'; id: number | string | null; method: string; params?: unknown[] | Record<any, any> },\n    callback: (error: any, response: any) => void\n  ): void => {\n    this.request(request.method, request.params)\n      .then(result => callback(null, { jsonrpc: '2.0', id: request.id, result }))\n      .catch(error => callback(error, null))\n  }\n\n  public readonly request = async (\n    method: string | { method: string; params: unknown[] },\n    params?: unknown[] | Record<any, any>\n  ): Promise<unknown> => {\n    if (typeof method !== 'string') {\n      return this.request(method.method, method.params)\n    }\n    if (method === 'eth_chainId') {\n      return `0x${this.chainId.toString(16)}`\n    }\n    const promise = new Promise((resolve, reject) => {\n      this.batch.push({\n        request: {\n          jsonrpc: '2.0',\n          id: this.nextId++,\n          method,\n          params\n        },\n        resolve,\n        reject\n      })\n    })\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\n    return promise\n  }\n}\n\nexport class NetworkConnector extends AbstractConnector {\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\n  private currentChainId: number\n\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\n    super({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) })\n\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\n    this.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\n      return accumulator\n    }, {})\n  }\n\n  public get provider(): MiniRpcProvider {\n    return this.providers[this.currentChainId]\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    return { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null }\n  }\n\n  public async getProvider(): Promise<MiniRpcProvider> {\n    return this.providers[this.currentChainId]\n  }\n\n  public async getChainId(): Promise<number> {\n    return this.currentChainId\n  }\n\n  public async getAccount(): Promise<null> {\n    return null\n  }\n\n  public deactivate() {\n    return\n  }\n}\n","import { Web3Provider } from '@ethersproject/providers'\nimport { PortisConnector } from '@web3-react/portis-connector'\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport { WalletLinkConnector } from '@web3-react/walletlink-connector'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\n\nimport { FortmaticConnector } from './Fortmatic'\nimport { NetworkConnector } from './NetworkConnector'\n\nconst INFURA_KEY = process.env.REACT_APP_INFURA_KEY\n\nif (typeof INFURA_KEY === 'undefined') {\n  throw new Error(`REACT_APP_INFURA_KEY must be a defined environment variable`)\n}\n\nexport const WALLET_CONNECT_BRIDGE = process.env.WALLET_CONNECT_BRIDGE || 'wss://safe-walletconnect.gnosis.io'\n\ntype RpcNetworks = { [chainId: number]: string }\n\nexport function getSupportedChainIds(): number[] {\n  const supportedChainIdsEnv = process.env.REACT_APP_SUPPORTED_CHAIN_IDS\n\n  if (!supportedChainIdsEnv) {\n    throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\n  }\n\n  const chainIds = supportedChainIdsEnv.split(',').map(chainId => Number(chainId.trim()))\n\n  return chainIds\n}\n\nfunction getRpcNetworks(): [RpcNetworks, number[]] {\n  const defaultChainId = parseInt(process.env.REACT_APP_CHAIN_ID ?? '1')\n\n  // Get list of supported chains\n  const chainIds = getSupportedChainIds()\n  if (chainIds.length === 0) {\n    throw new Error(`At least one network should be supported. REACT_APP_CHAIN_ID`)\n  }\n\n  // Make sure the default chain is in the list of supported chains\n  if (!chainIds.includes(defaultChainId)) {\n    throw new Error(\n      `The default chain id (${defaultChainId}) must be part of the list of supported networks: ${chainIds.join(', ')}`\n    )\n  }\n\n  // Return rpc urls per network\n  const rpcNetworks = chainIds.reduce<RpcNetworks>((acc, chainId) => {\n    const url = process.env['REACT_APP_NETWORK_URL_' + chainId]\n\n    if (!url) {\n      throw new Error(\n        `Network ${chainId} is supported, however 'REACT_APP_NETWORK_URL_${chainId} environment variable was not defined`\n      )\n    }\n\n    acc[chainId] = url\n\n    return acc\n  }, {})\n\n  // Get chainIds (excluding the NETWORK_CHAIN_ID)\n  // Reason: By convention we will return NETWORK_CHAIN_ID as the first element in the supported networks\n  const otherChainIds = Object.keys(rpcNetworks)\n    .map(Number)\n    .filter(networkId => networkId !== defaultChainId)\n  const supportedChainIds = [defaultChainId, ...otherChainIds]\n\n  return [rpcNetworks, supportedChainIds]\n}\n\nconst [rpcNetworks, supportedChainIds] = getRpcNetworks()\nexport const NETWORK_CHAIN_ID = supportedChainIds[0]\n\nexport const network = new NetworkConnector({\n  urls: rpcNetworks,\n  defaultChainId: NETWORK_CHAIN_ID\n})\n\nlet networkLibrary: Web3Provider | undefined\nexport function getNetworkLibrary(): Web3Provider {\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any))\n}\n\nexport const injected = new InjectedConnector({ supportedChainIds })\n\n// mainnet only\nexport const walletconnect = new WalletConnectConnector({\n  rpc: rpcNetworks,\n  bridge: WALLET_CONNECT_BRIDGE,\n  qrcode: true\n})\n\n// mainnet only\nexport const fortmatic = new FortmaticConnector({\n  apiKey: process.env.REACT_APP_FORTMATIC_KEY ?? '',\n  chainId: NETWORK_CHAIN_ID\n})\n\n// mainnet only\nexport const portis = new PortisConnector({\n  dAppId: process.env.REACT_APP_PORTIS_ID ?? '',\n  // TODO: Allow to configure multiple networks in portis\n  // networks: supportedChainIds\n  networks: [NETWORK_CHAIN_ID]\n})\n\n// mainnet only\nexport const walletlink = new WalletLinkConnector({\n  url: rpcNetworks[NETWORK_CHAIN_ID],\n  appName: 'CowSwap',\n  appLogoUrl: 'https://raw.githubusercontent.com/gnosis/gp-swap-ui/develop/public/favicon.png'\n})\n\nexport enum WalletProvider {\n  INJECTED = 'INJECTED',\n  WALLET_CONNECT = 'WALLET_CONNECT',\n  FORMATIC = 'FORMATIC',\n  PORTIS = 'PORTIS',\n  WALLET_LINK = 'WALLET_LINK'\n}\n\nexport function getProviderType(connector: AbstractConnector | undefined): WalletProvider | undefined {\n  if (!connector) {\n    return undefined\n  }\n\n  switch (connector) {\n    case injected:\n      return WalletProvider.INJECTED\n\n    case walletconnect:\n      return WalletProvider.WALLET_CONNECT\n\n    case fortmatic:\n      return WalletProvider.FORMATIC\n\n    case portis:\n      return WalletProvider.PORTIS\n\n    case walletlink:\n      return WalletProvider.WALLET_LINK\n\n    default:\n      return undefined\n  }\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../connectors'\n\nexport interface WalletInfo {\n  connector?: AbstractConnector\n  name: string\n  iconName: string\n  description: string\n  href: string | null\n  color: string\n  primary?: true\n  mobile?: true\n  mobileOnly?: true\n}\n\n// last wallet provider key used in local storage\nexport const STORAGE_KEY_LAST_PROVIDER = 'lastProvider'\n\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n  INJECTED: {\n    connector: injected,\n    name: 'Injected',\n    iconName: 'arrow-right.svg',\n    description: 'Injected web3 provider.',\n    href: null,\n    color: '#010101',\n    primary: true\n  },\n  METAMASK: {\n    connector: injected,\n    name: 'MetaMask',\n    iconName: 'metamask.png',\n    description: 'Easy-to-use browser extension.',\n    href: null,\n    color: '#E8831D'\n  },\n  WALLET_CONNECT: {\n    connector: walletconnect,\n    name: 'WalletConnect',\n    iconName: 'walletConnectIcon.svg',\n    description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\n    href: null,\n    color: '#4196FC',\n    mobile: true\n  },\n  WALLET_LINK: {\n    connector: walletlink,\n    name: 'Coinbase Wallet',\n    iconName: 'coinbaseWalletIcon.svg',\n    description: 'Use Coinbase Wallet app on mobile device',\n    href: null,\n    color: '#315CF5'\n  },\n  COINBASE_LINK: {\n    name: 'Open in Coinbase Wallet',\n    iconName: 'coinbaseWalletIcon.svg',\n    description: 'Open in Coinbase Wallet app.',\n    href: 'https://go.cb-w.com/mtUDhEZPy1',\n    color: '#315CF5',\n    mobile: true,\n    mobileOnly: true\n  },\n  FORTMATIC: {\n    connector: fortmatic,\n    name: 'Fortmatic',\n    iconName: 'fortmaticIcon.png',\n    description: 'Login using Fortmatic hosted wallet',\n    href: null,\n    color: '#6748FF',\n    mobile: true\n  },\n  Portis: {\n    connector: portis,\n    name: 'Portis',\n    iconName: 'portisIcon.png',\n    description: 'Login using Portis hosted wallet',\n    href: null,\n    color: '#4A6C9B',\n    mobile: true\n  }\n}\n\nexport const NetworkContextName = 'NETWORK'\n// Smart contract wallets are filtered out by default, no need to add them to this list\nexport const UNSUPPORTED_WC_WALLETS = new Set(['DeFi Wallet', 'WallETH'])\n","import { Web3Provider } from '@ethersproject/providers'\n\nexport default function getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider, 'any')\n  library.pollingInterval = 15000\n  return library\n}\n","import { useMemo, useEffect, useState, useCallback } from 'react'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { isMobile } from 'react-device-detect'\nimport { getProviderType, injected, walletconnect, WalletProvider } from 'blockchain/connectors'\nimport { NetworkContextName, STORAGE_KEY_LAST_PROVIDER } from 'blockchain/constants'\n\nexport function useActiveWeb3React() {\n  const context = useWeb3ReactCore<Web3Provider>()\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\n  return context.active ? context : contextNetwork\n}\n\n/**\n * Provides a Web3Provider instance for active web3 connection, if any\n * Contrary to `getNetworkLibrary` that returns it for the default chainId\n */\nexport function useActiveWeb3Instance(): Web3Provider | undefined {\n  const { library } = useActiveWeb3React()\n\n  return useMemo(() => {\n    if (!library?.provider) {\n      return\n    }\n    return new Web3Provider(library.provider)\n  }, [library])\n}\n\nexport function useEagerConnect() {\n  const { activate, active, connector } = useWeb3ReactCore()\n  const [tried, setTried] = useState(false)\n\n  // handle setting/removing wallet provider in local storage\n  const handleBeforeUnload = useCallback(() => {\n    const walletType = getProviderType(connector)\n\n    if (!walletType || !active) {\n      localStorage.removeItem(STORAGE_KEY_LAST_PROVIDER)\n    } else {\n      localStorage.setItem(STORAGE_KEY_LAST_PROVIDER, walletType)\n    }\n  }, [connector, active])\n\n  const connectInjected = useCallback(() => {\n    // check if the our application is authorized/connected with Metamask\n    injected.isAuthorized().then(isAuthorized => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate, setTried])\n\n  const connectWalletConnect = useCallback(() => {\n    activate(walletconnect, undefined, true).catch(() => {\n      setTried(true)\n    })\n  }, [activate, setTried])\n\n  useEffect(() => {\n    if (!active) {\n      const latestProvider = localStorage.getItem(STORAGE_KEY_LAST_PROVIDER)\n\n      // if there is no last saved provider set tried state to true\n      if (!latestProvider) {\n        // Try to auto-connect to the injected wallet\n        connectInjected()\n      } else if (latestProvider === WalletProvider.INJECTED) {\n        // MM is last provider\n        connectInjected()\n      } else if (latestProvider === WalletProvider.WALLET_CONNECT) {\n        // WC is last provider\n        connectWalletConnect()\n      }\n    }\n  }, [connectInjected, connectWalletConnect, active]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  useEffect(() => {\n    // add beforeunload event listener on initial component mount\n    window.addEventListener('beforeunload', handleBeforeUnload)\n\n    // remove beforeunload event listener on component unmount\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload)\n    }\n  })\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch(error => {\n          console.error('Failed to activate after chain changed', error)\n        })\n      }\n\n      const handleAccountsChanged = (accounts: string[]) => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch(error => {\n            console.error('Failed to activate after accounts changed', error)\n          })\n        }\n      }\n\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n        }\n      }\n    }\n    return undefined\n  }, [active, error, suppress, activate])\n}\n","import { Trans } from '@lingui/macro'\nimport { useWeb3React } from '@web3-react/core'\nimport { useEffect } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { network } from 'blockchain/connectors'\nimport { useEagerConnect, useInactiveListener } from 'blockchain/hooks'\nimport { NetworkContextName } from 'blockchain/constants'\n\nconst MessageWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 20rem;\n`\n\nconst Message = styled.h2`\n  color: ${({ theme }) => theme.secondary1};\n`\n\nexport default function Web3ReactManager({ children }: { children: JSX.Element }) {\n  const { active } = useWeb3React()\n  const { active: networkActive, error: networkError, activate: activateNetwork } = useWeb3React(NetworkContextName)\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      activateNetwork(network)\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager)\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (triedEager && !active && networkError) {\n    return (\n      <MessageWrapper>\n        <Message>\n          <Trans>\n            Oops! An unknown error occurred. Please refresh the page, or visit from another browser or device.\n          </Trans>\n        </Message>\n      </MessageWrapper>\n    )\n  }\n\n  return children\n}\n","import { lazy, Suspense } from 'react'\nimport { Redirect, Route, RouteComponentProps, Switch } from 'react-router-dom'\n\nimport Web3ReactManager from 'components/blockchain/Web3ReactManager'\n\n// const Footer = lazy(() => import(/* webpackPrefetch: true,  webpackChunkName: \"FOOTER\" */ 'components/Footer'))\nconst Header = lazy(() => import(/* webpackPrefetch: true,  webpackChunkName: \"HEADER\" */ 'components/Header'))\nconst Popups = lazy(() => import(/* webpackPrefetch: true,  webpackChunkName: \"POPUPS\" */ 'components/Popups'))\nconst Catalog = lazy(() => import(/* webpackPrefetch: true,  webpackChunkName: \"CATALOG\" */ 'pages/Catalog'))\nconst AboutUs = lazy(() => import(/* webpackPrefetch: true,  webpackChunkName: \"ABOUTUS\" */ 'pages/AboutUs'))\nconst NotFound = lazy(() => import(/* webpackChunkName: \"NOTFOUND\" */ 'pages/Error/NotFound'))\nconst Navigation = lazy(() => import(/* webpackChunkName: \"NAVIGATION\" */ 'components/Navigation'))\n\nimport { useCatalogByYearAndSeason } from 'state/catalog/hooks'\nimport { FixedAnimatedLoader } from 'components/Loader'\nimport { isMobile } from 'utils'\n\n// TODO: move\n// Redirects to swap but only replace the pathname\nconst DEFAULT_CATALOG_YEAR = '2022'\nconst DEFAULT_CATALOG_SEASON = 'FALL'\nconst DEFAULT_CATALOG_START_ITEM = 'VIRGIL'\nexport function RedirectPathToCatalogOnly({ location }: RouteComponentProps) {\n  return (\n    <Redirect\n      to={{\n        ...location,\n        pathname: `/catalog/${DEFAULT_CATALOG_YEAR}/${DEFAULT_CATALOG_SEASON}/${DEFAULT_CATALOG_START_ITEM}`\n      }}\n    />\n  )\n}\n\nexport default function App() {\n  // We need something to show. We'll go with catalog by year and season, why not.\n  // if there isn't yet data, show something else\n  const catalogBySeason = useCatalogByYearAndSeason({ year: '2022', season: 'FALL' })\n\n  if (!catalogBySeason) return <FixedAnimatedLoader loadText=\"PSTL\" />\n\n  return (\n    <Web3ReactManager>\n      <Suspense fallback={<FixedAnimatedLoader loadText=\"PSTL\" />}>\n        <Popups />\n        {/* HEADER */}\n        <Header />\n        {/* SIDE-NAV */}\n        {!isMobile && <Navigation />}\n        {/* ARTICLE CONTENT */}\n        <Switch>\n          <Route exact strict path=\"/catalog/:year/:season\" component={Catalog} />\n          <Route exact path=\"/aboutus\" component={AboutUs} />\n          <Route exact path=\"/404\" component={NotFound} />\n          {/* <Route component={RedirectPathToCatalogOnly} /> */}\n          <Route component={NotFound} />\n        </Switch>\n        {/* FOOTER */}\n        {/* <Footer /> */}\n      </Suspense>\n    </Web3ReactManager>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document\n\nfunction isWindowVisible() {\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden'\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(isWindowVisible())\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible())\n  }, [setFocused])\n\n  useEffect(() => {\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined\n\n    document.addEventListener('visibilitychange', listener)\n    return () => {\n      document.removeEventListener('visibilitychange', listener)\n    }\n  }, [listener])\n\n  return focused\n}\n","import { BigNumber } from '@ethersproject/bignumber'\nimport { hexStripZeros } from '@ethersproject/bytes'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { L1ChainInfo, L2ChainInfo, SupportedChainId } from 'blockchain/constants/chains'\n\ninterface AddNetworkArguments {\n  library: Web3Provider\n  chainId: SupportedChainId\n  info: L1ChainInfo | L2ChainInfo\n}\n\n// provider.request returns Promise<any>, but wallet_switchEthereumChain must return null or throw\n// see https://github.com/rekmarks/EIPs/blob/3326-create/EIPS/eip-3326.md for more info on wallet_switchEthereumChain\nexport async function addNetwork({ library, chainId, info }: AddNetworkArguments): Promise<null | void> {\n  if (!library?.provider?.request) {\n    return\n  }\n  const formattedChainId = hexStripZeros(BigNumber.from(chainId).toHexString())\n  try {\n    await library?.provider.request({\n      method: 'wallet_addEthereumChain',\n      params: [\n        {\n          chainId: formattedChainId,\n          chainName: info.label,\n          rpcUrls: info.rpcUrls,\n          nativeCurrency: info.nativeCurrency,\n          blockExplorerUrls: [info.explorer]\n        }\n      ]\n    })\n  } catch (error) {\n    console.error('error adding eth network: ', chainId, info, error)\n  }\n}\n","import { BigNumber } from '@ethersproject/bignumber'\nimport { hexStripZeros } from '@ethersproject/bytes'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { CHAIN_INFO, SupportedChainId } from 'blockchain/constants/chains'\n\nimport { addNetwork } from './addNetwork'\n\ninterface SwitchNetworkArguments {\n  library: Web3Provider\n  chainId?: SupportedChainId\n}\n\n// provider.request returns Promise<any>, but wallet_switchEthereumChain must return null or throw\n// see https://github.com/rekmarks/EIPs/blob/3326-create/EIPS/eip-3326.md for more info on wallet_switchEthereumChain\nexport async function switchToNetwork({ library, chainId }: SwitchNetworkArguments): Promise<null | void> {\n  if (!library?.provider?.request) {\n    return\n  }\n  if (!chainId && library?.getNetwork) {\n    ;({ chainId } = await library.getNetwork())\n  }\n  const formattedChainId = hexStripZeros(BigNumber.from(chainId).toHexString())\n  try {\n    await library?.provider.request({\n      method: 'wallet_switchEthereumChain',\n      params: [{ chainId: formattedChainId }]\n    })\n  } catch (error) {\n    // 4902 is the error code for attempting to switch to an unrecognized chainId\n    if (error.code === 4902 && chainId !== undefined) {\n      const info = CHAIN_INFO[chainId]\n\n      // metamask (only known implementer) automatically switches after a network is added\n      // the second call is done here because that behavior is not a part of the spec and cannot be relied upon in the future\n      // metamask's behavior when switching to the current network is just to return null (a no-op)\n      await addNetwork({ library, chainId, info })\n      await switchToNetwork({ library, chainId })\n    } else {\n      throw error\n    }\n  }\n}\n","import { useCallback } from 'react'\nimport { useActiveWeb3React } from 'blockchain/hooks'\nimport { AppState, useAppDispatch, useAppSelector } from 'state'\nimport { setChainConnectivityWarning, setImplements3085, updateBlockNumber, updateChainId } from './reducer'\n\n// GETTERS\nexport function useBlockNumber(): number | undefined {\n  const { chainId } = useActiveWeb3React()\n\n  return useAppSelector((state: AppState) => state.blockchain.blockNumber[chainId ?? -1])\n}\nexport function useChainId() {\n  return useAppSelector((state: AppState) => state.blockchain.chainId)\n}\nexport function useChainConnectivityWarning() {\n  return useAppSelector((state: AppState) => state.blockchain.chainConnectivityWarning)\n}\nexport function useImplements3085() {\n  return useAppSelector((state: AppState) => state.blockchain.implements3085)\n}\n\n// SETTERS\nexport function useSetChainConnectivityWarning() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: boolean) => dispatch(setChainConnectivityWarning(payload)), [dispatch])\n}\nexport function useSetImplements3085() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: boolean) => dispatch(setImplements3085(payload)), [dispatch])\n}\nexport function useUpdateBlockNumber() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: { chainId: number; blockNumber: number }) => dispatch(updateBlockNumber(payload)), [\n    dispatch\n  ])\n}\nexport function useUpdateChainId() {\n  const dispatch = useAppDispatch()\n  return useCallback((payload: number | null) => dispatch(updateChainId(payload)), [dispatch])\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { CHAIN_INFO } from 'blockchain/constants/chains'\nimport useDebounce from 'hooks/useDebounce'\nimport useIsWindowVisible from 'hooks/useIsWindowVisible'\nimport { useActiveWeb3React } from 'blockchain/hooks'\nimport ms from 'ms.macro'\nimport { supportedChainId } from 'blockchain/utils/supportedChainId'\nimport { switchToNetwork } from 'blockchain/utils/switchToNetwork'\n\nimport {\n  useBlockNumber,\n  useChainConnectivityWarning,\n  useSetChainConnectivityWarning,\n  useSetImplements3085,\n  useUpdateBlockNumber,\n  useUpdateChainId\n} from 'state/blockchain/hooks'\n\nconst NETWORK_HEALTH_CHECK_MS = ms`15s`\nconst DEFAULT_MS_BEFORE_WARNING = ms`10m`\n\nfunction useBlockWarningTimer() {\n  const { chainId } = useActiveWeb3React()\n  const currentBlock = useBlockNumber()\n\n  const chainConnectivityWarningActive = useChainConnectivityWarning()\n  const setChainConnectivityWarning = useSetChainConnectivityWarning()\n\n  const [msSinceLastBlock, setMsSinceLastBlock] = useState(0)\n\n  const timeout = useRef<NodeJS.Timeout>()\n  const isWindowVisible = useIsWindowVisible()\n\n  useEffect(() => {\n    setMsSinceLastBlock(0)\n  }, [currentBlock])\n\n  useEffect(() => {\n    const waitMsBeforeWarning =\n      (chainId ? CHAIN_INFO[chainId]?.blockWaitMsBeforeWarning : DEFAULT_MS_BEFORE_WARNING) ?? DEFAULT_MS_BEFORE_WARNING\n\n    timeout.current = setTimeout(() => {\n      setMsSinceLastBlock(NETWORK_HEALTH_CHECK_MS + msSinceLastBlock)\n      if (msSinceLastBlock > waitMsBeforeWarning && isWindowVisible) {\n        setChainConnectivityWarning(true)\n      } else if (chainConnectivityWarningActive) {\n        setChainConnectivityWarning(false)\n      }\n    }, NETWORK_HEALTH_CHECK_MS)\n\n    return function cleanup() {\n      if (timeout.current) {\n        clearTimeout(timeout.current)\n      }\n    }\n  }, [\n    chainId,\n    chainConnectivityWarningActive,\n    isWindowVisible,\n    msSinceLastBlock,\n    setMsSinceLastBlock,\n    setChainConnectivityWarning\n  ])\n}\n\nexport default function Updater(): null {\n  const { account, chainId, library } = useActiveWeb3React()\n\n  const updateChainId = useUpdateChainId()\n  const updateBlockNumber = useUpdateBlockNumber()\n  const setImplements3085 = useSetImplements3085()\n\n  const [state, setState] = useState<{ chainId: number | undefined; blockNumber: number | null }>({\n    chainId,\n    blockNumber: null\n  })\n\n  const windowVisible = useIsWindowVisible()\n\n  useBlockWarningTimer()\n\n  const blockNumberCallback = useCallback(\n    (blockNumber: number) => {\n      setState(state => {\n        if (chainId === state.chainId) {\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber }\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) }\n        }\n        return state\n      })\n    },\n    [chainId, setState]\n  )\n\n  // attach/detach listeners\n  useEffect(() => {\n    if (!library || !chainId || !windowVisible) return undefined\n\n    setState({ chainId, blockNumber: null })\n\n    library\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch(error => console.error(`Failed to get block number for chainId: ${chainId}`, error))\n\n    library.on('block', blockNumberCallback)\n    return () => {\n      library.removeListener('block', blockNumberCallback)\n    }\n  }, [chainId, library, blockNumberCallback, windowVisible])\n\n  const debouncedState = useDebounce(state, 100)\n\n  useEffect(() => {\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return\n    updateBlockNumber({ chainId: debouncedState.chainId, blockNumber: debouncedState.blockNumber })\n  }, [windowVisible, debouncedState.blockNumber, debouncedState.chainId, updateBlockNumber])\n\n  useEffect(() => {\n    updateChainId(debouncedState.chainId ? supportedChainId(debouncedState.chainId) ?? null : null)\n  }, [debouncedState.chainId, updateChainId])\n\n  useEffect(() => {\n    if (!account || !library?.provider?.request || !library?.provider?.isMetaMask) {\n      return\n    }\n    switchToNetwork({ library })\n      .then(x => x ?? setImplements3085(true))\n      .catch(() => setImplements3085(false))\n  }, [account, chainId, library, setImplements3085])\n\n  return null\n}\n","import { useEffect, useState } from 'react'\n\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n","import { SupportedChainId } from 'blockchain/constants/chains'\n\n/**\n * Returns the input chain ID if chain is supported. If not, return undefined\n * @param chainId a chain ID, which will be returned if it is a supported chain ID\n */\nexport function supportedChainId(chainId: number): number | undefined {\n  if (chainId in SupportedChainId) {\n    return chainId\n  }\n  return undefined\n}\n","import { useEffect } from 'react'\nimport { useActiveWeb3React } from 'blockchain/hooks'\nimport { useBlockNumber } from 'state/blockchain/hooks'\n\nimport { useAddPopup, useFinalizeTransaction, useCheckedTransaction } from 'state/application/hooks'\nimport { useAppSelector } from 'state'\n\nexport function shouldCheck(\n  lastBlockNumber: number,\n  tx: { addedTime: number; receipt?: Record<any, any>; lastCheckedBlockNumber?: number }\n): boolean {\n  if (tx.receipt) return false\n  if (!tx.lastCheckedBlockNumber) return true\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber\n  if (blocksSinceCheck < 1) return false\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60\n  if (minutesPending > 60) {\n    // every 10 blocks if pending for longer than an hour\n    return blocksSinceCheck > 9\n  } else if (minutesPending > 5) {\n    // every 3 blocks if pending more than 5 minutes\n    return blocksSinceCheck > 2\n  } else {\n    // otherwise every block\n    return true\n  }\n}\n\nexport default function Updater(): null {\n  const { chainId, library } = useActiveWeb3React()\n\n  const lastBlockNumber = useBlockNumber()\n\n  const state = useAppSelector(state => state.transactions)\n\n  // show popup on confirm\n  const addPopup = useAddPopup()\n  const finalizeTransaction = useFinalizeTransaction()\n  const checkedTransaction = useCheckedTransaction()\n\n  useEffect(() => {\n    if (!chainId || !library || !lastBlockNumber) return\n\n    const transactions = state[chainId] ?? {}\n\n    Object.keys(transactions)\n      .filter(hash => shouldCheck(lastBlockNumber, transactions[hash]))\n      .forEach(hash => {\n        library\n          .getTransactionReceipt(hash)\n          .then(receipt => {\n            if (receipt) {\n              finalizeTransaction({\n                chainId,\n                hash,\n                receipt: {\n                  blockHash: receipt.blockHash,\n                  blockNumber: receipt.blockNumber,\n                  contractAddress: receipt.contractAddress,\n                  from: receipt.from,\n                  status: receipt.status,\n                  to: receipt.to,\n                  transactionHash: receipt.transactionHash,\n                  transactionIndex: receipt.transactionIndex\n                }\n              })\n\n              addPopup(\n                {\n                  txn: {\n                    hash,\n                    success: receipt.status === 1,\n                    summary: transactions[hash]?.summary\n                  }\n                },\n                hash\n              )\n            } else {\n              checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber })\n            }\n          })\n          .catch(error => {\n            console.error(`failed to check transaction hash: ${hash}`, error)\n          })\n      })\n  }, [chainId, library, lastBlockNumber, addPopup, state, finalizeTransaction, checkedTransaction])\n\n  return null\n}\n","import { useEffect } from 'react'\nimport { ThemeModes } from 'theme/styled'\nimport { useThemeManager } from './hooks'\n\nexport default function Updater(): null {\n  const { theme, setMode } = useThemeManager()\n\n  // keep dark mode in sync with the system\n  useEffect(() => {\n    const autoDarkHandler = (match: MediaQueryListEvent) => {\n      const autoTheme = match.matches ? ThemeModes.DARK : ThemeModes.LIGHT\n      setMode(autoTheme)\n    }\n\n    const match = window?.matchMedia('(prefers-color-scheme: dark)')\n\n    // If system prefers dark mode and user theme isnt already explicitly set by user\n    if (match.matches && theme.autoDetect) {\n      setMode(ThemeModes.DARK)\n    }\n\n    if (match?.addEventListener) {\n      match?.addEventListener('change', autoDarkHandler)\n    }\n\n    return () => {\n      if (match?.removeEventListener) {\n        match?.removeEventListener('change', autoDarkHandler)\n      }\n    }\n  }, [setMode, theme])\n\n  return null\n}\n","import { useEffect } from 'react'\nimport { useMockFetchCatalogDataByYear } from 'pages/Catalog/hooks'\nimport { useBatchUpdateCatalogByYear } from './hooks'\nimport { CatalogSeasonsMap } from 'mock/apparel/types'\n\nconst CURRENT_YEAR = new Date().getFullYear()\nexport default function Updater() {\n  // 2022 winter/spring/summer/fall catalogs\n  const {\n    WINTER: { data: winterCatalog },\n    SPRING: { data: springCatalog },\n    SUMMER: { data: summerCatalog },\n    FALL: { data: fallCatalog }\n  } = useMockFetchCatalogDataByYear(CURRENT_YEAR)\n\n  const batchUpdateCatalogByYear = useBatchUpdateCatalogByYear()\n\n  useEffect(() => {\n    const updatedCatalog: CatalogSeasonsMap = {\n      WINTER: winterCatalog,\n      SPRING: springCatalog,\n      SUMMER: summerCatalog,\n      FALL: fallCatalog\n    }\n    batchUpdateCatalogByYear({ year: CURRENT_YEAR, catalog: updatedCatalog })\n  }, [batchUpdateCatalogByYear, fallCatalog, springCatalog, summerCatalog, winterCatalog])\n  return null\n}\n","export default __webpack_public_path__ + \"static/media/Roboto-Thin.1711b41f.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-ThinItalic.026cbce1.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Light.8be2d148.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-LightItalic.43cbee78.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Regular.a8d6ac03.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Italic.beb7fe13.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Medium.7429a63c.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-MediumItalic.56a82359.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Bold.75371f53.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-BoldItalic.60c1f67b.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Black.2a428584.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-BlackItalic.77e50ab1.ttf\";","import { createGlobalStyle } from 'styled-components/macro'\nimport Roboto100 from 'assets/fonts/Roboto/Roboto-Thin.ttf'\nimport Roboto100Italic from 'assets/fonts/Roboto/Roboto-ThinItalic.ttf'\nimport Roboto300 from 'assets/fonts/Roboto/Roboto-Light.ttf'\nimport Roboto300Italic from 'assets/fonts/Roboto/Roboto-LightItalic.ttf'\nimport Roboto400 from 'assets/fonts/Roboto/Roboto-Regular.ttf'\nimport Roboto400Italic from 'assets/fonts/Roboto/Roboto-Italic.ttf'\nimport Roboto500 from 'assets/fonts/Roboto/Roboto-Medium.ttf'\nimport Roboto500Italic from 'assets/fonts/Roboto/Roboto-MediumItalic.ttf'\nimport Roboto700 from 'assets/fonts/Roboto/Roboto-Bold.ttf'\nimport Roboto700Italic from 'assets/fonts/Roboto/Roboto-BoldItalic.ttf'\nimport Roboto900 from 'assets/fonts/Roboto/Roboto-Black.ttf'\nimport Roboto900Italic from 'assets/fonts/Roboto/Roboto-BlackItalic.ttf'\n\nconst FontStyles = createGlobalStyle`\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto100}) format('truetype');\n        font-style: normal;\n        font-weight: 100;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto100Italic}) format('truetype');\n        font-style: italic;\n        font-weight: 100;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto300}) format('truetype');\n        font-style: normal;\n        font-weight: 300;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto300Italic}) format('truetype');\n        font-style: italic;\n        font-weight: 300;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto400}) format('truetype');\n        font-style: normal;\n        font-weight: 400;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto400Italic}) format('truetype');\n        font-style: italic;\n        font-weight: 400;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto500}) format('truetype');\n        font-style: normal;\n        font-weight: 500;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto500Italic}) format('truetype');\n        font-style: italic;\n        font-weight: 500;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto700}) format('truetype');\n        font-style: normal;\n        font-weight: 700;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto700Italic}) format('truetype');\n        font-style: italic;\n        font-weight: 700;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto900}) format('truetype');\n        font-style: normal;\n        font-weight: 900;\n    }\n    @font-face {\n        font-family: 'Roboto';\n        src: url(${Roboto900Italic}) format('truetype');\n        font-style: italic;\n        font-weight: 900;\n    }\n`\n\nexport default FontStyles\n","import { createGlobalStyle, css } from 'styled-components/macro'\nimport { transparentize } from 'polished'\n\nimport { getThemeColours, setTextColour, setBgColour } from '../utils'\nimport { ThemeModes } from '../styled'\nimport FontStyles from './fonts'\nimport { useAppColourTheme } from 'state/user/hooks'\nimport { useMemo } from 'react'\nimport { useGetCurrentOnScreenItem } from 'state/catalog/hooks'\n\nexport { FontStyles }\n\nexport const TopGlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    \n    &::-webkit-scrollbar {\n      // TODO: marked to find easier\n      // hide scrollbar\n      width: 0px;\n      border-radius: 16px;\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n      background: transparent;\n    }\n  \n    &::-webkit-scrollbar-thumb {\n      background: ghostwhite;\n      border-radius: 16px;\n      background-clip: padding-box;\n    }\n\n  }\n\n  html,\n  input,\n  textarea,\n  button {\n    font-family: 'Roboto', 'Inter', sans-serif;\n    font-display: fallback;\n  }\n  \n  @supports (font-variation-settings: normal) {\n    html,\n    input,\n    textarea,\n    button {\n      font-family: 'Roboto', 'Inter var', sans-serif;\n    }\n  }\n  \n  html,\n  body {\n    font-size: 10px;\n    margin: 0;\n    padding: 0;\n  }\n\n  \n  html {\n    font-variant: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    font-feature-settings: 'ss01' on, 'ss02' on, 'cv01' on, 'cv03' on;\n  }\n\n  body {\n    // BG\n    background-position: 0 -30vh;\n    background-repeat: no-repeat;\n  }\n\n  body > div#root {\n    // LAYOUT\n    height: 100vh;\n    display: grid;\n    grid-template-areas:  'header header'\n                          'nav main'\n                          'footer footer';\n    grid-template-columns: minmax(auto, max-content) 5fr;\n    grid-template-rows: auto 1fr auto;\n    overflow: hidden;\n  }\n\n  header {\n    grid-area: header;\n  }\n\n  footer {\n    grid-area: footer;\n  }\n\n  nav {\n    grid-area: nav;\n  }\n\n  article {\n    grid-area: main;\n  }\n\n  nav, article {\n    overflow-y: auto;\n  }\n\n  a {\n    color: ${getThemeColours(ThemeModes.LIGHT).blue1};\n  }\n  \n  button {\n    user-select: none;\n  }\n\n  select {\n    // A reset of styles, including removing the default dropdown arrow\n    appearance: none;\n    // Additional resets for further consistency\n    background-color: transparent;\n    border: none;\n    padding: 0 1em 0 0;\n    margin: 0;\n    width: 100%;\n    font-family: inherit;\n    font-size: inherit;\n    cursor: inherit;\n    line-height: inherit;\n  }\n`\n\n/* \nexport const DANTES_LAKE_WALK = 'https://ik.imagekit.io/pastelle/tr:q-40/APPAREL/2022/FALL/VIRGIL/IMAGES/nav-bar.png'\nconst TINY_FORMAT = '?tr=h-1,w-1'\nconst MAIN_FORMAT = '?tr=q-45'\n*/\n\nexport const flickerAnimation = css<{ frameBgColor?: string }>`\n  @keyframes flickerIn {\n    0% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(1, frameBgColor)};\n    }\n    5% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(0, frameBgColor)};\n    }\n    8% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(1, frameBgColor)};\n    }\n    9% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(0, frameBgColor)};\n    }\n    12% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(1, frameBgColor)};\n    }\n    18% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(0, frameBgColor)};\n    }\n    24% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(0, frameBgColor)};\n    }\n    28% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(1, frameBgColor)};\n    }\n    42% {\n      background-color: ${({ theme, frameBgColor = theme.bg1 }) => transparentize(0, frameBgColor)};\n    }\n  }\n`\n\nexport const ThemedGlobalStyle = createGlobalStyle<{\n  frameBgColor?: string\n  headerLogo?: string\n  navLogo?: string\n  animation?: boolean\n  animationDelay?: number\n}>`\n  * {\n    &::-webkit-scrollbar-thumb {\n      background: transparent;\n    }\n  }\n\n  html {\n    ${setTextColour('text1')}\n    ${setBgColour('bg2')}\n  }\n\n  body {\n    background-image: ${({ theme }): string => `\n      radial-gradient(\n        50% 50% at 50% 50%,\n        ${transparentize(0.9, theme.primary1)} 0%,\n        ${transparentize(1, theme.bg1)} 100%\n      );`}\n\n    transition: background-color, background-image, color 0.3s ease-in-out;\n  }\n\n  header, nav, footer {\n    background: ${({ theme, frameBgColor = transparentize(0.3, theme.bg1) }) => frameBgColor};\n  }\n\n  header {\n    background: ${({ headerLogo, theme, frameBgColor = transparentize(0.3, theme.bg1) }) =>\n      headerLogo\n        ? `url(${process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + headerLogo}) center no-repeat, url(${process.env\n            .REACT_APP_IMAGEKIT_URL_ENDPOINT +\n            headerLogo +\n            '?tr=q-10'}) 0px 0px no-repeat`\n        : frameBgColor};\n      \n    background-color: ${({ theme, frameBgColor = transparentize(0.3, theme.bg1) }) => frameBgColor};\n    background-size: cover;\n    background-blend-mode: difference;\n\n    #header-links-container {\n      background-color: ${({ frameBgColor, theme }) => frameBgColor || transparentize(0.3, theme.bg1)};\n    }\n  }\n\n  nav {\n    background: ${({ navLogo, theme, frameBgColor = transparentize(0.3, theme.bg1) }) =>\n      navLogo\n        ? `url(${process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + navLogo}) center no-repeat, url(${process.env\n            .REACT_APP_IMAGEKIT_URL_ENDPOINT +\n            navLogo +\n            '?tr=q-10'}) 5px repeat`\n        : frameBgColor};\n    background-size: cover;\n    background-blend-mode: difference;\n    background-color: ${({ theme, frameBgColor = transparentize(0.3, theme.bg1) }) => frameBgColor};\n\n    ${({ animation = true }) => animation && flickerAnimation}\n    ${({ animation = true, animationDelay = 3 }) =>\n      animation &&\n      `\n        animation-name: flickerIn;\n        animation-duration: 4s;\n        animation-iteration-count: 2;\n        ${animationDelay && `animation-delay: ${animationDelay}s;`}\n    `}\n`\n\nexport const ThemedGlobalComponent = () => {\n  const theme = useAppColourTheme()\n\n  const currentItem = useGetCurrentOnScreenItem()\n\n  const { itemColor, navLogo, headerLogo } = useMemo(\n    () => ({\n      itemColor: theme.mode === ThemeModes.CHAMELEON ? currentItem?.itemColor : undefined,\n      navLogo: theme.mode === ThemeModes.CHAMELEON ? currentItem?.navLogo : undefined,\n      headerLogo: theme.mode === ThemeModes.CHAMELEON ? currentItem?.headerLogo : undefined\n    }),\n    [currentItem?.headerLogo, currentItem?.itemColor, currentItem?.navLogo, theme.mode]\n  )\n\n  return <ThemedGlobalStyle frameBgColor={itemColor} headerLogo={headerLogo} navLogo={navLogo} />\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\nimport { devLog } from 'utils/logging'\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\ndeclare global {\n  interface Window {\n    swNeedUpdate: boolean\n  }\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nconst SWHelper = {\n  async getWaitingWorker() {\n    const registrations = (await navigator?.serviceWorker?.getRegistrations()) || []\n    const registrationWithWaiting = registrations.find(reg => reg.waiting)\n    return registrationWithWaiting?.waiting\n  },\n\n  async skipWaiting() {\n    return (await SWHelper.getWaitingWorker())?.postMessage({ type: 'SKIP_WAITING_WHEN_SOLO' })\n  },\n\n  async prepareCachesForUpdate() {\n    devLog('[worker] prepareCachesForUpdate')\n    return (await SWHelper.getWaitingWorker())?.postMessage({ type: 'PREPARE_CACHES_FOR_UPDATE' })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      if (registration.waiting && registration.active) {\n        devLog('[worker] Needs update (waiting & active)')\n        window.swNeedUpdate = true\n      }\n\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              devLog('[worker] Needs update (installed)')\n              window.swNeedUpdate = true\n\n              SWHelper.prepareCachesForUpdate().then()\n\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              devLog(\n                '[worker] New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              devLog('[worker] Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('[worker] Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      devLog('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          devLog(\n            '[worker] This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n\n    window.addEventListener('beforeunload', async () => {\n      if (window.swNeedUpdate) {\n        await SWHelper.skipWaiting()\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","/* eslint-disable prefer-rest-params */\nexport function nodeRemoveChildFix() {\n  if (typeof Node === 'function' && Node.prototype) {\n    const originalRemoveChild = Node.prototype.removeChild\n    Node.prototype.removeChild = function<T extends Node>(child: T): T {\n      if (child.parentNode !== this) {\n        if (console) {\n          console.error('Cannot remove a child from a different parent', child, this)\n        }\n        return child\n      }\n      return originalRemoveChild.apply(this, arguments as any) as T\n    }\n\n    const originalInsertBefore = Node.prototype.insertBefore\n    Node.prototype.insertBefore = function<T extends Node>(newNode: T, referenceNode: Node | null): T {\n      if (referenceNode && referenceNode.parentNode !== this) {\n        if (console) {\n          console.error('Cannot insert before a reference node from a different parent', referenceNode, this)\n        }\n        return newNode\n      }\n      return originalInsertBefore.apply(this, arguments as any) as T\n    }\n  }\n}\n","import 'inter-ui'\nimport './i18n'\n\nimport { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\n\nimport { StrictMode } from 'react'\nimport { Provider } from 'react-redux'\n\nimport ReactDOM from 'react-dom'\nimport { HashRouter } from 'react-router-dom'\n\nimport { NetworkContextName } from 'blockchain/constants'\nimport getLibrary from 'blockchain/utils/getLibrary'\n\nimport App from './pages/App'\n\nimport store from 'state'\nimport BlockchainUpdater from 'state/blockchain/updater'\nimport TransactionUpdater from 'state/transactions/updater'\nimport UserUpdater from 'state/user/updater'\nimport CatalogUpdater from 'state/catalog/updater'\n\nimport ThemeProvider from 'theme'\nimport { TopGlobalStyle, ThemedGlobalComponent, FontStyles } from 'theme/styles/global'\n\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'\nimport { nodeRemoveChildFix } from 'utils/node'\nimport { devLog } from 'utils/logging'\n\n// Node removeChild hackaround\n// based on: https://github.com/facebook/react/issues/11538#issuecomment-417504600\nnodeRemoveChildFix()\n\nconst Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\n\nif (!!window.ethereum) {\n  window.ethereum.autoRefreshOnNetworkChange = false\n}\n\nfunction Updaters() {\n  return (\n    <>\n      <UserUpdater />\n      <BlockchainUpdater />\n      <TransactionUpdater />\n      <CatalogUpdater />\n    </>\n  )\n}\n\nReactDOM.render(\n  <StrictMode>\n    {/* Provides all top level CSS NOT dynamically adjustable by the ThemeProvider */}\n    <FontStyles />\n    <TopGlobalStyle />\n    <Provider store={store}>\n      <HashRouter>\n        <Web3ReactProvider getLibrary={getLibrary}>\n          <Web3ProviderNetwork getLibrary={getLibrary}>\n            <Updaters />\n            <ThemeProvider>\n              {/* Provides all top level CSS dynamically adjustable by the ThemeProvider */}\n              <ThemedGlobalComponent />\n              <App />\n            </ThemeProvider>\n          </Web3ProviderNetwork>\n        </Web3ReactProvider>\n      </HashRouter>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root')\n)\n\nasync function deleteAllCaches() {\n  const cacheNames = (await caches.keys()) || []\n\n  cacheNames.map(cacheName => {\n    devLog('[worker] Delete cache', cacheName)\n    // Delete old caches\n    // https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker#removing_outdated_caches\n    return caches.delete(cacheName)\n  })\n}\n\nasync function unregisterAllWorkers() {\n  navigator.serviceWorker.getRegistrations().then(function(registrations) {\n    for (const registration of registrations) {\n      registration.unregister()\n    }\n  })\n}\n\nif ('serviceWorker' in navigator) {\n  devLog('[worker] Unregister worker...')\n  serviceWorkerRegistration.unregister()\n\n  devLog('[worker] Deleting all caches...')\n  deleteAllCaches()\n    .then(() => devLog('[worker] All caches have been deleted'))\n    .catch(console.error)\n\n  devLog('[worker] Unregistering all workers...')\n  unregisterAllWorkers()\n    .then(() => devLog('[worker] All workers have been unregistered'))\n    .catch(console.error)\n}\n","import { createAction } from '@reduxjs/toolkit'\nimport { Call } from './utils'\n\nexport interface ListenerOptions {\n  // how often this data should be fetched, by default 1\n  readonly blocksPerFetch: number\n}\n\nexport const addMulticallListeners = createAction<{ chainId: number; calls: Call[]; options: ListenerOptions }>(\n  'multicall/addMulticallListeners'\n)\nexport const removeMulticallListeners = createAction<{ chainId: number; calls: Call[]; options: ListenerOptions }>(\n  'multicall/removeMulticallListeners'\n)\nexport const fetchingMulticallResults = createAction<{ chainId: number; calls: Call[]; fetchingBlockNumber: number }>(\n  'multicall/fetchingMulticallResults'\n)\nexport const errorFetchingMulticallResults = createAction<{\n  chainId: number\n  calls: Call[]\n  fetchingBlockNumber: number\n}>('multicall/errorFetchingMulticallResults')\nexport const updateMulticallResults = createAction<{\n  chainId: number\n  blockNumber: number\n  results: {\n    [callKey: string]: string | null\n  }\n}>('multicall/updateMulticallResults')\n","export interface Call {\n  address: string\n  callData: string\n  gasRequired?: number\n}\n\nexport function toCallKey(call: Call): string {\n  let key = `${call.address}-${call.callData}`\n  if (call.gasRequired) {\n    if (!Number.isSafeInteger(call.gasRequired)) {\n      throw new Error(`Invalid number: ${call.gasRequired}`)\n    }\n    key += `-${call.gasRequired}`\n  }\n  return key\n}\n\nexport function parseCallKey(callKey: string): Call {\n  const pcs = callKey.split('-')\n  if (![2, 3].includes(pcs.length)) {\n    throw new Error(`Invalid call key: ${callKey}`)\n  }\n  return {\n    address: pcs[0],\n    callData: pcs[1],\n    ...(pcs[2] ? { gasRequired: Number.parseInt(pcs[2]) } : {})\n  }\n}\n","import { createReducer } from '@reduxjs/toolkit'\n\nimport {\n  addMulticallListeners,\n  errorFetchingMulticallResults,\n  fetchingMulticallResults,\n  removeMulticallListeners,\n  updateMulticallResults\n} from './actions'\nimport { toCallKey } from './utils'\n\nexport interface MulticallState {\n  callListeners?: {\n    // on a per-chain basis\n    [chainId: number]: {\n      // stores for each call key the listeners' preferences\n      [callKey: string]: {\n        // stores how many listeners there are per each blocks per fetch preference\n        [blocksPerFetch: number]: number\n      }\n    }\n  }\n\n  callResults: {\n    [chainId: number]: {\n      [callKey: string]: {\n        data?: string | null\n        blockNumber?: number\n        fetchingBlockNumber?: number\n      }\n    }\n  }\n}\n\nconst initialState: MulticallState = {\n  callResults: {}\n}\n\nexport const multicall = createReducer(initialState, builder =>\n  builder\n    .addCase(\n      addMulticallListeners,\n      (\n        state,\n        {\n          payload: {\n            calls,\n            chainId,\n            options: { blocksPerFetch }\n          }\n        }\n      ) => {\n        const listeners: MulticallState['callListeners'] = state.callListeners\n          ? state.callListeners\n          : (state.callListeners = {})\n        listeners[chainId] = listeners[chainId] ?? {}\n        calls.forEach(call => {\n          const callKey = toCallKey(call)\n          listeners[chainId][callKey] = listeners[chainId][callKey] ?? {}\n          listeners[chainId][callKey][blocksPerFetch] = (listeners[chainId][callKey][blocksPerFetch] ?? 0) + 1\n        })\n      }\n    )\n    .addCase(\n      removeMulticallListeners,\n      (\n        state,\n        {\n          payload: {\n            chainId,\n            calls,\n            options: { blocksPerFetch }\n          }\n        }\n      ) => {\n        const listeners: MulticallState['callListeners'] = state.callListeners\n          ? state.callListeners\n          : (state.callListeners = {})\n\n        if (!listeners[chainId]) return\n        calls.forEach(call => {\n          const callKey = toCallKey(call)\n          if (!listeners[chainId][callKey]) return\n          if (!listeners[chainId][callKey][blocksPerFetch]) return\n\n          if (listeners[chainId][callKey][blocksPerFetch] === 1) {\n            delete listeners[chainId][callKey][blocksPerFetch]\n          } else {\n            listeners[chainId][callKey][blocksPerFetch]--\n          }\n        })\n      }\n    )\n    .addCase(fetchingMulticallResults, (state, { payload: { chainId, fetchingBlockNumber, calls } }) => {\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\n      calls.forEach(call => {\n        const callKey = toCallKey(call)\n        const current = state.callResults[chainId][callKey]\n        if (!current) {\n          state.callResults[chainId][callKey] = {\n            fetchingBlockNumber\n          }\n        } else {\n          if ((current.fetchingBlockNumber ?? 0) >= fetchingBlockNumber) return\n          state.callResults[chainId][callKey].fetchingBlockNumber = fetchingBlockNumber\n        }\n      })\n    })\n    .addCase(errorFetchingMulticallResults, (state, { payload: { fetchingBlockNumber, chainId, calls } }) => {\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\n      calls.forEach(call => {\n        const callKey = toCallKey(call)\n        const current = state.callResults[chainId][callKey]\n        if (!current || typeof current.fetchingBlockNumber !== 'number') return // only should be dispatched if we are already fetching\n        if (current.fetchingBlockNumber <= fetchingBlockNumber) {\n          delete current.fetchingBlockNumber\n          current.data = null\n          current.blockNumber = fetchingBlockNumber\n        }\n      })\n    })\n    .addCase(updateMulticallResults, (state, { payload: { chainId, results, blockNumber } }) => {\n      state.callResults[chainId] = state.callResults[chainId] ?? {}\n      Object.keys(results).forEach(callKey => {\n        const current = state.callResults[chainId][callKey]\n        if ((current?.blockNumber ?? 0) > blockNumber) return\n        state.callResults[chainId][callKey] = {\n          data: results[callKey],\n          blockNumber\n        }\n      })\n    })\n)\n","import { createAction } from '@reduxjs/toolkit'\n\n// fired once when the app reloads but before the app renders\n// allows any updates to be applied to store data loaded from localStorage\nexport const updateVersion = createAction<void>('global/updateVersion')\n","import { configureStore } from '@reduxjs/toolkit'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport { save, load } from 'redux-localstorage-simple'\n\nimport { user } from 'state/user/reducer'\nimport { application } from 'state/application/reducer'\n// APPAREL\nimport { catalog } from 'state/catalog/reducer'\n// BLOCKCHAIN\nimport { blockchain } from 'state/blockchain/reducer'\nimport { multicall } from 'state/multicall/reducer'\nimport { transactions } from 'state/transactions/reducer'\nimport { updateVersion } from 'state/global/actions'\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<AppState> = useSelector\n\nconst PERSISTED_KEYS: string[] = ['user', 'transactions', 'lists']\n\nconst store = configureStore({\n  reducer: {\n    // APPAREL\n    catalog,\n    // MISC\n    application,\n    // BLOCKCHAIN\n    blockchain,\n    multicall,\n    transactions,\n    user\n  },\n  middleware: defaultMiddleware =>\n    defaultMiddleware({\n      thunk: true\n    }).concat(save({ states: PERSISTED_KEYS })),\n  preloadedState: load({ states: PERSISTED_KEYS, disableWarnings: process.env.NODE_ENV === 'test' })\n})\n\nstore.dispatch(updateVersion())\n\nexport default store\n\nexport type AppState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","export type Color = string\nexport interface Colors {\n  // base\n  white: Color\n  black: Color\n\n  // text\n  text1: Color\n  text2: Color\n  text3: Color\n  text4: Color\n  text5: Color\n  textDisabled: Color\n\n  // backgrounds / greys\n  bg1: Color\n  bg2: Color\n  bg3: Color\n  bg4: Color\n  bg5: Color\n  bgDisabled: Color\n\n  modalBG: Color\n  advancedBG: Color\n\n  //blues\n  primary1: Color\n  primary2: Color\n  primary3: Color\n  primary4: Color\n  primary5: Color\n\n  primaryText1: Color\n\n  // pinks\n  secondary1: Color\n  secondary2: Color\n  secondary3: Color\n\n  // other\n  red1: Color\n  red2: Color\n  green1: Color\n  green2: Color\n  yellow1: Color\n  yellow2: Color\n  blue1: Color\n}\n\nexport enum ThemeModes {\n  LIGHT = 'LIGHT',\n  DARK = 'DARK',\n  // add whatever themes u want here...\n  VAMPIRE = 'VAMPIRE',\n  CHAMELEON = 'CHAMELEON'\n}\n\nexport type Theme = {\n  mode: ThemeModes\n  autoDetect: boolean\n}\n\nexport const THEME_LIST = Object.entries(ThemeModes)\n\ndeclare module 'styled-components' {\n  export interface DefaultTheme extends Colors {\n    // theming\n    mode: ThemeModes\n    buttons: {\n      font: {\n        size: {\n          small: string\n          normal: string\n          large: string\n        }\n      }\n      borderRadius: string\n      border: string\n    }\n    // shadows\n    shadow1: string\n\n    // media queries\n    mediaWidth: {\n      upToExtraSmall: ThemedCssFunction<DefaultTheme>\n      upToSmall: ThemedCssFunction<DefaultTheme>\n      upToMedium: ThemedCssFunction<DefaultTheme>\n      upToLarge: ThemedCssFunction<DefaultTheme>\n    }\n\n    // css snippets\n    flexColumnNoWrap: FlattenSimpleInterpolation\n    flexRowNoWrap: FlattenSimpleInterpolation\n  }\n}\n","import { TFC } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styled, { css } from 'styled-components/macro'\nimport { transparentize } from 'polished'\n\nimport { Column, Row } from 'components/Layout'\nimport { ItemPageProps } from './AsideWithVideo'\nimport { ExternalLink, TYPE } from 'theme'\nimport { Dribbble, Instagram } from 'react-feather'\nimport Button from 'components/Button'\nimport { SocialType } from 'mock/apparel/types'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\n\nconst saturateAnimation = css`\n  @keyframes saturate {\n    0% {\n      filter: contrast(1.8) saturate(20) blur(5px);\n    }\n    10% {\n      filter: contrast(1.8) saturate(1) blur(0.8px);\n    }\n  }\n`\n\nconst textShadowAnimation = css<{ itemColor: string }>`\n  @keyframes textShadowAnimation {\n    0% {\n      text-shadow: 20px 2px 2px ${({ itemColor }) => itemColor};\n      letter-spacing: 20px;\n    }\n    3% {\n      text-shadow: 55px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    5% {\n      text-shadow: -22px 2px 2px pink;\n    }\n    7% {\n      text-shadow: 47px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    10% {\n      text-shadow: 17px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    47% {\n      text-shadow: 10px 2px 2px ${({ itemColor }) => itemColor};\n      letter-spacing: 7px;\n    }\n    48% {\n      text-shadow: -20px 2px 1px pink;\n    }\n    49% {\n      text-shadow: 20px 2px 2px ${({ itemColor }) => itemColor};\n    }\n    53% {\n      text-shadow: 55px 2px 8px ${({ itemColor }) => itemColor};\n    }\n    55% {\n      text-shadow: -32px 2px 2px purple;\n    }\n    57% {\n      text-shadow: 47px 2px 7px lightgreen;\n    }\n    58% {\n      text-shadow: -47px 2px 1px ${({ itemColor }) => itemColor};\n    }\n    60% {\n      text-shadow: 20px 2px 2px ${({ itemColor }) => itemColor};\n    }\n    65% {\n      text-shadow: 20px 2px 5px purple;\n    }\n  }\n`\n\nexport const fadeInAnimation = css`\n  @keyframes fadeIn {\n    0% {\n      filter: contrast(0) blur(100px);\n    }\n    100% {\n      filter: contrast(1) blur(0px);\n    }\n  }\n`\n\nexport const VideoContentWrapper = styled(Row)<{ hide?: boolean }>`\n  z-index: -1;\n\n  opacity: 1;\n  ${({ hide }) => hide && `opacity: 0;`}\n  transition: opacity 0.8s ease-in-out;\n\n  video {\n    // lock the video to 16:9 ratio\n    // height: calc(100vw * (9 / 16));\n    height: 100%;\n\n    filter: contrast(1) saturate(1) blur(0px);\n\n    ${saturateAnimation};\n\n    animation-name: saturate;\n    animation-duration: 10.4s;\n\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n      display: none;\n    `}\n  }\n`\nexport const Strikethrough = styled.div`\n  width: 100%;\n  background-color: ${({ theme }) => theme.white};\n  height: 5px;\n`\nexport type ItemHeaderProps = { animation?: boolean; animationDelay?: boolean; itemColor: string; maxWidth?: string }\nexport const ItemHeader = styled(TYPE.white)<ItemHeaderProps>`\n  z-index: 100;\n  font-style: italic;\n  letter-spacing: 7px;\n  font-size: 100px;  \n\n  // logo\n  > img {\n    max-width: ${({ maxWidth = '100%' }) => maxWidth};\n  }\n  \n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    font-size: 65px;\n  `}\n\n  ${({ animation = false }) => animation && textShadowAnimation}\n  ${({ animation = false, animationDelay = true, itemColor }) =>\n    animation &&\n    `\n      text-shadow: 10px 2px 2px ${itemColor};\n      animation-name: textShadowAnimation;\n      animation-duration: 10s;\n      animation-iteration-count: 3;\n      ${animationDelay && 'animation-delay: 1s;'}\n    `}\n`\n\nexport const ItemLogo = styled.img`\n  max-width: 100%;\n`\n\nexport const ItemSubHeader = styled(TYPE.black).attrs(props => ({\n  fontSize: 16,\n  padding: 2,\n  fontWeight: 500,\n  fontStyle: 'italic',\n  ...props\n}))<{ bgColor?: string; useGradient?: boolean }>`\n  background: ${({ useGradient = false, bgColor = 'transparent' }) =>\n    useGradient\n      ? `linear-gradient(15deg, ${bgColor} 0%, ${transparentize(1, bgColor)} 35%, transparent 70%)`\n      : bgColor};\n  width: 100%;\n`\n\nexport const ItemBreadcrumb = styled(NavLink)`\n  color: ${({ theme }) => theme.black};\n  font-size: 10px;\n  font-weight: 300;\n  text-decoration: none;\n  text-transform: uppercase;\n\n  > span:first-child {\n    margin: 0 5px;\n  }\n`\nexport const ItemDescription = styled(TYPE.black).attrs({ fontSize: 18, padding: 2, fontWeight: 400 })`\n  text-transform: uppercase;\n  font-style: italic;\n`\n\nexport const ItemAsidePanel = styled(Column)`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: center;\n  // padding: 5px;\n`\n\nexport const ItemContainer = styled(Row)<{ side?: 'LEFT' | 'RIGHT'; isViewingItem?: boolean }>`\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: stretch;\n\n  position: relative;\n  overflow: hidden;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    justify-content: stretch;\n  `}\n\n  > ${ItemAsidePanel} {\n    position: relative;\n    justify-content: ${({ side = 'LEFT' }) => (side === 'LEFT' ? 'flex-start' : 'flex-end')};\n\n    margin-right: auto;\n    \n    height: 100%;\n    \n    // TODO: change this to be dynamic - LEGACY\n    width: 100%;\n    max-width: ${STORE_IMAGE_SIZES.SMALL}px;\n\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n      max-width: 100%;\n    `}\n\n    overflow-x: hidden;\n    z-index: 2;\n\n    background: ${({ theme }) => transparentize(0.1, theme.white)};\n\n    ${({ theme }) => theme.mediaWidth.upToSmall`\n      border: none;\n      margin: 0;\n  `}\n  }\n\n  > ${VideoContentWrapper} {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n\n  select {\n    min-width: 15ch;\n    max-width: 100%;\n    border: 1px solid var(--select-border);\n    border-radius: 0.25em;\n    padding: 0.25em 0.5em;\n    margin: 0 5px;\n    font-size: 1.25rem;\n    cursor: pointer;\n    line-height: 1.1;\n    background-color: #fff;\n    background-image: linear-gradient(to top, #f9f9f9, #fff 33%);\n\n    display: grid;\n    grid-template-areas: 'select';\n    align-items: center;\n\n    &:after {\n      content: '';\n      width: 0.8em;\n      height: 0.5em;\n      background-color: #777;\n      clip-path: polygon(100% 0%, 0 0%, 50% 100%);\n\n      justify-self: end;\n    }\n\n    select,\n    .select:after {\n      grid-area: select;\n    }\n  }\n`\n\nexport const ItalicStrikethrough = styled.i`\n  text-decoration: line-through;\n`\n\nexport const ItemCredits: TFC = ({ children }) => (\n  <TYPE.black fontSize={14} padding=\"13px 8px\" fontWeight={300} width=\"100%\">\n    {children}\n  </TYPE.black>\n)\n\nfunction _showSocialUrl(type: SocialType) {\n  switch (type) {\n    case SocialType.INSTAGRAM:\n      return <Instagram />\n    case SocialType.DEVIANTART:\n      return <Instagram />\n    case SocialType.DRIBBBLE:\n      return <Dribbble />\n    case SocialType.TIKTOK:\n      return <Instagram />\n    case SocialType.BEHANCE:\n      return <Instagram />\n    default:\n      return null\n  }\n}\n\nexport const ItemArtistInfo = (props: ItemPageProps['itemArtistInfo'] | undefined) => {\n  if (!props) return null\n\n  const { artist, social } = props\n\n  return (\n    <TYPE.black fontSize={14} padding={2} fontWeight={300}>\n      <ItalicStrikethrough>PASTELLE</ItalicStrikethrough> x {artist}\n      <br />\n      <br />\n      {social.map(({ type, url, display }) => (\n        <ExternalLink\n          key={url}\n          href={url}\n          style={{ display: 'flex', alignItems: 'center', justifyContent: 'start', gap: 5 }}\n        >\n          {_showSocialUrl(type)} {display}\n        </ExternalLink>\n      ))}\n    </TYPE.black>\n  )\n}\ntype FloatingColoredBlock = {\n  width?: number\n  height?: number\n  top?: number\n  left?: number\n  gradientBase?: string\n  gradientEnd?: string\n  rotation?: number\n}\n\nexport const FloatingBlockContainer = styled.div<FloatingColoredBlock>`\n  position: absolute;\n  background-image: ${({ gradientBase = 'rgba(33, 114, 229, 0.1)', gradientEnd = 'rgba(33, 36, 41, 1)' }) =>\n    `radial-gradient(50% 50% at 50% 50%, ${gradientBase} 0%, ${gradientEnd} 100%)`};\n\n  transform: rotate(${({ rotation = 45 }) => rotation}deg);\n\n  width: ${({ width = 755 }) => width}px;\n  height: ${({ height = 292 }) => height}px;\n  top: ${({ top = 57 }) => top}px;\n  left: ${({ left = -106 }) => left}px;\n\n  z-index: -1;\n`\n\nconst FloatingColouredBlock = styled.div<{ color: string }>`\n  height: 100%;\n  width: 100%;\n  background: ${({ color }) => color};\n`\n\nexport const FloatingStrip = ({ color, ...rest }: FloatingColoredBlock & { color: string }) => (\n  <FloatingBlockContainer {...rest}>\n    <FloatingColouredBlock color={color} />\n  </FloatingBlockContainer>\n)\n\nexport const BreadcrumbWrapper = styled(ItemSubHeader)`\n  display: flex;\n  gap: 5px;\n  margin-bottom: -24px;\n  z-index: 100;\n  padding-top: 4px;\n  font-size: 12px;\n`\n\nexport const PASTELLE_CREDIT = (\n  <>\n    Homegrown at <ItalicStrikethrough>PASTELLE</ItalicStrikethrough> labs\n  </>\n)\n\nexport const VideoControlButton = styled(Button)`\n  cursor: pointer;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  padding: 10;\n  z-index: 950;\n\n  > ${ItemSubHeader} {\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-evenly;\n    align-items: center;\n    gap: 5px;\n    color: ${({ theme }) => theme.white};\n  }\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n      display: none;\n  `}\n`\n","// Curried fn base\n// Logs a choice from LogType in any env except Production. Else noop\ntype LogType = keyof Pick<Console, 'debug' | 'log' | 'error' | 'warn' | 'info'>\nexport const devConsole = (type: LogType) => (...args: any[]) => {\n  if (process.env.NODE_ENV !== 'production') {\n    return console[type](...args)\n  }\n}\n\nexport const devLog = devConsole('log')\nexport const devWarn = devConsole('warn')\nexport const devInfo = devConsole('info')\nexport const devError = devConsole('error')\nexport const devDebug = devConsole('debug')\n","import { UAParser } from 'ua-parser-js'\n\nexport function escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') // $& means the whole matched string\n}\n\nconst parser = new UAParser(window.navigator.userAgent)\nconst { type } = parser.getDevice()\n\nexport const userAgent = parser.getResult()\n\nexport const isMobile = type === 'mobile' || type === 'tablet'\n\nexport const isTruthy = <T>(value: T | null | undefined | false): value is T => !!value\n\nexport const delay = <T = void>(ms = 100, result?: T): Promise<T> =>\n  new Promise(resolve => setTimeout(resolve, ms, result))\n\nexport function withTimeout<T>(promise: Promise<T>, ms: number, context?: string): Promise<T> {\n  const failOnTimeout = delay(ms).then(() => {\n    const errorMessage = 'Timeout after ' + ms + ' ms'\n    throw new Error(context ? `${context}. ${errorMessage}` : errorMessage)\n  })\n\n  return Promise.race([promise, failOnTimeout])\n}\n\nexport function isPromiseFulfilled<T>(\n  promiseResult: PromiseSettledResult<T>\n): promiseResult is PromiseFulfilledResult<T> {\n  return promiseResult.status === 'fulfilled'\n}\n\n// To properly handle PromiseSettleResult which returns and object\nexport function getPromiseFulfilledValue<T, E = undefined>(\n  promiseResult: PromiseSettledResult<T>,\n  nonFulfilledReturn: E\n) {\n  return isPromiseFulfilled(promiseResult) ? promiseResult.value : nonFulfilledReturn\n}\n\nexport const registerOnWindow = (registerMapping: Record<string, any>) => {\n  Object.entries(registerMapping).forEach(([key, value]) => {\n    ;(window as any)[key] = value\n  })\n}\n\n/**\n * Returns true if the string value is zero in hex\n * @param hexNumberString\n */\nexport function isZero(hexNumberString: string) {\n  return /^0x0*$/.test(hexNumberString)\n}\n","import styled from 'styled-components/macro'\nimport { Box } from 'rebass/styled-components'\n\nexport const Row = styled(Box)<{ align?: string; padding?: string; border?: string; borderRadius?: string }>`\n  width: 100%;\n  display: flex;\n  padding: 0;\n  align-items: ${({ align = 'center' }) => align};\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\n\nexport const RowBetween = styled(Row)`\n  justify-content: space-between;\n`\n\nexport const RowFlat = styled.div`\n  display: flex;\n  align-items: flex-end;\n`\n\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\n  flex-wrap: wrap;\n  margin: ${({ gap }) => gap && `-${gap}`};\n  justify-content: ${({ justify }) => justify && justify};\n\n  & > * {\n    margin: ${({ gap }) => gap} !important;\n  }\n`\n\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\n  width: fit-content;\n  margin: ${({ gap }) => gap && `-${gap}`};\n`\n","import styled from 'styled-components/macro'\n\nexport const Column = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n`\nexport const ColumnCenter = styled(Column)`\n  width: 100%;\n  align-items: center;\n`\n\nexport const AutoColumn = styled.div<{\n  gap?: 'sm' | 'md' | 'lg' | string\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\n}>`\n  display: grid;\n  grid-auto-rows: auto;\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\n  justify-items: ${({ justify }) => justify && justify};\n`\n","import styled from 'styled-components/macro'\nimport { CardProps, Text } from 'rebass'\nimport { Box } from 'rebass/styled-components'\n\nconst Card = styled(Box)<{ padding?: string; border?: string; borderRadius?: string }>`\n  width: 100%;\n  border-radius: 1.6rem;\n  padding: 1.25rem;\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\nexport default Card\n\nexport const LightCard = styled(Card)`\n  border: 1px solid ${({ theme }) => theme.bg2};\n  background-color: ${({ theme }) => theme.bg1};\n`\n\nexport const GreyCard = styled(Card)`\n  background-color: ${({ theme }) => theme.bg3};\n`\n\nexport const OutlineCard = styled(Card)`\n  border: 1px solid ${({ theme }) => theme.bg3};\n`\n\nexport const YellowCard = styled(Card)`\n  background-color: rgba(243, 132, 30, 0.05);\n  color: ${({ theme }) => theme.yellow2};\n  font-weight: 500;\n`\n\nexport const PinkCard = styled(Card)`\n  background-color: rgba(255, 0, 122, 0.03);\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n`\n\nconst BlueCardStyled = styled(Card)`\n  background-color: ${({ theme }) => theme.primary5};\n  color: ${({ theme }) => theme.primary1};\n  border-radius: 12px;\n  width: fit-content;\n`\n\nexport const BlueCard = ({ children, ...rest }: CardProps) => {\n  return (\n    <BlueCardStyled {...rest}>\n      <Text fontWeight={500} color=\"#2172E5\">\n        {children}\n      </Text>\n    </BlueCardStyled>\n  )\n}\n","import { HTMLProps, useCallback } from 'react'\nimport ReactGA from 'react-ga'\nimport { Link } from 'react-router-dom'\nimport styled, { keyframes } from 'styled-components/macro'\nimport { darken } from 'polished'\nimport { ArrowLeft, X } from 'react-feather'\nimport { devDebug } from 'utils/logging'\n\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\n  backgroundColor: warning ? theme.red1 : theme.primary1\n}))`\n  padding: 1rem 2rem 1rem 2rem;\n  border-radius: 3rem;\n  cursor: pointer;\n  user-select: none;\n  font-size: 1rem;\n  border: none;\n  outline: none;\n  background-color: ${({ backgroundColor }) => backgroundColor};\n  color: ${({ theme }) => theme.white};\n  width: 100%;\n\n  :hover,\n  :focus {\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\n  }\n\n  :active {\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\n  }\n\n  :disabled {\n    background-color: ${({ theme }) => theme.bg1};\n    color: ${({ theme }) => theme.text4};\n    cursor: auto;\n  }\n`\n\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\n  cursor: pointer;\n`\n\n// A button that triggers some onClick result, but looks like a link.\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\n  border: none;\n  text-decoration: none;\n  background: none;\n\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  color: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\n// An internal link from the react-router-dom library that is correctly styled\nexport const StyledInternalLink = styled(Link)`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nconst StyledLink = styled.a`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nconst rotateImg = keyframes`\n  0% {\n    transform: perspective(1000px) rotateY(0deg);\n  }\n\n  100% {\n    transform: perspective(1000px) rotateY(360deg);\n  }\n`\n\nexport const UniTokenAnimated = styled.img`\n  animation: ${rotateImg} 5s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  padding: 2rem 0 0 0;\n  filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15));\n`\n\n/**\n * Outbound link that handles firing google analytics events\n */\nexport function ExternalLink({\n  target = '_blank',\n  href,\n  rel = 'noopener noreferrer',\n  ...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\n      // don't prevent default, don't redirect if it's a new tab\n      if (target === '_blank' || event.ctrlKey || event.metaKey) {\n        ReactGA.outboundLink({ label: href }, () => {\n          devDebug('Fired outbound link event', href)\n        })\n      } else {\n        event.preventDefault()\n        // send a ReactGA event and then trigger a location change\n        ReactGA.outboundLink({ label: href }, () => {\n          window.location.href = href\n        })\n      }\n    },\n    [href, target]\n  )\n  return <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Spinner = styled.img`\n  animation: 2s ${rotate} linear infinite;\n  width: 16px;\n  height: 16px;\n`\n\nconst BackArrowLink = styled(StyledInternalLink)`\n  color: ${({ theme }) => theme.text1};\n`\nexport function BackArrow({ to }: { to: string }) {\n  return (\n    <BackArrowLink to={to}>\n      <ArrowLeft />\n    </BackArrowLink>\n  )\n}\n\nexport const CustomLightSpinner = styled(Spinner)<{ size: string }>`\n  height: ${({ size }) => size};\n  width: ${({ size }) => size};\n`\n\nexport const HideSmall = styled.span`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n","import { ReactElement, FC, useMemo, Children, isValidElement, cloneElement } from 'react'\nimport styled, { ThemeProvider as StyledComponentsThemeProvider, css, DefaultTheme } from 'styled-components/macro'\n\nimport { Text, TextProps } from 'rebass'\nimport { useAppColourTheme } from 'state/user/hooks'\nimport { ThemeModes, Colors } from './styled'\nimport { getThemeColours } from './utils'\nimport { mediaWidthTemplates as mediaWidth } from './styles/mediaQueries'\n\nexport * from './components'\n\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\n  color: ${({ color, theme }): string => (theme as never)[color]};\n`\n\nexport const TYPE = {\n  main(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"text2\" {...props} />\n  },\n  link(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"primary1\" {...props} />\n  },\n  black(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"black\" {...props} />\n  },\n  white(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"white\" {...props} />\n  },\n  body(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={400} fontSize={16} color=\"text1\" {...props} />\n  },\n  largeHeader(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={600} fontSize={24} {...props} />\n  },\n  mediumHeader(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} fontSize={20} {...props} />\n  },\n  subHeader(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={400} fontSize={14} {...props} />\n  },\n  small(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} fontSize={11} {...props} />\n  },\n  blue(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"primary1\" {...props} />\n  },\n  yellow(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"yellow1\" {...props} />\n  },\n  darkGray(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"text3\" {...props} />\n  },\n  gray(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color=\"bg3\" {...props} />\n  },\n  italic(props: TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} fontSize={12} fontStyle={'italic'} color=\"text2\" {...props} />\n  },\n  error({ error, ...props }: { error: boolean } & TextProps): ReactElement {\n    return <TextWrapper fontWeight={500} color={error ? 'red1' : 'text2'} {...props} />\n  }\n}\n\nconst DEFAULT_THEME: Partial<DefaultTheme> = {\n  buttons: {\n    font: {\n      size: {\n        small: '10px',\n        normal: '12px',\n        large: '16px'\n      }\n    },\n    borderRadius: '16px',\n    border: '0.1rem solid transparent'\n  },\n  // media queries\n  mediaWidth,\n  // css snippets\n  // can be used in components\n  // like: ${({ theme }) => theme.flexColumnNoWrap}\n  flexColumnNoWrap: css`\n    display: flex;\n    flex-flow: column nowrap;\n  `,\n  flexRowNoWrap: css`\n    display: flex;\n    flex-flow: row nowrap;\n  `\n}\n\n// Extension/override of styled-components' ThemeProvider but with our own constructed theme object\nconst ThemeProvider: FC<{ themeExtension?: any }> = ({ children, themeExtension }) => {\n  const { mode } = useAppColourTheme()\n\n  const themeObject = useMemo(() => {\n    const themeColours = getThemeColours(mode)\n\n    const computedTheme = {\n      // Compute the app colour pallette using the passed in colourTheme\n      ...themeColours,\n      // pass in defaults\n      ...DEFAULT_THEME,\n      mode,\n      //shadows\n      shadow1: mode === ThemeModes.DARK ? '#000' : '#2F80ED',\n      // unfold in any extensions\n      // for example to make big/small buttons -> see src/components/Button ThemeWrappedButtonBase\n      // to see it in action\n      ...themeExtension\n    }\n\n    return computedTheme\n  }, [mode, themeExtension])\n\n  return (\n    <StyledComponentsThemeProvider theme={themeObject}>\n      {Children.map(\n        children,\n        childWithTheme =>\n          // make sure child is a valid react element as children by default can be type string|null|number\n          isValidElement(childWithTheme) && cloneElement(childWithTheme, { theme: themeObject })\n      )}\n    </StyledComponentsThemeProvider>\n  )\n}\n\nexport default ThemeProvider\n","import { CatalogSeason, ItemSizes } from 'mock/apparel/types'\n\nexport const CURRENT_YEAR = new Date().getFullYear()\nexport const CURRENT_SEASON: CatalogSeason = 'FALL'\n\nexport const SEASONS: CatalogSeason[] = ['WINTER', 'SPRING', 'SUMMER', 'FALL']\nexport const STORE_IMAGE_SIZES = {\n  LARGE: 2000,\n  SMALL: 600\n}\nexport const SHIRT_SIZES: ItemSizes[] = ['X-LARGE', 'LARGE', 'MEDIUM', 'SMALL']\n","import { createSlice, nanoid, PayloadAction } from '@reduxjs/toolkit'\n\nexport type PopupContent = React.ReactNode\n\nexport enum ApplicationModal {\n  WALLET,\n  SETTINGS,\n  MENU,\n  ITEM_LARGE_IMAGE\n}\n\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\n\nexport interface ApplicationState {\n  readonly popupList: PopupList\n  readonly openModal: ApplicationModal | null\n}\n\nconst initialState: ApplicationState = {\n  popupList: [],\n  openModal: null\n}\n\nconst applicationSlice = createSlice({\n  name: 'application',\n  initialState,\n  reducers: {\n    setOpenModal(state, action: PayloadAction<ApplicationModal | null>) {\n      state.openModal = action.payload\n    },\n    addPopup(\n      state,\n      {\n        payload: { content, key, removeAfterMs = 15000 }\n      }: PayloadAction<{ content: PopupContent; key?: string; removeAfterMs?: number }>\n    ) {\n      state.popupList = (key ? state.popupList.filter(popup => popup.key !== key) : state.popupList).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs\n        }\n      ])\n    },\n    removePopup(state, { payload: key }: PayloadAction<string>) {\n      state.popupList.forEach(p => {\n        if (p.key === key) {\n          p.show = false\n        }\n      })\n    }\n  }\n})\n\nexport const { setOpenModal, addPopup, removePopup } = applicationSlice.actions\nexport const application = applicationSlice.reducer\n","export const DEFAULT_COLOURS = {\n  // base\n  black: '#000',\n  // off white\n  white: '#e5e5e5',\n  whiteDark: '#e9e9f0',\n  red1: '#FF6871',\n  red2: '#200202',\n  green1: '#09371d',\n  green2: '#a9ffcd',\n  yellow1: '#FFE270',\n  yellow2: '#F3841E',\n  blue1: '#2172E5',\n  blue: '#3F77FF',\n  blueDark: '#185afb',\n  purple: '#8958FF',\n  bgLight: '#edf2f7',\n  bgDark: 'linear-gradient(0deg, #21222E 0.05%, #2C2D3F 100%)',\n  blackLight: '#181a1b',\n  successLight: '#5ca95c',\n  successDark: '#00BE2E',\n  dangerLight: '#e55353',\n  dangerDark: '#eb4025',\n  warningLight: '#f1851d',\n  warningDark: '#f1851d',\n  bgDisabled: '#8a8a8a80',\n  disabledDarkOpaque: '#ffffff80',\n  textDisabled: '#31323E',\n  disabledDark: '#31323E',\n  mainGradient: 'linear-gradient(270deg, #8958FF 0%, #3F77FF 100%)',\n  mainGradientDarker: 'linear-gradient(270deg, #6a2cff 0%, #185afb 100%)'\n}\nexport const LIGHT_COLOURS = {\n  // text\n  text1: '#000000',\n  text2: '#565A69',\n  text3: '#888D9B',\n  text4: '#C3C5CB',\n  text5: '#EDEEF2',\n\n  // backgrounds / greys\n  bg1: '#ffc1ff',\n  bg2: '#F7F8FA',\n  bg3: '#C1FFC1',\n  bg4: '#00a400',\n  bg5: '#888D9B',\n\n  //specialty colors\n  modalBG: 'rgba(0,0,0,0.3)',\n  advancedBG: 'rgba(255,255,255,0.6)',\n\n  //primary colors\n  primary1: '#ff007a',\n  primary2: '#FF8CC3',\n  primary3: '#FF99C9',\n  primary4: '#F6DDE8',\n  primary5: '#FDEAF1',\n\n  // color text\n  primaryText1: '#ff007a',\n\n  // secondary colors\n  secondary1: '#ff007a',\n  secondary2: '#F6DDE8',\n  secondary3: '#FDEAF1'\n}\n\nexport const DARK_COLOURS = {\n  // text\n  text1: '#FFFFFF',\n  text2: '#C3C5CB',\n  text3: '#6C7284',\n  text4: '#565A69',\n  text5: '#2C2F36',\n\n  // backgrounds / greys\n  bg1: '#212429',\n  bg2: '#2C2F36',\n  bg3: '#40444F',\n  bg4: '#565A69',\n  bg5: '#6C7284',\n\n  //specialty colors\n  modalBG: 'rgba(0,0,0,.425)',\n  advancedBG: 'rgba(0,0,0,0.1)',\n\n  //primary colors\n  primary1: '#2172E5',\n  primary2: '#3680E7',\n  primary3: '#4D8FEA',\n  primary4: '#376bad70',\n  primary5: '#153d6f70',\n\n  // color text\n  primaryText1: '#6da8ff',\n\n  // secondary colors\n  secondary1: '#2172E5',\n  secondary2: '#17000b26',\n  secondary3: '#17000b26'\n}\n\nexport const VAMPIRE_COLOURS = {\n  ...DARK_COLOURS,\n  bg1: DEFAULT_COLOURS.red2\n}\n\nexport const CHAMELEON_COLOURS = {\n  ...DARK_COLOURS,\n  bg1: 'lightblue'\n}\n","import { DefaultTheme, FlattenSimpleInterpolation, css } from 'styled-components/macro'\n\nimport { LIGHT_COLOURS, DARK_COLOURS, DEFAULT_COLOURS, VAMPIRE_COLOURS, CHAMELEON_COLOURS } from './styles'\nimport { ThemeModes, Colors } from './styled'\n\nexport function getThemeColours(colourTheme: ThemeModes): Colors {\n  let THEME_COLOURS = LIGHT_COLOURS\n\n  switch (colourTheme) {\n    case ThemeModes.LIGHT:\n      THEME_COLOURS = LIGHT_COLOURS\n      break\n    case ThemeModes.DARK:\n      THEME_COLOURS = DARK_COLOURS\n      break\n    case ThemeModes.VAMPIRE:\n      THEME_COLOURS = VAMPIRE_COLOURS\n      break\n    case ThemeModes.CHAMELEON:\n      THEME_COLOURS = CHAMELEON_COLOURS\n      break\n  }\n  return {\n    ...DEFAULT_COLOURS,\n    ...THEME_COLOURS\n  }\n}\n\ninterface ThemeProps {\n  theme: DefaultTheme\n}\n\nexport const setBgColour = (themeColour: keyof Colors) => ({ theme }: ThemeProps): FlattenSimpleInterpolation =>\n  css`\n    background-color: ${theme[themeColour]};\n  `\n\nexport const setTextColour = (themeColour: keyof Colors) => ({ theme }: ThemeProps): FlattenSimpleInterpolation =>\n  css`\n    color: ${theme[themeColour]};\n  `\n","import { useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { AppDispatch, AppState } from 'state'\nimport { Theme, ThemeModes } from 'theme/styled'\nimport { setOnScreenItemID, updateThemeAutoDetect, updateThemeMode } from './reducer'\nimport { initialState } from './reducer'\n\nexport const useAppColourTheme = () => useSelector<AppState, Theme>(({ user }) => user.theme || initialState.theme)\n\ninterface ThemeManager {\n  theme: Theme\n  setMode: (mode: ThemeModes) => void\n  setAutoDetect: (autoDetect: boolean) => void\n}\n\nexport function useThemeManager(): ThemeManager {\n  const dispatch = useDispatch<AppDispatch>()\n  const theme = useAppColourTheme()\n\n  const setMode = useCallback(\n    (mode: ThemeModes) => {\n      dispatch(updateThemeMode(mode))\n    },\n    [dispatch]\n  )\n\n  const setAutoDetect = useCallback(\n    (autoDetect: boolean) => {\n      dispatch(updateThemeAutoDetect(autoDetect))\n    },\n    [dispatch]\n  )\n\n  return { theme, setMode, setAutoDetect }\n}\n\nexport function useSetOnScreenItemID() {\n  const dispatch = useDispatch<AppDispatch>()\n\n  return useCallback((params: string) => dispatch(setOnScreenItemID(params)), [dispatch])\n}\nexport const useOnScreenItemID = () => useSelector<AppState, string | null>(({ user }) => user.onScreenItemID)\n","import { ItemPageProps, ItemPageDesignsProps } from 'pages/SingleItem/AsideWithVideo'\n\nexport enum SocialType {\n  INSTAGRAM = 'INSTAGRAM',\n  TIKTOK = 'TIKTOK',\n  DEVIANTART = 'DEVIANTART',\n  DRIBBBLE = 'DRIBBBLE',\n  BEHANCE = 'BEHANCE'\n}\n\nexport type ApparelItem = {\n  imageMedia: {\n    path: string\n    large: string | number\n    small: string | number\n  }\n  videoMedia: {\n    path: string\n    lowq: string\n  }\n}\nexport type CatalogSeason = 'WINTER' | 'SPRING' | 'SUMMER' | 'FALL'\nexport type CatalogItem = ItemPageProps & ItemPageDesignsProps\n// returns { ITEM_NAME: ITEM_OBJECT }\nexport type CatalogSeasonItemMap = {\n  [item: string]: CatalogItem\n}\n// returns { SEASON_NAME: MAP_OF_ITEMS }\nexport type CatalogSeasonsMap = {\n  [key in CatalogSeason]: CatalogSeasonItemMap | undefined\n}\nexport type CatalogItemsMap = {\n  [year: string]: Partial<CatalogSeasonsMap>\n}\nexport type BaseCatalogItem = {\n  year: number | string\n  season: CatalogSeason\n  name: string\n  color: string\n}\n\nexport type CollaboratorSocialData = { type: SocialType; url: string; display: string }[]\n\nexport type ItemSizes = 'XX-LARGE' | 'X-LARGE' | 'LARGE' | 'MEDIUM' | 'SMALL'\nexport type ItemMetadata = BaseCatalogItem & {\n  description: string[]\n  collaborator?: string\n  social?: CollaboratorSocialData\n}\n\nexport type ItemMediaContent = {\n  logo?: string\n  images: {\n    front: string\n    back: string\n  }\n  videos: {\n    front: string\n    back: string\n  }\n}\n","import { useCallback } from 'react'\nimport { useAppDispatch, useAppSelector } from 'state'\nimport { batchUpdateCatalogByYear, updateCatalog } from './reducer'\nimport { CatalogSeason, CatalogSeasonItemMap, CatalogSeasonsMap } from 'mock/apparel/types'\nimport { useOnScreenItemID } from 'state/user/hooks'\nimport { CURRENT_YEAR, CURRENT_SEASON } from 'constants/config'\n\nexport function useCatalog() {\n  return useAppSelector(state => state.catalog)\n}\n\nexport function useCatalogByYear(year: string | number) {\n  return useAppSelector(state => state.catalog[year])\n}\n\ntype CatalogByYearAndSeasonParams = {\n  year: string | number\n  season: CatalogSeason\n}\n\nexport function useCatalogByYearAndSeason({ year, season }: CatalogByYearAndSeasonParams) {\n  return useAppSelector(state => state.catalog[year][season])\n}\n\nexport function useUpdateCatalog() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (params: { year: string | number; season: CatalogSeason; catalog: CatalogSeasonItemMap }) =>\n      dispatch(updateCatalog(params)),\n    [dispatch]\n  )\n}\n\nexport function useBatchUpdateCatalogByYear() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (params: { year: string | number; catalog: CatalogSeasonsMap }) => dispatch(batchUpdateCatalogByYear(params)),\n    [dispatch]\n  )\n}\n\nexport function useGetCurrentOnScreenItem() {\n  const catalog = useCatalogByYearAndSeason({ year: CURRENT_YEAR, season: CURRENT_SEASON })\n  const itemId = useOnScreenItemID()\n\n  return itemId ? catalog?.[itemId] : undefined\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { Theme, ThemeModes } from 'theme/styled'\n\nconst currentTimestamp = () => new Date().getTime()\n\nexport interface UserState {\n  theme: Theme\n  // timestamp: number\n  // the timestamp of the last updateVersion action\n  lastUpdateVersionTimestamp?: number\n  // key string of current on screen item\n  onScreenItemID: string | null\n}\n\nexport const initialState: UserState = {\n  theme: {\n    mode: ThemeModes.CHAMELEON,\n    autoDetect: false\n  },\n  // timestamp: currentTimestamp(),\n  onScreenItemID: null\n}\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    updateVersion(state) {\n      state.lastUpdateVersionTimestamp = currentTimestamp()\n    },\n    updateThemeMode(state, action: PayloadAction<ThemeModes>) {\n      state.theme.mode = action.payload\n      // state.timestamp = currentTimestamp()\n    },\n    updateThemeAutoDetect(state, action: PayloadAction<boolean>) {\n      state.theme.autoDetect = action.payload\n      // state.timestamp = currentTimestamp()\n    },\n    setOnScreenItemID(state, action: PayloadAction<string | null>) {\n      state.onScreenItemID = action.payload\n      // state.timestamp = currentTimestamp()\n    }\n  }\n})\nexport const { updateThemeAutoDetect, updateThemeMode, setOnScreenItemID } = userSlice.actions\nexport const user = userSlice.reducer\n","import { ReactNode } from 'react'\nimport { ItemHeader } from 'pages/SingleItem/styleds'\nimport styled, { keyframes } from 'styled-components/macro'\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\n  animation: 2s ${rotate} linear infinite;\n  height: ${({ size }) => size};\n  width: ${({ size }) => size};\n  path {\n    stroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\n  }\n`\n\ntype StyleParams = {\n  top?: string\n  right?: string\n  bottom?: string\n  left?: string\n  width?: string\n}\n\nconst FixedContainer = styled.div<StyleParams>`\n  position: fixed;\n  top: ${({ top = '25%' }) => top};\n  bottom: ${({ bottom = '25%' }) => bottom};\n  left: ${({ left = '25%' }) => left};\n  right: ${({ right = '25%' }) => right};\n  width: ${({ width = 'auto' }) => width};\n`\n\nexport const FixedAnimatedLoader = ({\n  loadText,\n  animation = true,\n  animationDelay = false,\n  ...styleParams\n}: { loadText: ReactNode; animation?: boolean; animationDelay?: boolean } & StyleParams) => (\n  <FixedContainer {...styleParams}>\n    <ItemHeader itemColor=\"#FFBEBC\" animation={animation} animationDelay={animationDelay}>\n      {loadText}\n    </ItemHeader>\n  </FixedContainer>\n)\n\n/**\n * Takes in custom size and stroke for circle color, default to primary color as fill,\n * need ...rest for layered styles on top\n */\nexport default function Loader({\n  size = '16px',\n  stroke,\n  ...rest\n}: {\n  size?: string\n  stroke?: string\n  [k: string]: any\n}) {\n  return (\n    <StyledSVG viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" size={size} stroke={stroke} {...rest}>\n      <path\n        d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\n        strokeWidth=\"2.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </StyledSVG>\n  )\n}\n","import { useCallback, useMemo } from 'react'\nimport { AppState, useAppSelector, useAppDispatch } from 'state'\nimport { checkedTransaction, finalizeTransaction } from '../transactions/reducer'\nimport { addPopup, ApplicationModal, PopupContent, removePopup, setOpenModal } from './reducer'\n\nexport function useModalOpen(modal: ApplicationModal): boolean {\n  const openModal = useAppSelector(state => state.application.openModal)\n  return openModal === modal\n}\n\nexport function useToggleModal(modal: ApplicationModal): () => void {\n  const open = useModalOpen(modal)\n  const dispatch = useAppDispatch()\n  return useCallback(() => dispatch(setOpenModal(open ? null : modal)), [dispatch, modal, open])\n}\n\nexport function useOpenModal(modal: ApplicationModal): () => void {\n  const dispatch = useAppDispatch()\n  return useCallback(() => dispatch(setOpenModal(modal)), [dispatch, modal])\n}\n\nexport function useCloseModals(): () => void {\n  const dispatch = useAppDispatch()\n  return useCallback(() => dispatch(setOpenModal(null)), [dispatch])\n}\n\nexport function useWalletModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.WALLET)\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  return useToggleModal(ApplicationModal.SETTINGS)\n}\n\n// returns a function that allows adding a popup\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n  const dispatch = useAppDispatch()\n\n  return useCallback(\n    (content: PopupContent, key?: string) => {\n      dispatch(addPopup({ content, key }))\n    },\n    [dispatch]\n  )\n}\n\n// returns a function that allows removing a popup via its key\nexport function useRemovePopup() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (payload: Parameters<typeof removePopup>[0]) => {\n      dispatch(removePopup(payload))\n    },\n    [dispatch]\n  )\n}\n\nexport function useFinalizeTransaction() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (payload: Parameters<typeof finalizeTransaction>[0]) => {\n      dispatch(finalizeTransaction(payload))\n    },\n    [dispatch]\n  )\n}\n\nexport function useCheckedTransaction() {\n  const dispatch = useAppDispatch()\n  return useCallback(\n    (payload: Parameters<typeof checkedTransaction>[0]) => {\n      dispatch(checkedTransaction(payload))\n    },\n    [dispatch]\n  )\n}\n\n// get the list of active popups\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useAppSelector(state => state.application.popupList)\n  return useMemo(() => list.filter(item => item.show), [list])\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\n\nexport interface BlockchainState {\n  readonly blockNumber: { readonly [chainId: number]: number }\n  readonly chainId: number | null\n  readonly chainConnectivityWarning: boolean\n  readonly implements3085: boolean\n}\n\nexport type BlockNumberState = {\n  chainId: number\n  blockNumber: number\n}\n\nconst initialState: BlockchainState = {\n  blockNumber: {},\n  chainId: null,\n  chainConnectivityWarning: false,\n  implements3085: false\n}\n\nconst blockchainSlice = createSlice({\n  name: 'blockchain',\n  initialState,\n  reducers: {\n    updateChainId(state, action: PayloadAction<number | null>) {\n      state.chainId = action.payload\n    },\n    updateBlockNumber(state, { payload: { chainId, blockNumber } }: PayloadAction<BlockNumberState>) {\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\n      }\n    },\n    setImplements3085(state, action: PayloadAction<boolean>) {\n      state.implements3085 = action.payload\n    },\n    setChainConnectivityWarning(state, action: PayloadAction<boolean>) {\n      state.chainConnectivityWarning = action.payload\n    }\n  }\n})\n\nexport const {\n  updateBlockNumber,\n  updateChainId,\n  setChainConnectivityWarning,\n  setImplements3085\n} = blockchainSlice.actions\nexport const blockchain = blockchainSlice.reducer\n","import { IKImage, IKContext } from 'imagekitio-react'\nimport { forwardRef } from 'react'\n\nexport type ImageKitTransformation = { [x: string]: number | string }[]\n\nexport interface ImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  path: string\n  lq?: boolean\n  lazy?: boolean\n  forwardedRef?: React.ForwardedRef<any>\n  transformation?: ImageKitTransformation\n}\n\nconst DEFAULT_LQ_IP = {\n  quality: 10\n}\n\nconst DEFAULT_TRANSFORMATIONS = [{ pr: true }]\n\nfunction ApiImage({ path, transformation = [], lazy = true, lq = true, forwardedRef }: ImageProps) {\n  const lqip = {\n    ...DEFAULT_LQ_IP,\n    active: lq\n  }\n\n  return (\n    <IKContext\n      publicKey={process.env.REACT_APP_IMAGEKIT_PUBLIC_KEY}\n      urlEndpoint={process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT}\n      transformationPosition=\"path\"\n      // authenticationEndpoint=\"http://www.yourserver.com/auth\"\n    >\n      <IKImage\n        path={path}\n        loading={lazy ? 'lazy' : 'eager'}\n        lqip={lqip}\n        transformation={[...DEFAULT_TRANSFORMATIONS, ...transformation]}\n        ref={forwardedRef}\n      />\n    </IKContext>\n  )\n}\nconst SmartImg = forwardRef((props: ImageProps, ref) => <ApiImage {...props} forwardedRef={ref} />)\n\nSmartImg.displayName = 'ApiImage'\n\nexport default SmartImg\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { CatalogItemsMap, CatalogSeason, CatalogSeasonItemMap, CatalogSeasonsMap } from 'mock/apparel/types'\n\nexport type CatalogState = CatalogItemsMap\n\nexport type BlockNumberState = {\n  chainId: number\n  blockNumber: number\n}\n\nconst initialState: CatalogState = {\n  '2022': {\n    WINTER: {},\n    SPRING: {},\n    SUMMER: {},\n    FALL: {}\n  }\n}\n\ntype UpdateCatalogParams = { year: number | string; catalog: CatalogSeasonsMap }\n\ntype UpdateCatalogBySeasonParams = { year: number | string; season: CatalogSeason; catalog: CatalogSeasonItemMap }\n\nconst catalogSlice = createSlice({\n  name: 'catalog',\n  initialState,\n  reducers: {\n    updateCatalog(state, { payload: { year, season, catalog } }: PayloadAction<UpdateCatalogBySeasonParams>) {\n      state[year][season] = catalog || {}\n    },\n    batchUpdateCatalogByYear(state, { payload: { year, catalog } }: PayloadAction<UpdateCatalogParams>) {\n      state[year] = { ...state[year], ...(catalog || {}) }\n    },\n    removeCatalogSeason(\n      state,\n      { payload: { year, season } }: PayloadAction<Omit<UpdateCatalogBySeasonParams, 'payload'>>\n    ) {\n      delete state[year][season]\n    },\n    removeCatalogSeasonItem(\n      state,\n      {\n        payload: { year, season, itemKey }\n      }: PayloadAction<Omit<UpdateCatalogBySeasonParams, 'payload'> & { itemKey: string }>\n    ) {\n      if (state[year]?.[season]?.[itemKey]) {\n        delete state[year][season]?.[itemKey]\n      }\n    }\n  }\n})\n\nexport const {\n  batchUpdateCatalogByYear,\n  updateCatalog,\n  removeCatalogSeason,\n  removeCatalogSeasonItem\n} = catalogSlice.actions\nexport const catalog = catalogSlice.reducer\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport { SafeMultisigTransactionResponse } from '@gnosis.pm/safe-service-client'\n\ntype WithChainId = { chainId: number }\ntype WithData = { data?: any }\ntype WithChainIdAndHash = WithChainId & { hash: string }\nexport interface SerializableTransactionReceipt {\n  to: string\n  from: string\n  contractAddress: string\n  transactionIndex: number\n  blockHash: string\n  transactionHash: string\n  blockNumber: number\n  status?: number\n}\n\nexport type ReplacementType = 'speedup' | 'cancel'\n\nexport type AddTransactionParams = WithChainId &\n  WithData &\n  Pick<TransactionDetails, 'hash' | 'hashType' | 'from' | 'approval' | 'presign' | 'summary' | 'safeTransaction'>\n\nexport enum HashType {\n  ETHEREUM_TX = 'ETHEREUM_TX',\n  GNOSIS_SAFE_TX = 'GNOSIS_SAFE_TX'\n}\n\nexport interface TransactionDetails {\n  hash: string // The hash of the transaction, normally Ethereum one, but not necessarily\n  hashType: HashType // Transaction hash: could be Ethereum tx, or for multisigs could be some kind of hash identifying the order (i.e. Gnosis Safe)\n  transactionHash?: string // Transaction hash. For EOA this field is immediately available, however, other wallets go through a process of offchain signing before the transactionHash is available\n\n  // Params using for polling handling\n  addedTime: number // Used to determine the polling frequency\n  lastCheckedBlockNumber?: number\n\n  // Basic data\n  from: string\n  summary?: string\n  confirmedTime?: number\n  receipt?: SerializableTransactionReceipt // Ethereum transaction receipt\n  data?: any // any attached data type\n\n  // Operations\n  approval?: { tokenAddress: string; spender: string }\n  presign?: { orderId: string }\n\n  // Wallet specific\n  safeTransaction?: SafeMultisigTransactionResponse // Gnosis Safe transaction info\n  replacementType?: ReplacementType // if the user cancelled or speedup the tx it will be reflected here\n}\n\nexport interface EnhancedTransactionState {\n  [chainId: number]: {\n    [txHash: string]: TransactionDetails\n  }\n}\n\nexport const initialState: EnhancedTransactionState = {}\n\nconst now = () => new Date().getTime()\n\nfunction updateBlockNumber(tx: TransactionDetails, blockNumber: number) {\n  if (!tx.lastCheckedBlockNumber) {\n    tx.lastCheckedBlockNumber = blockNumber\n  } else {\n    tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber)\n  }\n}\n\nconst transactionsSlice = createSlice({\n  name: 'transactions',\n  initialState,\n  reducers: {\n    addTransaction(\n      transactions,\n      {\n        payload: { chainId, from, hash, hashType, approval, summary, presign, safeTransaction, data }\n      }: PayloadAction<AddTransactionParams>\n    ) {\n      if (transactions[chainId]?.[hash]) {\n        console.warn('[state::enhancedTransactions] Attempted to add existing transaction', hash)\n        // Unknown transaction. Do nothing!\n        return\n      }\n      const txs = transactions[chainId] ?? {}\n      txs[hash] = {\n        hash,\n        transactionHash: hashType === HashType.ETHEREUM_TX ? hash : undefined,\n        hashType,\n        addedTime: now(),\n        from,\n        summary,\n        data,\n\n        // Operations\n        approval,\n        presign,\n        safeTransaction\n      }\n      transactions[chainId] = txs\n    },\n    clearAllTransactions(transactions, { payload: chainId }: PayloadAction<number>) {\n      if (!transactions[chainId]) return\n      transactions[chainId] = {}\n    },\n\n    checkedTransaction(\n      transactions,\n      { payload: { chainId, hash, blockNumber } }: PayloadAction<WithChainIdAndHash & { blockNumber: number }>\n    ) {\n      const tx = transactions[chainId]?.[hash]\n      if (!tx) {\n        return\n      }\n      updateBlockNumber(tx, blockNumber)\n    },\n\n    finalizeTransaction(\n      transactions,\n      {\n        payload: { hash, chainId, receipt }\n      }: PayloadAction<WithChainIdAndHash & { receipt: SerializableTransactionReceipt }>\n    ) {\n      const tx = transactions[chainId]?.[hash]\n      if (!tx) {\n        return\n      }\n      tx.receipt = receipt\n      tx.confirmedTime = now()\n    },\n\n    replaceTransaction(\n      transactions,\n      {\n        payload: { chainId, oldHash, newHash, type }\n      }: PayloadAction<WithChainId & { oldHash: string; newHash: string; type: ReplacementType }>\n    ) {\n      if (!transactions[chainId]?.[oldHash]) {\n        console.error('Attempted to replace an unknown transaction.')\n        return\n      }\n      const allTxs = transactions[chainId] ?? {}\n      allTxs[newHash] = {\n        ...allTxs[oldHash],\n        hash: newHash,\n        transactionHash: newHash,\n        addedTime: new Date().getTime(),\n        replacementType: type\n      }\n      delete allTxs[oldHash]\n    },\n\n    updateSafeTransaction(\n      transactions,\n      {\n        payload: { chainId, safeTransaction, blockNumber }\n      }: PayloadAction<WithChainId & { safeTransaction: SafeMultisigTransactionResponse; blockNumber: number }>\n    ) {\n      const { safeTxHash, transactionHash } = safeTransaction\n      const tx = transactions[chainId]?.[safeTxHash]\n      if (!tx) {\n        console.warn('[updateSafeTransaction] Unknown safe transaction', safeTxHash)\n        return\n      }\n\n      // Update block number\n      updateBlockNumber(tx, blockNumber)\n\n      // Update tx hash (if present)\n      tx.transactionHash = transactionHash\n\n      // Update safe info\n      tx.safeTransaction = safeTransaction\n    }\n  }\n})\n\nexport const {\n  addTransaction,\n  clearAllTransactions,\n  checkedTransaction,\n  finalizeTransaction,\n  replaceTransaction,\n  updateSafeTransaction\n} = transactionsSlice.actions\nexport const transactions = transactionsSlice.reducer\n","import { nanoid } from '@reduxjs/toolkit'\nimport { SHIRT_SIZES, STORE_IMAGE_SIZES } from 'constants/config'\nimport { BaseCatalogItem, CatalogItem, ItemMetadata } from './types'\n\nexport function buildUrl({ year, name, season }: BaseCatalogItem, type: 'VIDEOS' | 'IMAGES', id: string) {\n  return `/APPAREL/${year}/${season}/${name}/${type}/${id}`\n}\n\nexport function buildItemParams(params: ItemMetadata): Omit<CatalogItem, 'season'> {\n  return Object.assign(\n    {},\n    {\n      itemColor: params.color,\n      itemHeader: params.name,\n      itemDescription: params.description,\n      itemLogo: buildUrl(params as BaseCatalogItem, 'IMAGES', 'logo.png'),\n      headerLogo: buildUrl(params as BaseCatalogItem, 'IMAGES', 'header.png'),\n      navLogo: buildUrl(params as BaseCatalogItem, 'IMAGES', 'nav-bar.png'),\n      itemSizesList: SHIRT_SIZES,\n      itemArtistInfo:\n        params.collaborator && params.social\n          ? {\n              artist: params.collaborator,\n              social: params.social\n            }\n          : undefined,\n      itemKey: params.name + '-' + nanoid()\n    },\n    {\n      itemMediaList: [\n        // FRONT CONTENT\n        {\n          imageMedia: {\n            path: buildUrl(params, 'IMAGES', 'front-large.png'),\n            large: STORE_IMAGE_SIZES.LARGE,\n            small: STORE_IMAGE_SIZES.SMALL\n          },\n          videoMedia: { path: buildUrl(params, 'VIDEOS', 'front.mp4'), lowq: 'q-10' }\n        },\n        // BACK CONTENT\n        {\n          imageMedia: {\n            path: buildUrl(params, 'IMAGES', 'back-large.png'),\n            large: STORE_IMAGE_SIZES.LARGE,\n            small: STORE_IMAGE_SIZES.SMALL\n          },\n          videoMedia: { path: buildUrl(params, 'VIDEOS', 'back.mp4'), lowq: 'q-10' }\n        }\n      ]\n    }\n  )\n}\n","import { ItemMetadata, SocialType } from 'mock/apparel/types'\n\nconst HOME_GROWN_MESSAGE = 'Home grown in LX @ pastelle labs'\n\n// ================================================================================\n// ====================> VIRGIL: CONTENT\n// ================================================================================\nexport const VIRGIL: ItemMetadata = {\n  name: 'VIRGIL',\n  // color: '#a2c2fa', // LIGHTER\n  // color: '#427da2', // blue\n  color: '#551d27', // red\n  season: 'FALL',\n  year: 2022,\n  description: [\n    `“And I — my head oppressed by horror — said: \"Master, what is it that I hear? Who are those people so defeated by\n      their pain?\"`,\n    `And he to me: \"This miserable way is taken by the sorry souls of those who lived without disgrace and without\n      praise. They now commingle with the coward angels, the company of those who were not rebels nor faithful to their\n      God, but stood apart. The heavens, that their beauty not be lessened, have cast them out, nor will deep Hell\n      receive them — even the wicked cannot glory in them.”`\n  ],\n  collaborator: 'Mathieu Sato',\n  social: [{ type: SocialType.INSTAGRAM, url: 'https://instagram.com/mathieusato', display: '@mathieusato' }]\n}\n\n// ================================================================================\n// ====================> VOODOO: CONTENT\n// ================================================================================\nexport const VOODOO: ItemMetadata = {\n  name: 'VOODOO',\n  color: '#8f55e999',\n  season: 'FALL',\n  year: 2022,\n  description: [`1500uG +`, `Phasing in and out. Fractals.`, HOME_GROWN_MESSAGE]\n}\n\n// ================================================================================\n// ====================> ELLEX: CONTENT\n// ================================================================================\nexport const ELLEX: ItemMetadata = {\n  name: 'ELLEX',\n  color: '#dbbbb9',\n  season: 'FALL',\n  year: 2022,\n  description: [`LADY ESTRELA.`, HOME_GROWN_MESSAGE]\n}\n\n// ================================================================================\n// ====================> REBIRTH: CONTENT\n// ================================================================================\nexport const REBIRTH: ItemMetadata = {\n  name: 'REBIRTH',\n  color: '#2c2c2c',\n  season: 'FALL',\n  year: 2022,\n  description: [`REBIRTH.`, '...', HOME_GROWN_MESSAGE]\n}\n\n// ================================================================================\n// ====================> REBIRTH: CONTENT\n// ================================================================================\nexport const DAYDREAMING: ItemMetadata = {\n  name: 'DAYDREAMING',\n  color: '#7B649F',\n  season: 'FALL',\n  year: 2022,\n  description: [`DAYDREAM.`, 'I WAS ASLEEP UNDER THE FLOWERS.', `FOR A COUPLE OF HOURS...`],\n  collaborator: 'EGON SCHIELE',\n  social: [{ type: SocialType.INSTAGRAM, url: 'https://www.wikiart.org/en/egon-schiele', display: 'EGON SCHIELE WIKI' }]\n}\n","import { CatalogSeasonItemMap, CatalogSeasonsMap } from './types'\nimport { buildItemParams } from 'mock/apparel/utils'\n\nimport * as FALL_CATALOG_INFO from 'mock/apparel/2022/FALL'\n\nconst FALL_CATALOG = Object.values(FALL_CATALOG_INFO).reduce((acc, itemContent) => {\n  const fullItem = buildItemParams(itemContent)\n  acc[fullItem.itemKey] = fullItem\n  return acc\n}, {} as CatalogSeasonItemMap)\n\nconst catalogItems: Map<number | string, Partial<CatalogSeasonsMap>> = new Map()\n\ncatalogItems.set('2022', {\n  FALL: FALL_CATALOG\n})\n\nexport default catalogItems\n","import useSWR from 'swr'\nimport { useEffect, useMemo } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\n\nimport { CatalogItem, CatalogSeason, CatalogSeasonItemMap } from 'mock/apparel/types'\nimport { delay } from 'utils'\n\nimport MOCK_CATALOG_MAP from 'mock/apparel'\nimport { BASE_CATALOG_URL } from '.'\nimport { useCatalog } from 'state/catalog/hooks'\n\ntype URLFromCatalogItemsParams = {\n  seasonList: CatalogItem[]\n  currentItem: CatalogItem | undefined\n  isActive: boolean\n  itemKey: string\n  itemIndex: number\n}\n\nexport function useUpdateURLFromCatalogItem(params: URLFromCatalogItemsParams) {\n  const { seasonList, currentItem, isActive, itemKey, itemIndex } = params\n  const { replace } = useHistory()\n  // update url\n  useEffect(() => {\n    const urlNeedsUpdate = isActive && currentItem?.itemKey !== itemKey\n\n    if (urlNeedsUpdate) {\n      const currentItemKey = seasonList[itemIndex]?.itemKey\n      if (!currentItemKey) return\n\n      replace(BASE_CATALOG_URL + currentItemKey.split('-')[0])\n    }\n  }, [currentItem?.itemKey, isActive, itemKey, itemIndex, replace, seasonList])\n}\n\nfunction _getRandomArrayItem(arr: any[]) {\n  const randomIndex = Math.round(Math.random() * arr.length)\n\n  // 0 index, return original arr\n  if (!randomIndex) return arr\n\n  const adjustedArrEnd = arr.slice(randomIndex)\n  const adjustedArrBeg = arr.slice(0, randomIndex - 1)\n  const newFirstItem = arr[randomIndex - 1]\n\n  return [newFirstItem, ...adjustedArrBeg, ...adjustedArrEnd]\n}\n\ntype CatalogFromURLOptions = { randomiseData: boolean }\n\nexport function useCatalogItemFromURL(options?: CatalogFromURLOptions) {\n  // we need to use the URL to determine what item we're currently viewing\n  const { pathname } = useLocation()\n  const [year = '', season = '', item = ''] = useMemo(\n    () =>\n      pathname\n        .substring(1)\n        .split('/')\n        .slice(1),\n    [pathname]\n  )\n\n  // mock hook for async fetching of catalog data\n  const catalogMap = useCatalog()\n\n  const seasonMap = catalogMap?.[year.toUpperCase()]?.[season.toUpperCase() as CatalogSeason]\n  const seasonList = Object.values(seasonMap || {})\n  const urlItem = seasonMap?.[item.toUpperCase()]\n  const currentItem = urlItem || seasonList[0]\n\n  return {\n    seasonList: options?.randomiseData ? _getRandomArrayItem(seasonList) : seasonList,\n    currentItem,\n    pathname\n  }\n}\n\ntype FetchCatalogDataProps = {\n  year: number | string\n  season: CatalogSeason\n}\n\nexport function useMockFetchCatalogData(params: FetchCatalogDataProps) {\n  const { season, year } = params\n\n  return useSWR<CatalogSeasonItemMap>(\n    ['catalog', season, year],\n    () => (year && season ? delay(2300, MOCK_CATALOG_MAP.get(year.toString())?.[season]) : {}),\n    {\n      refreshInterval: 20000\n    }\n  )\n}\n\nexport function useMockFetchCatalogDataByYear(year: number) {\n  return {\n    WINTER: useMockFetchCatalogData({ year, season: 'WINTER' }),\n    SPRING: useMockFetchCatalogData({ year, season: 'SPRING' }),\n    SUMMER: useMockFetchCatalogData({ year, season: 'SUMMER' }),\n    FALL: useMockFetchCatalogData({ year, season: 'FALL' })\n  }\n}\n"],"sourceRoot":""}