{"version":3,"sources":["components/SmartImg/index.tsx","utils/navigation.ts","components/Layout/Article.tsx","components/Carousel/styleds.ts","components/Carousel/index.tsx","components/Modal/index.tsx","components/LazyVideo/index.tsx","hooks/useDetectScrollIntoView.ts","pages/SingleItem/ItemVideoContent.tsx","pages/SingleItem/AsideWithVideo.tsx","components/Breadcrumb/index.tsx","components/ScrollingIndicator/index.tsx","components/ScrollingContentPage/styleds.ts","assets/svg/pastelle-ivory-outlined.svg","components/ScrollingContentPage/index.tsx","pages/Catalog/index.tsx"],"names":["DEFAULT_LQ_IP","quality","DEFAULT_TRANSFORMATIONS","pr","ApiImage","path","transformation","lazy","lq","forwardedRef","lqip","active","publicKey","process","urlEndpoint","transformationPosition","loading","ref","SmartImg","forwardRef","props","displayName","buildItemUrl","year","CURRENT_YEAR","season","CURRENT_SEASON","identifier","ArticleFadeInContainer","styled","article","fadeInAnimation","CarouselStep","Row","$calculatedWidth","CarouselContainer","div","fixedHeight","theme","mediaWidth","upToSmall","CarouselButton","buttonColor","transparentize","CarouselButtonContainer","Carousel","imageList","mediaStartIndex","showCarouselContentIndicators","onCarouselChange","onImageClick","useState","setRef","parentWidth","setParentWidth","selectedStep","setSelectedStep","useMemo","isMultipleCarousel","length","lastStepIndex","carouselImageRef","useRef","carouselRef","useEffect","current","undefined","parentElement","offsetWidth","focus","handleResize","window","addEventListener","removeEventListener","id","map","index","isLastStep","calculatedWidth","justifyContent","onClick","e","stopPropagation","indexToSet","AnimatedDialogOverlay","animated","DialogOverlay","StyledDialogOverlay","modalBG","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","isLargeImageModal","rest","attrs","bg0","shadow1","css","upToMedium","Modal","onDismiss","initialFocusRef","className","children","fadeTransition","useTransition","config","duration","from","opacity","enter","leave","useSpring","y","mass","tension","friction","set","bind","useGesture","onDrag","state","down","movement","direction","styles","item","style","unstable_lockFocusAcrossFrames","isMobile","transform","interpolate","background","position","bottom","left","right","padding","textAlign","margin","tabIndex","VideoContainer","ItemHeader","Spinner","label","itemColor","getThemeColours","ThemeModes","CHAMELEON","blue1","animation","size","BASE_VIDEO_PROPS","loop","muted","autoPlay","preload","BASE_INTERSECTION_OPTIONS","threshold","sourcesProps","videoProps","loadInView","container","Loader","boxProps","dataLoaded","setDataLoaded","metaDataLoaded","setMetaDataLoaded","loaded","videoElement","setVideoElement","video","_handleDataLoad","_handleMetaDataLoad","isInView","elem","options","setIsInView","observer","IntersectionObserver","isIntersecting","unobserve","observe","disconnect","useDetectScrollIntoView","root","src","sourceProps","ItemVideoContent","itemMediaList","currentCarouselIndex","firstPaintOver","setVideoStatus","handleOnPlaying","handleOnPaused","videoMedia","lowq","document","querySelector","marginLeft","type","height","Breadcrumbs","breadcrumbs","lastCrumb","rowProps","zIndex","crumb","isLastCrumb","to","ItemPage","itemHeader","itemLogo","itemSizesList","itemDescription","itemArtistInfo","isActive","mobileView","noVideo","noDescription","showBreadCrumbs","handleMobileItemClick","setCurrentCarouselIndex","toggleModal","useToggleModal","ApplicationModal","ITEM_LARGE_IMAGE","showLargeImage","useModalOpen","useGetCatalogDetailsFromURL","params","slice","pop","useBreadcrumb","smallImagesList","largeImagesList","forEach","imageMedia","push","setOnScreenId","useSetOnScreenItemID","bgColor","marginBottom","width","small","alignItems","fontWeight","color","white","PASTELLE_CREDIT","disabled","black","paragraph","hide","large","xc","yc","Wrapper","top","ScrollingContentIndicator","baseContentMessage","onlyOne","styleProps","AnimatedDivContainer","a","Scroller","upToExtraSmall","ScrollerContainer","CONFIG","MAC_SPRING_CONFIG","MOBILE_SPRING_CONFIG","_calcAnchorPos","point","mult","b","c","range","highPoint","Math","ceil","_getLimits","limitA","limitB","abs","_getNearestAxisPoint","multiple","useStateRef","defaultRef","processNode","node","setNode","useCallback","newNode","ScrollingContentPage","data","dataItem","showIndicator","onContentClick","IterableComponent","indicatorProps","items","visible","snapOnScroll","scaleOptions","scaleOnScroll","initialScale","prev","target","setContainerRef","min","clientHeight","setHeightRef","_handleWindowResize","setTargetRef","currentIndex","setCurrentIndex","setFirstPaintOver","useSprings","i","scale","onRest","springs","api","getIndex","l","getPos","firstVisible","firstVisibleIndex","calculateApiLogic","dy","my","firstVis","firstVisIdx","prevPosition","rank","yPos","max","anchorPoint","immediate","runSprings","itemPosition","floor","start","wheelOffset","dragOffset","offset","aY","computedY","onWheel","event","preventDefault","eventOptions","passive","useViewPagerAnimation","loadText","PastelleIvoryOutlined","itemIndex","Catalog","useHistory","useCatalogItemFromURL","seasonList","currentItem","onScreenItemId","useOnScreenItemID","AsideWithVideoAux","STORE_IMAGE_SIZES","SMALL"],"mappings":"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","file":"static/js/CATALOG.559fd52e.chunk.js","sourcesContent":["import { IKImage, IKContext } from 'imagekitio-react'\nimport { forwardRef } from 'react'\n\nexport type ImageKitTransformation = { [x: string]: number | string }[]\n\nexport interface ImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {\n  path: string\n  lq?: boolean\n  lazy?: boolean\n  forwardedRef?: React.ForwardedRef<any>\n  transformation?: ImageKitTransformation\n}\n\nconst DEFAULT_LQ_IP = {\n  quality: 10\n}\n\nconst DEFAULT_TRANSFORMATIONS = [{ pr: true }]\n\nfunction ApiImage({ path, transformation = [], lazy = true, lq = true, forwardedRef }: ImageProps) {\n  const lqip = {\n    ...DEFAULT_LQ_IP,\n    active: lq\n  }\n\n  return (\n    <IKContext\n      publicKey={process.env.REACT_APP_IMAGEKIT_PUBLIC_KEY}\n      urlEndpoint={process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT}\n      transformationPosition=\"path\"\n      // authenticationEndpoint=\"http://www.yourserver.com/auth\"\n    >\n      <IKImage\n        path={path}\n        loading={lazy ? 'lazy' : 'eager'}\n        lqip={lqip}\n        transformation={[...DEFAULT_TRANSFORMATIONS, ...transformation]}\n        ref={forwardedRef}\n      />\n    </IKContext>\n  )\n}\nconst SmartImg = forwardRef((props: ImageProps, ref) => <ApiImage {...props} forwardedRef={ref} />)\n\nSmartImg.displayName = 'ApiImage'\n\nexport default SmartImg\n","import { CURRENT_SEASON, CURRENT_YEAR } from 'constants/config'\nimport { CatalogSeason } from 'mock/apparel/types'\n\ntype ItemUrlProps = { year?: string | number; season?: CatalogSeason; identifier: string }\nexport function buildItemUrl({ year = CURRENT_YEAR, season = CURRENT_SEASON, identifier }: ItemUrlProps) {\n  // TODO: reenable itemKey\n  // return `/goods/${year}/${season}/${identifier}`\n  return `/goods/${year}/${season}/${identifier}`\n}\n","import styled from 'styled-components/macro'\nimport { fadeInAnimation } from 'pages/SingleItem/styleds'\n\nconst portugalBg = process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + '/portugal-bg_Rqj8jTKhFmds.jpg?tr=q-25'\nconst portugalBgLq =\n  process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + '/portugal-bg_Rqj8jTKhFmds.jpg?tr=h-1,w-1:h-1152,w-528'\n\nexport const ArticleFadeInContainer = styled.article`\n  overflow: hidden;\n  filter: contrast(1) blur(0px);\n\n  background-image: url(${portugalBg}), url(${portugalBgLq});\n  background-size: contain;\n\n  ${fadeInAnimation};\n\n  animation-name: fadeIn;\n  animation-duration: 0.8s;\n`\n","import styled from 'styled-components/macro'\nimport { transparentize } from 'polished'\nimport { Row } from 'components/Layout'\n\nexport const CarouselStep = styled(Row)<{ $calculatedWidth: string }>`\n  position: relative;\n  width: ${({ $calculatedWidth }) => $calculatedWidth};\n  height: ${({ $calculatedWidth }) => $calculatedWidth};\n  overflow-x: hidden;\n\n  img {\n    max-width: 100%;\n    box-shadow: 3px 6px 8px 0px #686868ad;\n  }\n\n  transition: width 0.3s ease-out;\n`\n\nexport const CarouselContainer = styled.div<{ fixedHeight?: string }>`\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n  align-items: center;\n\n  // no shrink\n  // flex: 1 0 auto;\n  width: 100%;\n  ${({ fixedHeight }) => `height: ${fixedHeight};`}\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    margin-top: 40px;  \n  `}\n`\n// #a1c3f9\nexport const CarouselButton = styled.div<{ buttonColor: string }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 20px;\n  margin: 0 4px;\n  background-color: ${({ buttonColor }) => transparentize(1, buttonColor)};\n\n  cursor: pointer;\n\n  &:hover {\n    background-color: ${({ buttonColor }) => transparentize(0.2, buttonColor)};\n  }\n\n  transition: background-color 0.2s ease-in-out;\n`\n\nexport const CarouselButtonContainer = styled.div`\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n\n  cursor: pointer;\n`\n","import SmartImg, { ImageProps } from 'components/SmartImg'\nimport { useState, useMemo, useRef, useEffect } from 'react'\nimport { ChevronLeft, ChevronRight } from 'react-feather'\nimport { CarouselContainer, CarouselStep, CarouselButtonContainer, CarouselButton } from './styleds'\n\ntype CarouselProps = {\n  fixedHeight?: string\n  buttonColor: string\n  imageList: string[]\n  transformation: ImageProps['transformation']\n  mediaStartIndex: number\n  showCarouselContentIndicators?: boolean\n  onCarouselChange?: (index: number) => void\n  onImageClick?: () => void\n}\n\nexport default function Carousel({\n  fixedHeight,\n  buttonColor,\n  imageList,\n  transformation,\n  mediaStartIndex,\n  showCarouselContentIndicators = true,\n  onCarouselChange,\n  onImageClick\n}: CarouselProps) {\n  const [ref, setRef] = useState<HTMLDivElement>()\n  const [parentWidth, setParentWidth] = useState<number | undefined>()\n  const [selectedStep, setSelectedStep] = useState(mediaStartIndex)\n\n  const { isMultipleCarousel, lastStepIndex } = useMemo(\n    () => ({\n      isMultipleCarousel: imageList.length > 0,\n      lastStepIndex: imageList.length - 1\n    }),\n    [imageList.length]\n  )\n  // get a ref to the carouselImageboi\n  const carouselImageRef = useRef<HTMLImageElement | null>(null)\n  const carouselRef = useRef<HTMLDivElement | null>(null)\n\n  // set ref states and focus carousel\n  useEffect(() => {\n    setRef(carouselRef.current ?? undefined)\n    setParentWidth(ref?.parentElement?.offsetWidth)\n\n    ref?.focus()\n  }, [ref])\n\n  // get a ref to the carouselboi\n  // we need to hold and updated cache of the carousel parent's width in px\n  useEffect(() => {\n    function handleResize() {\n      setParentWidth(ref?.parentElement?.offsetWidth)\n    }\n\n    window.addEventListener('resize', handleResize)\n\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [parentWidth, ref?.parentElement?.offsetWidth])\n\n  return (\n    <CarouselContainer id=\"#carousel-container\" ref={carouselRef} fixedHeight={fixedHeight}>\n      {/* CAROUSEL CONTENT */}\n      {imageList.map((path, index) => {\n        if (!parentWidth) return null\n        const isCurrentStep = index === selectedStep\n        // has multiple steps and is on last item\n        const isLastStep = isMultipleCarousel && selectedStep === lastStepIndex\n        const calculatedWidth = isCurrentStep ? parentWidth : 0\n\n        const onNext = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.stopPropagation()\n          let indexToSet = undefined\n          if (isLastStep) {\n            indexToSet = 0\n          } else {\n            indexToSet = selectedStep + 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        const onPrevious = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.stopPropagation()\n          let indexToSet = undefined\n          if (selectedStep === 0) {\n            indexToSet = lastStepIndex\n          } else {\n            indexToSet = selectedStep - 1\n          }\n          // change carousel slide\n          setSelectedStep(indexToSet)\n          // side effect change item video\n          onCarouselChange && onCarouselChange(indexToSet)\n        }\n\n        return (\n          <CarouselStep\n            id={'#carousel-step-' + index}\n            key={index}\n            justifyContent={'center'}\n            $calculatedWidth={calculatedWidth + 'px'}\n          >\n            <SmartImg path={path} transformation={transformation} ref={carouselImageRef} />\n            {showCarouselContentIndicators && isMultipleCarousel && (\n              <CarouselButtonContainer onClick={onImageClick}>\n                <CarouselButton onClick={onPrevious} buttonColor={buttonColor}>\n                  <ChevronLeft />\n                </CarouselButton>\n                <CarouselButton onClick={onNext} buttonColor={buttonColor}>\n                  <ChevronRight />\n                </CarouselButton>\n              </CarouselButtonContainer>\n            )}\n          </CarouselStep>\n        )\n      })}\n    </CarouselContainer>\n  )\n}\n","import { DialogContent, DialogOverlay } from '@reach/dialog'\nimport { transparentize } from 'polished'\nimport { animated, useSpring, useTransition } from 'react-spring'\nimport { useGesture } from '@use-gesture/react'\nimport styled, { css } from 'styled-components/macro'\nimport { isMobile } from 'utils'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 9999;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, isLargeImageModal, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog'\n})`\n  overflow-y: auto;\n\n  overflow: hidden;\n  border: none;\n\n  &[data-reach-dialog-content] {\n    outline: none;\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg0};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: ${({ isLargeImageModal }) => (isLargeImageModal ? '90' : '50')}vh;\n    overflow-y: ${({ isLargeImageModal }) => (!isLargeImageModal ? 'auto' : 'hidden')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: ${({ maxHeight, isLargeImageModal = false }) =>\n      css`\n        ${isLargeImageModal ? maxHeight + 'vh' : '420px'}\n      `};\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${mobile &&\n        css`\n          width: 100vw;\n          height: 90vh;\n\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n          margin: auto;\n\n          img {\n            max-width: 150%;\n          }\n        `}\n    `}\n  }\n`\n\ninterface ModalProps {\n  isLargeImageModal?: boolean\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  className?: string\n  children?: React.ReactNode\n}\n\nexport default function Modal({\n  isLargeImageModal = false,\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  className,\n  children\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      })\n      if (state.movement[1] > 150 || (state.direction[1] > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    }\n  })\n\n  return (\n    <>\n      {fadeTransition(\n        (styles, item) =>\n          item && (\n            <StyledDialogOverlay\n              className={className}\n              style={styles}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      style: { transform: y.interpolate(y => `translateY(${(y as number) > 0 ? y : 0}px)`) }\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n                isLargeImageModal={isLargeImageModal}\n              >\n                {isMobile && (\n                  <h1\n                    onClick={onDismiss}\n                    style={{\n                      background: '#AB92E1',\n                      position: 'absolute',\n                      bottom: 0,\n                      left: 0,\n                      right: 0,\n                      padding: '5px 10px',\n                      textAlign: 'right',\n                      margin: 0\n                    }}\n                  >\n                    CLOSE\n                  </h1>\n                )}\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n","import { ForwardedRef, forwardRef, ReactNode, useEffect, useState } from 'react'\nimport styled from 'styled-components/macro'\n\nimport Loader from 'components/Loader'\nimport { Row } from 'components/Layout'\n\nimport useDetectScrollIntoView from 'hooks/useDetectScrollIntoView'\n\nimport { ItemHeader } from 'pages/SingleItem/styleds'\n\nimport { ThemeModes } from 'theme/styled'\nimport { getThemeColours } from 'theme/utils'\nimport { BoxProps } from 'rebass'\n\ntype WithContainer = {\n  container: HTMLElement | null | undefined\n}\n\ntype LazyVideoProps = {\n  sourcesProps: React.DetailedHTMLProps<React.SourceHTMLAttributes<HTMLSourceElement>, HTMLSourceElement>[]\n  videoProps?: React.DetailedHTMLProps<React.VideoHTMLAttributes<HTMLVideoElement>, HTMLVideoElement>\n  loadInView?: boolean\n  Loader?: (...props: any[]) => JSX.Element\n} & WithContainer &\n  BoxProps\n\nconst VideoContainer = styled(Row)`\n  position: relative;\n\n  > ${ItemHeader} {\n    position: absolute;\n    right: 15%;\n    letter-spacing: -8px;\n    font-size: 76px;\n  }\n\n  > svg {\n    position: absolute;\n    right: 30%;\n    z-index: 200;\n  }\n`\n\nconst Spinner = ({ label = 'pstl' }: { label?: ReactNode }) => (\n  <>\n    <ItemHeader itemColor={getThemeColours(ThemeModes.CHAMELEON).blue1} animation>\n      {label}\n    </ItemHeader>\n    <Loader size={'100px'} />\n  </>\n)\n\nconst BASE_VIDEO_PROPS = { loop: true, muted: true, autoPlay: true, preload: 'none' }\nconst BASE_INTERSECTION_OPTIONS = {\n  threshold: 0.1\n}\n\nexport default forwardRef(function LazyVideo(\n  {\n    sourcesProps,\n    videoProps = {},\n    // useful for setting when setup is animated\n    // e.g useSprings animating components\n    // and we dont want to check if in view before animation ends\n    loadInView = true,\n    container,\n    Loader = Spinner,\n    ...boxProps\n  }: LazyVideoProps,\n  forwardRef: ForwardedRef<HTMLVideoElement>\n) {\n  const [dataLoaded, setDataLoaded] = useState(false)\n  const [metaDataLoaded, setMetaDataLoaded] = useState(false)\n  const loaded = metaDataLoaded && dataLoaded\n\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null)\n\n  // forwardedRef in use, we need to assing our internal ref to the external\n  useEffect(() => {\n    if (forwardRef && videoElement) {\n      typeof forwardRef === 'function' && forwardRef(videoElement)\n    }\n  }, [forwardRef, videoElement])\n\n  useEffect(() => {\n    const _handleDataLoad = () => setDataLoaded(true)\n    const _handleMetaDataLoad = () => setMetaDataLoaded(true)\n\n    let video: HTMLVideoElement\n    if (videoElement) {\n      video = videoElement\n\n      video.addEventListener('loadeddata', _handleDataLoad)\n      video.addEventListener('loadedmetadata', _handleMetaDataLoad)\n    }\n\n    return () => {\n      video?.removeEventListener('loadeddata', _handleDataLoad)\n      video?.removeEventListener('loadedmetadata', _handleMetaDataLoad)\n    }\n  }, [videoElement])\n\n  const isInView = useDetectScrollIntoView(loadInView ? videoElement : undefined, {\n    ...BASE_INTERSECTION_OPTIONS,\n    root: container\n  })\n\n  return (\n    <VideoContainer justifyContent=\"center\" {...boxProps}>\n      {!loaded && <Loader />}\n      <video {...BASE_VIDEO_PROPS} {...videoProps} ref={setVideoElement}>\n        {isInView\n          ? sourcesProps.map(({ src, ...sourceProps }, index) => <source key={index} src={src} {...sourceProps} />)\n          : null}\n      </video>\n    </VideoContainer>\n  )\n})\n","import { useState, useEffect } from 'react'\n\nexport default function useDetectScrollIntoView(\n  elem: HTMLElement | null | undefined,\n  options: IntersectionObserverInit | undefined\n) {\n  const [isInView, setIsInView] = useState(false)\n\n  useEffect(() => {\n    if (!elem) return\n\n    const observerCb: IntersectionObserverCallback = ([entry]: IntersectionObserverEntry[], observer) => {\n      if (entry.isIntersecting) {\n        setIsInView(true)\n        observer.unobserve(elem)\n      }\n    }\n    const observer = new IntersectionObserver(observerCb, options)\n\n    // start observation of elem\n    observer.observe(elem)\n\n    // disconnect observer and close\n    return () => {\n      observer.disconnect()\n    }\n  }, [elem, options])\n\n  return isInView\n}\n","import { /* useCallback ,*/ useEffect, useState } from 'react'\n// import { Pause, Play } from 'react-feather'\n\nimport /* ButtonVariations */ 'components/Button'\nimport { ItemPageProps } from './AsideWithVideo'\nimport { VideoContentWrapper /* , ItemSubHeader, VideoControlButton */ } from './styleds'\nimport LazyVideo from 'components/LazyVideo'\nimport { Spinner } from 'theme'\n\n// const CONTROL_BUTTON_SIZE = 20\n\nexport const ItemVideoContent = ({\n  itemMediaList,\n  currentCarouselIndex,\n  firstPaintOver\n}: // hide\n{ currentCarouselIndex: number; hide?: boolean; firstPaintOver?: boolean } & Pick<ItemPageProps, 'itemMediaList'>) => {\n  const [, /* videoStatus */ setVideoStatus] = useState<'PLAYING' | 'PAUSED' | undefined>(undefined)\n  const [videoElement, setVideoElement] = useState<HTMLVideoElement | null>(null)\n\n  useEffect(() => {\n    if (!videoElement) return\n    const video = videoElement\n\n    function handleOnPlaying() {\n      setVideoStatus('PLAYING')\n    }\n\n    function handleOnPaused() {\n      setVideoStatus('PAUSED')\n    }\n\n    video.addEventListener('playing', handleOnPlaying)\n    video.addEventListener('pause', handleOnPaused)\n\n    return () => {\n      video.removeEventListener('playing', handleOnPlaying)\n      video.removeEventListener('pause', handleOnPaused)\n    }\n  }, [videoElement])\n\n  /* const toggleVideo = useCallback(() => {\n    if (!videoElement) return\n\n    if (videoStatus === 'PAUSED') {\n      videoElement.play()\n    } else {\n      videoElement.pause()\n    }\n  }, [videoElement, videoStatus])\n\n  const isPaused = videoStatus === 'PAUSED' */\n\n  // TODO: show loader and set hide to also depend on active index\n  // if (hide) return null\n\n  return (\n    <>\n      <VideoContentWrapper id=\"#video-content-wrapper\">\n        {itemMediaList.map(({ videoMedia: { path, lowq } }, index) => {\n          const isSelected = index === currentCarouselIndex\n          if (!isSelected) return null\n\n          return (\n            <LazyVideo\n              key={index}\n              ref={setVideoElement}\n              container={document.querySelector('#CATALOG-ARTICLE') as HTMLElement}\n              loadInView={firstPaintOver}\n              videoProps={{\n                style: {\n                  marginLeft: 'auto'\n                }\n              }}\n              sourcesProps={[\n                { src: process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + path, type: 'video/mp4' },\n                { src: process.env.REACT_APP_IMAGEKIT_URL_ENDPOINT + path + '?tr=' + lowq, type: 'video/mp4' }\n              ]}\n              height=\"100%\"\n              Loader={Spinner}\n            />\n          )\n        })}\n      </VideoContentWrapper>\n      {/* videoStatus && (\n        <VideoControlButton variant={ButtonVariations.THEME} onClick={toggleVideo}>\n          <ItemSubHeader>\n            VIDEO\n            {isPaused ? (\n              <Play color=\"ghostwhite\" fill=\"ghostwhite\" size={CONTROL_BUTTON_SIZE} />\n            ) : (\n              <Pause size={CONTROL_BUTTON_SIZE} />\n            )}\n          </ItemSubHeader>\n        </VideoControlButton>\n      ) */}\n    </>\n  )\n}\n","import { useEffect, useMemo, useState } from 'react'\nimport { Row } from 'components/Layout'\nimport Carousel from 'components/Carousel'\nimport {\n  ItemContainer,\n  ItemAsidePanel,\n  ItemLogo,\n  ItemDescription,\n  ItemCredits,\n  ItemArtistInfo,\n  // FloatingStrip,\n  PASTELLE_CREDIT,\n  ItemSubHeader,\n  ItemBreadcrumb,\n  MobileItemCTA,\n  InnerContainer,\n  HighlightedText\n} from './styleds'\n\nimport { ApparelItem, CollaboratorSocialData, ItemSizes } from 'mock/apparel/types'\nimport { useBreadcrumb } from 'components/Breadcrumb'\n\nimport Modal from 'components/Modal'\nimport { useToggleModal, useModalOpen } from 'state/application/hooks'\nimport { ApplicationModal } from 'state/application/reducer'\nimport { ItemVideoContent } from './ItemVideoContent'\nimport { ScrollableContentComponentBaseProps } from 'components/ScrollingContentPage'\nimport { ThemeModes } from 'theme/styled'\nimport { getThemeColours } from 'theme/utils'\nimport { BoxProps } from 'rebass'\nimport SmartImg from 'components/SmartImg'\nimport { useSetOnScreenItemID } from 'state/user/hooks'\nimport { TYPE } from 'theme'\nimport { isMobile } from 'utils'\n\nexport interface ItemPageProps {\n  itemColor: string\n  itemHeader: string\n  itemLogo?: string\n  itemMediaList: ApparelItem[]\n  itemSizesList: ItemSizes[]\n  itemDescription: string[]\n  itemArtistInfo?: {\n    artist: string\n    social: CollaboratorSocialData\n  }\n  itemKey: string\n  mobileView?: boolean\n  noVideo?: boolean\n  noDescription?: boolean\n}\n\nexport type ItemPageDesignsProps = {\n  headerLogo?: string\n  navLogo?: string\n}\n\nfunction Breadcrumbs({\n  breadcrumbs,\n  lastCrumb,\n  ...rowProps\n}: {\n  breadcrumbs: string[]\n  lastCrumb: string | undefined\n} & BoxProps) {\n  return (\n    <Row {...rowProps} style={{ zIndex: 100 }}>\n      {breadcrumbs?.map((crumb, index) => {\n        const isLastCrumb = crumb === lastCrumb\n        return (\n          <ItemBreadcrumb key={crumb + '_' + index} to=\"/#\">\n            <span>{!isLastCrumb ? crumb : <strong>{crumb}</strong>}</span>\n            {!isLastCrumb && <span>{'//'}</span>}\n          </ItemBreadcrumb>\n        )\n      })}\n    </Row>\n  )\n}\n\nconst DEFAULT_MEDIA_START_INDEX = 0\n\nexport default function ItemPage({\n  itemColor,\n  itemHeader,\n  itemLogo,\n  itemMediaList,\n  itemSizesList,\n  itemDescription,\n  itemArtistInfo,\n  // TODO: reenable itemKey\n  // itemKey,\n  isActive,\n  firstPaintOver,\n  mobileView = false,\n  noVideo = false,\n  noDescription = false,\n  showBreadCrumbs,\n  style,\n  handleMobileItemClick\n}: ItemPageProps &\n  ScrollableContentComponentBaseProps & {\n    style?: any\n    handleMobileItemClick?: React.MouseEventHandler<HTMLHeadingElement>\n    showBreadCrumbs: boolean\n  }) {\n  const [currentCarouselIndex, setCurrentCarouselIndex] = useState(DEFAULT_MEDIA_START_INDEX)\n  const onCarouselChange = (index: number) => setCurrentCarouselIndex(index)\n\n  // MODALS\n  const toggleModal = useToggleModal(ApplicationModal.ITEM_LARGE_IMAGE)\n  const showLargeImage = useModalOpen(ApplicationModal.ITEM_LARGE_IMAGE)\n\n  const breadcrumbs = useBreadcrumb()\n\n  // Split images lists\n  const { smallImagesList, largeImagesList } = useMemo(() => {\n    const smallImagesList: string[] = []\n    const largeImagesList: string[] = []\n\n    itemMediaList.forEach(({ imageMedia: { path } }) => {\n      smallImagesList.push(path)\n      largeImagesList.push(path)\n    })\n\n    return { smallImagesList, largeImagesList }\n  }, [itemMediaList])\n\n  // scrolling page current index set in state as on screen\n  const setOnScreenId = useSetOnScreenItemID()\n  useEffect(() => {\n    if (isActive) {\n      // TODO: reenable itemKey\n      // setOnScreenId(itemKey)\n      setOnScreenId(itemHeader)\n    }\n  }, [isActive, /* itemKey, */ itemHeader, setOnScreenId])\n\n  return (\n    <ItemContainer id=\"#item-container\" style={style} mobileView={mobileView} bgColor={itemColor}>\n      <ItemAsidePanel id=\"#item-aside-panel\">\n        <InnerContainer>\n          {/* Breadcrumbs */}\n          {showBreadCrumbs && <Breadcrumbs {...breadcrumbs} padding=\"5px\" marginBottom={-25} />}\n          {/* Item carousel */}\n          <Carousel\n            showCarouselContentIndicators={!mobileView}\n            buttonColor={itemColor}\n            imageList={smallImagesList}\n            transformation={[{ width: itemMediaList[0].imageMedia.small, height: itemMediaList[0].imageMedia.small }]}\n            mediaStartIndex={currentCarouselIndex}\n            onCarouselChange={onCarouselChange}\n            onImageClick={toggleModal}\n          />\n\n          {/* Wrap everything else in a fragment */}\n          {noDescription ? null : mobileView ? (\n            <>\n              <br />\n              <ItemLogo>\n                {itemLogo ? <SmartImg path={itemLogo} transformation={[{ quality: 60 }]} /> : itemHeader}\n              </ItemLogo>\n              <MobileItemCTA\n                alignItems=\"center\"\n                justifyContent=\"center\"\n                onClick={handleMobileItemClick && handleMobileItemClick}\n              >\n                {isMobile ? 'TAP' : 'CLICK'} TO <strong style={{ marginLeft: 7 }}> VIEW MORE</strong>\n              </MobileItemCTA>\n            </>\n          ) : (\n            <>\n              <ItemLogo>\n                {itemLogo ? <SmartImg path={itemLogo} transformation={[{ quality: 60 }]} /> : itemHeader}\n              </ItemLogo>\n\n              {/* Credits */}\n              <ItemSubHeader bgColor={itemColor}>\n                <span style={{ fontWeight: 500, color: getThemeColours(ThemeModes.CHAMELEON).white }}>CREDIT</span>\n              </ItemSubHeader>\n\n              <ItemCredits>\n                {itemArtistInfo ? (\n                  <ItemArtistInfo {...itemArtistInfo} bgColor={itemColor} />\n                ) : (\n                  <HighlightedText bgColor={itemColor}>{PASTELLE_CREDIT}</HighlightedText>\n                )}\n              </ItemCredits>\n\n              {/* Size selector */}\n              <ItemSubHeader bgColor={itemColor}>\n                <span style={{ fontWeight: 500, color: getThemeColours(ThemeModes.CHAMELEON).white }}>\n                  CHOOSE A SIZE\n                </span>\n              </ItemSubHeader>\n\n              <br />\n\n              <Row>\n                <select disabled style={{ width: '50%' }}>\n                  {itemSizesList.map((size, index) => (\n                    <option key={size + '_' + index}>{size}</option>\n                  ))}\n                </select>\n              </Row>\n\n              <br />\n\n              {/* Item description */}\n              <ItemSubHeader bgColor={itemColor}>\n                <span style={{ fontWeight: 500, color: getThemeColours(ThemeModes.CHAMELEON).white }}>DESCRIPTION</span>\n              </ItemSubHeader>\n\n              <Row>\n                <TYPE.black padding={2}>\n                  <ItemDescription>\n                    {itemDescription.map((paragraph, index) => (\n                      <p key={index} className=\"item-description-p\">\n                        <HighlightedText bgColor={itemColor}>{paragraph}</HighlightedText>\n                      </p>\n                    ))}\n                  </ItemDescription>\n                </TYPE.black>\n              </Row>\n            </>\n          )}\n        </InnerContainer>\n      </ItemAsidePanel>\n      {noVideo ? null : (\n        <ItemVideoContent\n          firstPaintOver={firstPaintOver}\n          hide={!isActive}\n          itemMediaList={itemMediaList}\n          currentCarouselIndex={currentCarouselIndex}\n        />\n      )}\n\n      {/* LARGE IMAGE MODAL */}\n      <Modal isOpen={isActive && showLargeImage} onDismiss={toggleModal} isLargeImageModal={true}>\n        <Carousel\n          buttonColor={itemColor}\n          imageList={largeImagesList}\n          transformation={[\n            { width: itemMediaList[0].imageMedia.large, height: itemMediaList[0].imageMedia.large, xc: 500, yc: 500 }\n          ]}\n          mediaStartIndex={currentCarouselIndex}\n          onCarouselChange={onCarouselChange}\n          fixedHeight=\"auto\"\n        />\n      </Modal>\n    </ItemContainer>\n  )\n}\n","import { useGetCatalogDetailsFromURL } from 'pages/Catalog/hooks'\n\nexport function useBreadcrumb() {\n  const [, params] = useGetCatalogDetailsFromURL()\n\n  const lastCrumb = params.slice().pop()\n  return { breadcrumbs: params, lastCrumb }\n}\n","import styled from 'styled-components/macro'\nimport { ItemSubHeader } from 'pages/SingleItem/styleds'\n\nexport type ScrollingIndicatorParams = ScrollingIndicatorStyleProps & {\n  baseContentMessage: string\n  onlyOne?: 'TOP' | 'BOTTOM'\n}\n\nexport interface ScrollingIndicatorStyleProps {\n  bgColor?: string\n  left?: string\n  top?: string\n  bottom?: string\n  padding?: string\n  height?: string\n  width?: string\n  zIndex?: number\n}\n\nconst Wrapper = styled.div<ScrollingIndicatorStyleProps>`\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ${({ bgColor = '#fa9b6f' }) => bgColor};\n    color: ${({ color = '#000' }) => color};\n    right: 0;\n    ${({ left }) => left && `left: ${left};`}\n    ${({ top }) => top && `top: ${top};`}\n    ${({ bottom }) => bottom && `bottom: ${bottom};`}\n    height: ${({ height = '50px' }) => height};\n    width: ${({ width = '100%' }) => width};\n    padding: ${({ padding = '0 10px' }) => padding};\n    z-index: ${({ zIndex = 1 }) => zIndex};\n  `\n\nexport function ScrollingContentIndicator({\n  baseContentMessage = 'MORE CONTENT',\n  onlyOne,\n  // isLastIndex,\n  ...styleProps\n}: ScrollingIndicatorParams) {\n  return (\n    <>\n      {onlyOne !== 'BOTTOM' && (\n        <Wrapper {...styleProps} top={'0px'}>\n          <ItemSubHeader>{baseContentMessage}</ItemSubHeader>\n        </Wrapper>\n      )}\n      {onlyOne !== 'TOP' && (\n        <Wrapper {...styleProps} bottom={'0px'}>\n          <ItemSubHeader>{baseContentMessage}</ItemSubHeader>\n        </Wrapper>\n      )}\n    </>\n  )\n}\n","import { a } from '@react-spring/web'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport styled from 'styled-components/macro'\n\nexport const AnimatedDivContainer = styled(a.div)`\n  position: absolute;\n  width: 100%;\n  will-change: transform;\n\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: 0px 0px 50px 10px lightsalmon;\n  }\n\n  transition: box-shadow 0.2s ease-in-out;\n`\n\nexport const Scroller = styled.div<{ index?: number; clientHeight?: number }>`\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  cursor: pointer;\n  // width: calc(100% - ${STORE_IMAGE_SIZES.SMALL}px);\n  z-index: 900;\n\n  touch-action: none;\n\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n    width: 100%;\n  `}\n`\n\nexport const ScrollerContainer = styled.div`\n  height: 100%;\n\n  touch-action: none;\n  transition: transform 350ms ease-in-out;\n`\n","export default __webpack_public_path__ + \"static/media/pastelle-ivory-outlined.06d3dadf.svg\";","import { useState, useRef, useEffect, useCallback, SetStateAction } from 'react'\nimport { useGesture } from '@use-gesture/react'\nimport { useSprings, SpringConfig } from '@react-spring/web'\nimport { FixedAnimatedLoader } from 'components/Loader'\nimport { ScrollingContentIndicator, ScrollingIndicatorParams } from 'components/ScrollingIndicator'\nimport { ScrollerContainer, Scroller, AnimatedDivContainer } from './styleds'\n\nimport { isMobile } from 'utils'\nimport PastelleIvoryOutlined from 'assets/svg/pastelle-ivory-outlined.svg'\n\ninterface ScrollingContentPageParams<D> {\n  data: D[]\n  dataItem: D | undefined\n  fixedHeight?: number\n  hideHeight?: number\n  showIndicator?: boolean\n  onContentClick?: React.MouseEventHandler<HTMLDivElement>\n  IterableComponent: (props: D & ScrollableContentComponentBaseProps) => JSX.Element\n}\n\nexport interface ScrollableContentComponentBaseProps {\n  itemIndex: number\n  isActive: boolean\n  firstPaintOver?: boolean\n}\n\ntype Params<P> = ScrollingContentPageParams<P> & Omit<ScrollingIndicatorParams, 'isLastIndex'>\n\nconst CONFIG = {\n  SCROLL_SPEED_COEFFICIENT: 3.2,\n  DRAG_SPEED_COEFFICIENT: 0.5\n}\nconst MAC_SPRING_CONFIG: SpringConfig = { friction: 90, tension: 280 }\n// const WHEEL_SPRING_CONFIG: SpringConfig = { friction: 40, tension: 100 }\nconst MOBILE_SPRING_CONFIG: SpringConfig = { friction: 20, tension: 50, mass: 1 }\n/**\n *\n * @param a input\n * @param b constraint 1 (can be low or high)\n * @param c constraint 2 (can be low or high)\n * @returns number closer to b or c\n */\nconst _closerTo = (a: number, b: number, c: number) => (Math.abs(c - a) >= Math.abs(b - a) ? b : c)\nfunction _getLimits(point: number, mult: number): number[] {\n  const range = point / mult\n  const highPoint = mult * Math.ceil(range)\n  const bounds = [highPoint - mult, highPoint]\n\n  return bounds\n}\nfunction _calcAnchorPos(point: number, mult: number) {\n  const [limitA, limitB] = _getLimits(point, mult)\n\n  return _closerTo(point, limitA, limitB)\n}\n\nfunction _getNearestAxisPoint(point: number, multiple: number) {\n  const anchorPoint = _calcAnchorPos(point, multiple)\n\n  return anchorPoint\n}\ninterface ScrollSpringParams {\n  i: number\n  y: number\n  dy: number\n  my: number\n  active: boolean\n  firstVis: number\n  firstVisIdx: number\n}\n\nfunction useStateRef<T>(defaultRef: T, processNode: (node: any) => SetStateAction<T>): [T, (newNode: any) => void] {\n  const [node, setNode] = useState<T>(defaultRef)\n  const setRef = useCallback(\n    newNode => {\n      setNode(processNode(newNode))\n    },\n    [processNode]\n  )\n  return [node, setRef]\n}\n\nconst MINIMUM_CATALOG_ITEM_HEIGHT = 773\n\nexport function useViewPagerAnimation(\n  items: any[],\n  {\n    visible = 1,\n    // fixed height - bypasses useRef\n    fixedHeight,\n    // minimum height to render catalog\n    minHeight = MINIMUM_CATALOG_ITEM_HEIGHT,\n    // snap nearest screen after scroll end\n    snapOnScroll = false,\n    scaleOptions = {\n      scaleOnScroll: 0.8,\n      initialScale: 1\n    }\n  }: {\n    scale?: number\n    visible: number\n    fixedHeight?: number\n    minHeight?: number\n    snapOnScroll?: boolean\n    scaleOptions?: {\n      scaleOnScroll?: number\n      initialScale: number\n    }\n  }\n) {\n  const prev = useRef([0, 1])\n\n  const [target, setContainerRef] = useStateRef(null, node => node)\n  const [height, setHeightRef] = useStateRef<number>(\n    0,\n    node => fixedHeight || Math.min(node?.clientHeight, minHeight) || 0\n  )\n\n  // handle window resizing\n  useEffect(() => {\n    // resize handler - update clientHeight\n    const _handleWindowResize = () => !fixedHeight && target?.clientHeight && setHeightRef(target)\n\n    window?.addEventListener('resize', _handleWindowResize)\n    // first run call\n    _handleWindowResize()\n    return () => {\n      window?.removeEventListener('resize', _handleWindowResize)\n    }\n  }, [fixedHeight, setHeightRef, target])\n\n  const setTargetRef = useCallback((node: any) => {\n    setContainerRef(node)\n    setHeightRef(node)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const [currentIndex, setCurrentIndex] = useState(prev.current[0])\n  const [firstPaintOver, setFirstPaintOver] = useState(false)\n\n  const [springs, api] = useSprings(\n    items.length,\n    i => ({\n      scale: scaleOptions.initialScale,\n      y: (i < items.length - 1 ? i : -1) * height,\n      onRest: () => {\n        // if (y === 0 && height > 0) {\n        //   setCurrentIndex(i)\n        // }\n\n        // useful in knowing when the FIRST animation has ended\n        // like for setup\n        if (!firstPaintOver) {\n          setFirstPaintOver(true)\n        }\n      }\n      // config: WHEEL_SPRING_CONFIG // MAC_SPRING_CONFIG\n    }),\n    [height]\n  )\n\n  const getIndex = useCallback((y, l = items.length) => (y < 0 ? y + l : y) % l, [items])\n  const getPos = useCallback((i, firstVisible, firstVisibleIndex) => getIndex(i - firstVisible + firstVisibleIndex), [\n    getIndex\n  ])\n\n  const calculateApiLogic = useCallback(\n    ({ i, y, dy, my, active, firstVis, firstVisIdx }: ScrollSpringParams) => {\n      const position = getPos(i, firstVis, firstVisIdx)\n      const prevPosition = getPos(i, prev.current[0], prev.current[1])\n      const rank = firstVis - (y < 0 ? items.length : 0) + position - firstVisIdx\n\n      // const configPos = dy > 0 ? position : items.length - position\n      const yPos = (-y % (height * items.length)) + height * rank\n      const scale =\n        scaleOptions?.scaleOnScroll && !isMobile && active\n          ? Math.max(1 - Math.abs(my) / height / 2, scaleOptions.scaleOnScroll)\n          : scaleOptions.initialScale\n\n      const anchorPoint = _getNearestAxisPoint(yPos, height)\n\n      // the frame at the 0 anchor point is the current one in frame\n      // set it as the current index - sets header, nav, etc\n      if (anchorPoint === 0) {\n        setCurrentIndex(i)\n      }\n\n      return {\n        y: active || !snapOnScroll ? yPos : anchorPoint,\n        scale,\n        immediate: dy < 0 ? prevPosition > position : prevPosition < position,\n        // set configs based on intertial vs non-intertial scroll\n        // s === false means intertial\n        config: isMobile ? MOBILE_SPRING_CONFIG : MAC_SPRING_CONFIG // WHEEL_SPRING_CONFIG\n      }\n    },\n    [getPos, height, items.length, scaleOptions, snapOnScroll]\n  )\n\n  const runSprings = useCallback(\n    (y, dy, my, active) => {\n      const itemPosition = Math.floor(y / height) % items.length\n      const firstVis = getIndex(itemPosition)\n      const firstVisIdx = dy < 0 ? items.length - visible - 1 : 1\n\n      api.start(i => calculateApiLogic({ i, y, dy, my, active, firstVis, firstVisIdx }))\n\n      prev.current = [firstVis, firstVisIdx]\n    },\n    [height, items.length, getIndex, visible, api, calculateApiLogic]\n  )\n\n  const wheelOffset = useRef(0)\n  const dragOffset = useRef(0)\n\n  useGesture(\n    {\n      onDrag: ({ active, offset: [, y], movement: [, my], direction: [, dy] }) => {\n        if (dy) {\n          const aY = _getNearestAxisPoint(y, height)\n          dragOffset.current = -aY ?? -y\n          const computedY = wheelOffset.current + -y / CONFIG.DRAG_SPEED_COEFFICIENT\n          runSprings(computedY, -dy, -my, active)\n        }\n      },\n      onWheel: ({ event, active, offset: [, y], movement: [, my], direction: [, dy] }) => {\n        event.preventDefault()\n\n        // we need to check the scroll type... intertial vs linear\n        // -1/1 = linear down/up scroll, respectively.\n        // false = intertial\n\n        if (dy) {\n          const aY = _getNearestAxisPoint(y, height)\n          wheelOffset.current = aY ?? y\n          const computedY = dragOffset.current + y / CONFIG.SCROLL_SPEED_COEFFICIENT\n          runSprings(computedY, dy, my, active)\n        }\n      }\n    },\n    {\n      target,\n      eventOptions: { passive: false }\n    }\n  )\n\n  return {\n    springs,\n    target,\n    setTargetRef,\n    height,\n    currentIndex,\n    firstPaintOver\n  }\n}\n\nexport function ScrollingContentPage<D>({\n  data,\n  dataItem,\n  fixedHeight,\n  showIndicator = true,\n  onContentClick,\n  IterableComponent,\n  ...indicatorProps\n}: Params<D>) {\n  const { springs, setTargetRef, height, currentIndex, firstPaintOver } = useViewPagerAnimation(data, {\n    visible: 1,\n    fixedHeight,\n    snapOnScroll: false,\n    // defaults to 0.8 scale on scroll and 1 scale default\n    scaleOptions: {\n      initialScale: 0.87\n    }\n  })\n\n  if (!dataItem) return null\n\n  return (\n    <>\n      <FixedAnimatedLoader loadText={<img src={PastelleIvoryOutlined} />} left=\"50%\" animation width=\"40vw\" />\n      <ScrollerContainer>\n        {/* scroll div */}\n        <Scroller ref={setTargetRef} onClick={onContentClick && onContentClick} />\n        {/* Were in mobile or the data passed only has 1 item, don't run loop animations */}\n        {springs.map(({ y, scale }, i) => {\n          return (\n            <AnimatedDivContainer key={i} style={{ scale, height, y }}>\n              {showIndicator && <ScrollingContentIndicator {...indicatorProps} />}\n              <IterableComponent\n                firstPaintOver={firstPaintOver}\n                isActive={currentIndex === i}\n                itemIndex={currentIndex}\n                key={i}\n                {...data[i]}\n              />\n            </AnimatedDivContainer>\n          )\n        })}\n      </ScrollerContainer>\n    </>\n  )\n}\n","import { useCallback } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { useCatalogItemFromURL } from './hooks'\nimport { ScrollingContentPage } from 'components/ScrollingContentPage'\nimport AsideWithVideo from 'pages/SingleItem/AsideWithVideo'\nimport { ArticleFadeInContainer } from 'components/Layout/Article'\nimport { STORE_IMAGE_SIZES } from 'constants/config'\nimport { isMobile } from 'utils'\nimport { useOnScreenItemID } from 'state/user/hooks'\nimport { buildItemUrl } from 'utils/navigation'\n\nexport default function Catalog() {\n  const { push } = useHistory()\n  // get catalog item from data and url\n  const { seasonList, currentItem } = useCatalogItemFromURL()\n  const onScreenItemId = useOnScreenItemID()\n\n  const fixedHeight = isMobile ? 550 : undefined\n\n  const onContentClick = useCallback(() => {\n    if (onScreenItemId) {\n      push(buildItemUrl({ identifier: onScreenItemId }))\n    }\n  }, [onScreenItemId, push])\n\n  const AsideWithVideoAux = useCallback(props => <AsideWithVideo {...props} mobileView showBreadCrumbs={false} />, [])\n\n  return (\n    <ArticleFadeInContainer id=\"CATALOG-ARTICLE\">\n      <ScrollingContentPage\n        data={seasonList}\n        dataItem={currentItem}\n        IterableComponent={AsideWithVideoAux}\n        baseContentMessage=\"SCROLL/DRAG FOR MORE SHIT!\"\n        width={`calc(100% - ${STORE_IMAGE_SIZES.SMALL}px)`}\n        bgColor=\"#ffffffdb\"\n        onlyOne=\"BOTTOM\"\n        showIndicator={false}\n        fixedHeight={fixedHeight}\n        onContentClick={onContentClick}\n      />\n    </ArticleFadeInContainer>\n  )\n}\n"],"sourceRoot":""}