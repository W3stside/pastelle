{"version":3,"sources":["../node_modules/imagekitio-react/dist/imagekitio-react.umd.js"],"names":["exports","React","_interopDefaultLegacy","e","React__default","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","_extends","assign","arguments","source","hasOwnProperty","call","apply","this","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","minLen","n","slice","name","test","len","arr2","createCommonjsModule","fn","basedir","module","path","require","base","commonjsRequire","undefined","Error","ReactPropTypesSecret_1","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypes","_classCallCheck$1","_defineProperties$1","_createClass$1","_defineProperty$1","ownKeys$1","_objectSpread2$1","version","errorMessages","MANDATORY_INITIALIZATION_MISSING","message","help","INVALID_TRANSFORMATION_POSITION","PRIVATE_KEY_CLIENT_SIDE","MISSING_UPLOAD_DATA","MISSING_UPLOAD_FILE_PARAMETER","MISSING_UPLOAD_FILENAME_PARAMETER","MISSING_AUTHENTICATION_ENDPOINT","MISSING_PUBLIC_KEY","AUTH_ENDPOINT_TIMEOUT","AUTH_ENDPOINT_NETWORK_ERROR","UPLOAD_ENDPOINT_NETWORK_ERROR","INVALID_UPLOAD_OPTIONS","respond","isError","response","callback","request","formData","options","generateSignatureToken","signaturObj","append","signature","String","expire","token","uploadFile","responseSucessText","xhr","XMLHttpRequest","timeout","open","authenticationEndpoint","ontimeout","onerror","onload","status","body","JSON","parse","responseText","ex","send","uploadFileXHR","uploadResponse","upload","uploadOptions","file","fileName","publicKey","tags","FormData","param","stringify","supportedTransforms","width","height","aspectRatio","quality","crop","cropMode","focus","x","y","format","radius","background","border","rotation","rotate","blur","named","overlayImage","overlayImageAspectRatio","overlayImageBackground","overlayImageBorder","overlayImageDPR","overlayImageQuality","overlayImageCropping","overlayImageTrim","overlayX","overlayY","overlayFocus","overlayHeight","overlayWidth","overlayText","overlayTextFontSize","overlayTextFontFamily","overlayTextColor","overlayTextTransparency","overlayAlpha","overlayTextTypography","overlayBackground","overlayTextEncoded","overlayTextWidth","overlayTextBackground","overlayTextPadding","overlayTextInnerAlignment","overlayRadius","progressive","lossless","trim","metadata","colorProfile","defaultImage","dpr","effectSharpen","effectUSM","effectContrast","effectGray","original","DEFAULT_TRANSFORMATION_POSITION","QUERY_TRANSFORMATION_POSITION","VALID_TRANSFORMATION_POSITIONS","CHAIN_TRANSFORM_DELIMITER","TRANSFORM_DELIMITER","TRANSFORM_KEY_VALUE_DELIMITER","transformationUtils","getDefault","addAsQueryParameter","transformationPosition","validParameters","getTransformKey","transform","toLowerCase","getChainTransformDelimiter","getTransformDelimiter","getTransformKeyValueDelimiter","TRANSFORMATION_PARAMETER","removeTrailingSlash","str","substring","removeLeadingSlash","pathJoin","parts","sep","separator","replace","RegExp","join","buildURL","opts","src","urlObj","isSrcParameterUsedForURL","urlEndpointPattern","URL","urlEndpoint","pathname","console","error","sdkVersion","searchParams","queryParameters","transformationString","constructTransformationString","transformation","href","parsedTransforms","l","parsedTransformStep","transformKey","url","urlOpts","defaultOptions","mandatoryParametersAvailable","privateKeyPassed","privateKey","ImageKit","concat","urlOptions","mergedOptions","ImageKitContextType","createContext","pkg","description","scripts","build","repository","type","main","browser","files","jest","verbose","setupFilesAfterEnv","coveragePathIgnorePatterns","modulePathIgnorePatterns","author","license","devDependencies","codecov","cypress","enzyme","react","rollup","sinon","dependencies","peerDependencies","ImageKitComponent","_PureComponent","_super","context","_this","getContext","bind","contextOptions","ikClient","getVersion","PureComponent","contextType","COMMON_PROPS","IK_IMAGE_PROPS","loading","lqip","IK_UPLOAD_PROPS","useUniqueFileName","responseFields","isPrivateFile","folder","customCoordinates","onError","onSuccess","PROP_TYPES","IKContext","_ImageKitComponent","propKeys","children","extractContextOptions","createElement","Provider","PROP_TYPES$1","propsAffectingURL","IKImage","imageRef","createRef","_this$getSrc","getSrc","originalSrc","lqipSrc","state","currentUrl","originalSrcLoaded","intersected","_this$props","getIKClient","active","parseInt","threshold","newTransformation","raw","navigator","connection","effectiveType","_this$state","_this$props2","_this$props2$lqip","setState","_this2","img","Image","updateImageUrl","_this3","image","current","_this$props3","window","rootMargin","getEffectiveConnection","imageObserver","IntersectionObserver","entries","el","isIntersecting","triggerOriginalImageLoad","disconnect","observe","prevProps","newProps","index","prevState","_this4","areObjectsDifferent","_this$getSrc2","_this$props4","restProps","alt","ref","PROP_TYPES$2","IKUpload","params","onChange","defaultProps","factory"],"mappings":"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","file":"static/js/1.cfb89d45.chunk.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ImageKitReact = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function createCommonjsModule(fn, basedir, module) {\n  \treturn module = {\n  \t\tpath: basedir,\n  \t\texports: {},\n  \t\trequire: function (path, base) {\n  \t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n  \t\t}\n  \t}, fn(module, module.exports), module.exports;\n  }\n\n  function commonjsRequire () {\n  \tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  function _classCallCheck$1(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties$1(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass$1(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties$1(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties$1(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty$1(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2$1(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys$1(Object(source), true).forEach(function (key) {\n          _defineProperty$1(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys$1(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  var version = \"1.4.3\";\n  var errorMessages = {\n    MANDATORY_INITIALIZATION_MISSING: {\n      message: \"Missing urlEndpoint during SDK initialization\",\n      help: \"\"\n    },\n    INVALID_TRANSFORMATION_POSITION: {\n      message: \"Invalid transformationPosition parameter\",\n      help: \"\"\n    },\n    PRIVATE_KEY_CLIENT_SIDE: {\n      message: \"privateKey should not be passed on the client side\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_DATA: {\n      message: \"Missing data for upload\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_FILE_PARAMETER: {\n      message: \"Missing file parameter for upload\",\n      help: \"\"\n    },\n    MISSING_UPLOAD_FILENAME_PARAMETER: {\n      message: \"Missing fileName parameter for upload\",\n      help: \"\"\n    },\n    MISSING_AUTHENTICATION_ENDPOINT: {\n      message: \"Missing authentication endpoint for upload\",\n      help: \"\"\n    },\n    MISSING_PUBLIC_KEY: {\n      message: \"Missing public key for upload\",\n      help: \"\"\n    },\n    AUTH_ENDPOINT_TIMEOUT: {\n      message: \"The authenticationEndpoint you provided timed out in 60 seconds\",\n      help: \"\"\n    },\n    AUTH_ENDPOINT_NETWORK_ERROR: {\n      message: \"Request to authenticationEndpoint failed due to network error\",\n      help: \"\"\n    },\n    UPLOAD_ENDPOINT_NETWORK_ERROR: {\n      message: \"Request to ImageKit upload endpoint failed due to network error\",\n      help: \"\"\n    },\n    INVALID_UPLOAD_OPTIONS: {\n      message: \"Invalid uploadOptions parameter\",\n      help: \"\"\n    }\n  };\n\n  function respond(isError, response, callback) {\n    if (typeof callback == \"function\") {\n      if (isError) {\n        callback(response, null);\n      } else {\n        callback(null, response);\n      }\n    }\n  }\n\n  var request = function request(formData, options, callback) {\n    generateSignatureToken(options, function (err, signaturObj) {\n      if (err) {\n        return respond(true, err, callback);\n      } else {\n        formData.append(\"signature\", (signaturObj === null || signaturObj === void 0 ? void 0 : signaturObj.signature) || \"\");\n        formData.append(\"expire\", String((signaturObj === null || signaturObj === void 0 ? void 0 : signaturObj.expire) || 0));\n        formData.append(\"token\", (signaturObj === null || signaturObj === void 0 ? void 0 : signaturObj.token) || \"\");\n        uploadFile(formData, function (err, responseSucessText) {\n          if (err) {\n            return respond(true, err, callback);\n          }\n\n          return respond(false, responseSucessText, callback);\n        });\n      }\n    });\n  };\n\n  var generateSignatureToken = function generateSignatureToken(options, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.timeout = 60000;\n    xhr.open('GET', options.authenticationEndpoint);\n\n    xhr.ontimeout = function (e) {\n      respond(true, errorMessages.AUTH_ENDPOINT_TIMEOUT, callback);\n    };\n\n    xhr.onerror = function () {\n      respond(true, errorMessages.AUTH_ENDPOINT_NETWORK_ERROR, callback);\n    };\n\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          var body = JSON.parse(xhr.responseText);\n          var obj = {\n            signature: body.signature,\n            expire: body.expire,\n            token: body.token\n          };\n          respond(false, obj, callback);\n        } catch (ex) {\n          respond(true, ex, callback);\n        }\n      } else {\n        try {\n          var error = JSON.parse(xhr.responseText);\n          respond(true, error, callback);\n        } catch (ex) {\n          respond(true, ex, callback);\n        }\n      }\n    };\n\n    xhr.send();\n    return;\n  };\n\n  var uploadFile = function uploadFile(formData, callback) {\n    var uploadFileXHR = new XMLHttpRequest();\n    uploadFileXHR.open('POST', 'https://upload.imagekit.io/api/v1/files/upload');\n\n    uploadFileXHR.onerror = function () {\n      respond(true, errorMessages.UPLOAD_ENDPOINT_NETWORK_ERROR, callback);\n      return;\n    };\n\n    uploadFileXHR.onload = function () {\n      if (uploadFileXHR.status === 200) {\n        var uploadResponse = JSON.parse(uploadFileXHR.responseText);\n        callback(null, uploadResponse);\n      } else if (uploadFileXHR.status !== 200) {\n        try {\n          callback(JSON.parse(uploadFileXHR.responseText), null);\n        } catch (ex) {\n          callback(ex, null);\n        }\n      }\n    };\n\n    uploadFileXHR.send(formData);\n    return;\n  };\n\n  var upload = function upload(uploadOptions, options, callback) {\n    if (!uploadOptions) {\n      respond(true, errorMessages.INVALID_UPLOAD_OPTIONS, callback);\n      return;\n    }\n\n    if (!uploadOptions.file) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILE_PARAMETER, callback);\n      return;\n    }\n\n    if (!uploadOptions.fileName) {\n      respond(true, errorMessages.MISSING_UPLOAD_FILENAME_PARAMETER, callback);\n      return;\n    }\n\n    if (!options.authenticationEndpoint) {\n      respond(true, errorMessages.MISSING_AUTHENTICATION_ENDPOINT, callback);\n      return;\n    }\n\n    if (!options.publicKey) {\n      respond(true, errorMessages.MISSING_PUBLIC_KEY, callback);\n      return;\n    }\n\n    if (uploadOptions.tags && Array.isArray(uploadOptions.tags)) {\n      uploadOptions.tags = String(uploadOptions.tags);\n    }\n\n    var formData = new FormData();\n    var i;\n\n    for (i in uploadOptions) {\n      var param = uploadOptions[i];\n\n      if (typeof param !== \"undefined\") {\n        if (typeof param === \"string\" || typeof param === \"boolean\") {\n          formData.append(i, String(param));\n        } else if (Array.isArray(param)) {\n          formData.append(i, JSON.stringify(param));\n        } else {\n          formData.append(i, param);\n        }\n      }\n    }\n\n    formData.append(\"publicKey\", options.publicKey);\n    request(formData, _objectSpread2$1(_objectSpread2$1({}, options), {}, {\n      authenticationEndpoint: options.authenticationEndpoint\n    }), callback);\n  };\n\n  var supportedTransforms = {\n    width: \"w\",\n    height: \"h\",\n    aspectRatio: \"ar\",\n    quality: \"q\",\n    crop: \"c\",\n    cropMode: \"cm\",\n    focus: \"fo\",\n    x: \"x\",\n    y: \"y\",\n    format: \"f\",\n    radius: \"r\",\n    background: \"bg\",\n    border: \"b\",\n    rotation: \"rt\",\n    rotate: \"rt\",\n    blur: \"bl\",\n    named: \"n\",\n    overlayImage: \"oi\",\n    overlayImageAspectRatio: \"oiar\",\n    overlayImageBackground: \"oibg\",\n    overlayImageBorder: \"oib\",\n    overlayImageDPR: \"oidpr\",\n    overlayImageQuality: \"oiq\",\n    overlayImageCropping: \"oic\",\n    overlayImageTrim: \"oit\",\n    overlayX: \"ox\",\n    overlayY: \"oy\",\n    overlayFocus: \"ofo\",\n    overlayHeight: \"oh\",\n    overlayWidth: \"ow\",\n    overlayText: \"ot\",\n    overlayTextFontSize: \"ots\",\n    overlayTextFontFamily: \"otf\",\n    overlayTextColor: \"otc\",\n    overlayTextTransparency: \"oa\",\n    overlayAlpha: \"oa\",\n    overlayTextTypography: \"ott\",\n    overlayBackground: \"obg\",\n    overlayTextEncoded: \"ote\",\n    overlayTextWidth: \"otw\",\n    overlayTextBackground: \"otbg\",\n    overlayTextPadding: \"otp\",\n    overlayTextInnerAlignment: \"otia\",\n    overlayRadius: \"or\",\n    progressive: \"pr\",\n    lossless: \"lo\",\n    trim: \"t\",\n    metadata: \"md\",\n    colorProfile: \"cp\",\n    defaultImage: \"di\",\n    dpr: \"dpr\",\n    effectSharpen: \"e-sharpen\",\n    effectUSM: \"e-usm\",\n    effectContrast: \"e-contrast\",\n    effectGray: \"e-grayscale\",\n    original: \"orig\"\n  };\n  var DEFAULT_TRANSFORMATION_POSITION = \"path\";\n  var QUERY_TRANSFORMATION_POSITION = \"query\";\n  var VALID_TRANSFORMATION_POSITIONS = [DEFAULT_TRANSFORMATION_POSITION, QUERY_TRANSFORMATION_POSITION];\n  var CHAIN_TRANSFORM_DELIMITER = \":\";\n  var TRANSFORM_DELIMITER = \",\";\n  var TRANSFORM_KEY_VALUE_DELIMITER = \"-\";\n  var transformationUtils = {\n    getDefault: function getDefault() {\n      return DEFAULT_TRANSFORMATION_POSITION;\n    },\n    addAsQueryParameter: function addAsQueryParameter(options) {\n      return options.transformationPosition === QUERY_TRANSFORMATION_POSITION;\n    },\n    validParameters: function validParameters(options) {\n      if (typeof options.transformationPosition == \"undefined\") return false;\n      return VALID_TRANSFORMATION_POSITIONS.indexOf(options.transformationPosition) != -1;\n    },\n    getTransformKey: function getTransformKey(transform) {\n      if (!transform) {\n        return \"\";\n      }\n\n      return supportedTransforms[transform] || supportedTransforms[transform.toLowerCase()] || \"\";\n    },\n    getChainTransformDelimiter: function getChainTransformDelimiter() {\n      return CHAIN_TRANSFORM_DELIMITER;\n    },\n    getTransformDelimiter: function getTransformDelimiter() {\n      return TRANSFORM_DELIMITER;\n    },\n    getTransformKeyValueDelimiter: function getTransformKeyValueDelimiter() {\n      return TRANSFORM_KEY_VALUE_DELIMITER;\n    }\n  };\n  var TRANSFORMATION_PARAMETER = \"tr\";\n\n  function removeTrailingSlash(str) {\n    if (typeof str == \"string\" && str[str.length - 1] == \"/\") {\n      str = str.substring(0, str.length - 1);\n    }\n\n    return str;\n  }\n\n  function removeLeadingSlash(str) {\n    if (typeof str == \"string\" && str[0] == \"/\") {\n      str = str.slice(1);\n    }\n\n    return str;\n  }\n\n  function pathJoin(parts, sep) {\n    var separator = sep || \"/\";\n    var replace = new RegExp(separator + \"{1,}\", \"g\");\n    return parts.join(separator).replace(replace, separator);\n  }\n\n  var buildURL = function buildURL(opts) {\n    if (!opts.path && !opts.src) {\n      return \"\";\n    }\n\n    var urlObj, isSrcParameterUsedForURL, urlEndpointPattern;\n\n    try {\n      if (opts.path) {\n        urlEndpointPattern = new URL(opts.urlEndpoint).pathname;\n        urlObj = new URL(pathJoin([opts.urlEndpoint.replace(urlEndpointPattern, \"\"), opts.path]));\n      } else {\n        urlObj = new URL(opts.src);\n        isSrcParameterUsedForURL = true;\n      }\n    } catch (e) {\n      console.error(e);\n      return \"\";\n    }\n\n    if (opts.sdkVersion && opts.sdkVersion.trim() != \"\") {\n      urlObj.searchParams.append(\"ik-sdk-version\", opts.sdkVersion.trim());\n    }\n\n    for (var i in opts.queryParameters) {\n      urlObj.searchParams.append(i, String(opts.queryParameters[i]));\n    }\n\n    var transformationString = constructTransformationString(opts.transformation);\n\n    if (transformationString && transformationString.length) {\n      if (transformationUtils.addAsQueryParameter(opts) || isSrcParameterUsedForURL) {\n        urlObj.searchParams.append(TRANSFORMATION_PARAMETER, transformationString);\n      } else {\n        urlObj.pathname = pathJoin([TRANSFORMATION_PARAMETER + transformationUtils.getChainTransformDelimiter() + transformationString, urlObj.pathname]);\n      }\n    }\n\n    if (urlEndpointPattern) {\n      urlObj.pathname = pathJoin([urlEndpointPattern, urlObj.pathname]);\n    } else {\n      urlObj.pathname = pathJoin([urlObj.pathname]);\n    }\n\n    return urlObj.href;\n  };\n\n  function constructTransformationString(transformation) {\n    if (!Array.isArray(transformation)) {\n      return \"\";\n    }\n\n    var parsedTransforms = [];\n\n    for (var i = 0, l = transformation.length; i < l; i++) {\n      var parsedTransformStep = [];\n\n      for (var key in transformation[i]) {\n        var transformKey = transformationUtils.getTransformKey(key);\n\n        if (!transformKey) {\n          transformKey = key;\n        }\n\n        if (transformation[i][key] === \"-\") {\n          parsedTransformStep.push(transformKey);\n        } else if (key === \"raw\") {\n          parsedTransformStep.push(transformation[i][key]);\n        } else {\n          var value = transformation[i][key];\n\n          if (transformKey === \"oi\" || transformKey === \"di\") {\n            value = removeTrailingSlash(removeLeadingSlash(value || \"\"));\n            value = value.replace(/\\//g, \"@@\");\n          }\n\n          parsedTransformStep.push([transformKey, value].join(transformationUtils.getTransformKeyValueDelimiter()));\n        }\n      }\n\n      parsedTransforms.push(parsedTransformStep.join(transformationUtils.getTransformDelimiter()));\n    }\n\n    return parsedTransforms.join(transformationUtils.getChainTransformDelimiter());\n  }\n\n  var url = function url(urlOpts, defaultOptions) {\n    return buildURL(_objectSpread2$1(_objectSpread2$1({}, defaultOptions), urlOpts));\n  };\n\n  function mandatoryParametersAvailable(options) {\n    return options.urlEndpoint;\n  }\n\n  function privateKeyPassed(options) {\n    return typeof options.privateKey != \"undefined\";\n  }\n\n  var ImageKit = function () {\n    function ImageKit(opts) {\n      _classCallCheck$1(this, ImageKit);\n\n      _defineProperty$1(this, \"options\", {\n        sdkVersion: \"javascript-\".concat(version),\n        publicKey: \"\",\n        urlEndpoint: \"\",\n        transformationPosition: transformationUtils.getDefault()\n      });\n\n      this.options = _objectSpread2$1(_objectSpread2$1({}, this.options), opts || {});\n\n      if (!mandatoryParametersAvailable(this.options)) {\n        throw errorMessages.MANDATORY_INITIALIZATION_MISSING;\n      }\n\n      if (privateKeyPassed(this.options)) {\n        throw errorMessages.PRIVATE_KEY_CLIENT_SIDE;\n      }\n\n      if (!transformationUtils.validParameters(this.options)) {\n        throw errorMessages.INVALID_TRANSFORMATION_POSITION;\n      }\n    }\n\n    _createClass$1(ImageKit, [{\n      key: \"url\",\n      value: function url$1(urlOptions) {\n        return url(urlOptions, this.options);\n      }\n    }, {\n      key: \"upload\",\n      value: function upload$1(uploadOptions, callback, options) {\n        var mergedOptions = _objectSpread2$1(_objectSpread2$1({}, this.options), options);\n\n        return upload(uploadOptions, mergedOptions, callback);\n      }\n    }]);\n\n    return ImageKit;\n  }();\n\n  var ImageKitContextType = /*#__PURE__*/React.createContext();\n\n  var name = \"imagekitio-react\";\n  var version$1 = \"1.1.0\";\n  var description = \"React SDK for ImageKit.io which implements client-side upload and URL generation for use inside a react application.\";\n  var scripts = {\n  \tbuild: \"rm -rf dist*;rollup -c\",\n  \ttest: \"jest\",\n  \t\"test:ci\": \"jest --coverage && codecov\",\n  \t\"test:cov\": \"jest --coverage\",\n  \t\"test:e2e\": \"cypress open\",\n  \t\"test:watch\": \"jest --watch\",\n  \t\"serve:test-app\": \"export SKIP_PREFLIGHT_CHECK=true;npx serve -s tests/test-app/build -p 4000\"\n  };\n  var repository = {\n  \ttype: \"git\",\n  \turl: \"https://github.com/imagekit-developer/imagekit-react\"\n  };\n  var main = \"dist/imagekitio-react.js\";\n  var module = \"dist/imagekitio-react.esm.js\";\n  var browser = \"dist/imagekitio-react.umd.js\";\n  var files = [\n  \t\"dist\",\n  \t\"src\"\n  ];\n  var jest = {\n  \tverbose: true,\n  \tsetupFilesAfterEnv: [\n  \t\t\"<rootDir>/tests/jest/setupTests.js\"\n  \t],\n  \tcoveragePathIgnorePatterns: [\n  \t\t\"<rootDir>/tests/jest/mocks\"\n  \t],\n  \tmodulePathIgnorePatterns: [\n  \t\t\"<rootDir>/tests/cypress/\"\n  \t]\n  };\n  var author = \"ImageKit\";\n  var license = \"MIT\";\n  var devDependencies = {\n  \t\"@babel/cli\": \"^7.7.4\",\n  \t\"@babel/core\": \"^7.7.4\",\n  \t\"@babel/plugin-proposal-class-properties\": \"^7.7.4\",\n  \t\"@babel/plugin-proposal-export-default-from\": \"^7.7.4\",\n  \t\"@babel/preset-env\": \"^7.7.4\",\n  \t\"@babel/preset-react\": \"^7.7.4\",\n  \t\"@babel/register\": \"^7.7.4\",\n  \t\"@babel/runtime\": \"^7.7.6\",\n  \t\"@rollup/plugin-babel\": \"^5.2.1\",\n  \t\"@rollup/plugin-commonjs\": \"^15.1.0\",\n  \t\"@rollup/plugin-json\": \"^4.1.0\",\n  \t\"@rollup/plugin-replace\": \"^2.3.3\",\n  \t\"babel-loader\": \"^8.0.6\",\n  \tcodecov: \"^3.8.0\",\n  \tcypress: \"^5.6.0\",\n  \tenzyme: \"^3.11.0\",\n  \t\"enzyme-adapter-react-16\": \"^1.15.5\",\n  \tjest: \"^26.5.2\",\n  \treact: \"^16.13.1\",\n  \t\"react-dom\": \"^16.13.1\",\n  \t\"react-test-renderer\": \"^16.13.1\",\n  \t\"require-context.macro\": \"^1.2.2\",\n  \trollup: \"^2.28.2\",\n  \t\"rollup-plugin-node-resolve\": \"^5.2.0\",\n  \t\"rollup-plugin-peer-deps-external\": \"^2.2.3\",\n  \t\"rollup-plugin-terser\": \"^7.0.2\",\n  \tsinon: \"^9.2.0\"\n  };\n  var dependencies = {\n  \t\"imagekit-javascript\": \"^1.3.6\",\n  \t\"prop-types\": \"^15.7.2\"\n  };\n  var peerDependencies = {\n  \treact: \"^16.13.1 || ^17.0.0\",\n  \t\"react-dom\": \"^16.13.1 || ^17.0.0\"\n  };\n  var pkg = {\n  \tname: name,\n  \tversion: version$1,\n  \tdescription: description,\n  \tscripts: scripts,\n  \trepository: repository,\n  \tmain: main,\n  \tmodule: module,\n  \tbrowser: browser,\n  \t\"browser:min\": \"dist/imagekitio-react.umd.min.js\",\n  \tfiles: files,\n  \tjest: jest,\n  \tauthor: author,\n  \tlicense: license,\n  \tdevDependencies: devDependencies,\n  \tdependencies: dependencies,\n  \tpeerDependencies: peerDependencies\n  };\n\n  var ImageKitComponent = /*#__PURE__*/function (_PureComponent) {\n    _inherits(ImageKitComponent, _PureComponent);\n\n    var _super = _createSuper(ImageKitComponent);\n\n    function ImageKitComponent(props, context) {\n      var _this;\n\n      _classCallCheck(this, ImageKitComponent);\n\n      _this = _super.call(this, props, context);\n      _this.getContext = _this.getContext.bind(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(ImageKitComponent, [{\n      key: \"getVersion\",\n      value: function getVersion() {\n        return pkg.version;\n      }\n    }, {\n      key: \"getContext\",\n      value: function getContext() {\n        return this.context || {};\n      }\n    }, {\n      key: \"getIKClient\",\n      value: function getIKClient() {\n        var contextOptions = this.getContext();\n\n        if (contextOptions.ikClient) {\n          return contextOptions.ikClient;\n        }\n\n        var urlEndpoint = this.props.urlEndpoint;\n        urlEndpoint = urlEndpoint || contextOptions.urlEndpoint;\n\n        if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n          throw new Error(\"Missing urlEndpoint during initialization\");\n        }\n\n        var ikClient = new ImageKit({\n          sdkVersion: \"react-\".concat(this.getVersion()),\n          urlEndpoint: urlEndpoint\n        });\n        return ikClient;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return null;\n      }\n    }]);\n\n    return ImageKitComponent;\n  }(React.PureComponent);\n\n  ImageKitComponent.contextType = ImageKitContextType;\n\n  var COMMON_PROPS = {\n    publicKey: propTypes.string,\n    urlEndpoint: propTypes.string,\n    authenticationEndpoint: propTypes.string\n  };\n\n  var IK_IMAGE_PROPS = {\n    loading: propTypes.oneOf(['lazy']),\n    lqip: propTypes.object,\n    path: propTypes.string,\n    src: propTypes.string,\n    queryParameters: propTypes.object,\n    transformation: propTypes.arrayOf(propTypes.object),\n    transformationPosition: propTypes.oneOf(['path', 'query'])\n  };\n\n  var IK_UPLOAD_PROPS = {\n    fileName: propTypes.string,\n    tags: propTypes.array,\n    useUniqueFileName: propTypes.bool,\n    responseFields: propTypes.array,\n    isPrivateFile: propTypes.bool,\n    folder: propTypes.string,\n    customCoordinates: propTypes.string,\n    onError: propTypes.func,\n    onSuccess: propTypes.func\n  };\n\n  var PROP_TYPES = _objectSpread2(_objectSpread2(_objectSpread2({}, COMMON_PROPS), IK_IMAGE_PROPS), IK_UPLOAD_PROPS);\n  /**\n   * Provides a container for ImageKit components. Any option set in IKContext will be passed to the children.\n   *\n   * @example\n   *<IKContext  publicKey=\"<public key>\" urlEndpoint=\"url link\">\n   *    <!-- other tags -->\n   *    <Image src={link}/>\n   *</IKContext>\n   */\n\n\n  var IKContext = /*#__PURE__*/function (_ImageKitComponent) {\n    _inherits(IKContext, _ImageKitComponent);\n\n    var _super = _createSuper(IKContext);\n\n    function IKContext() {\n      _classCallCheck(this, IKContext);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(IKContext, [{\n      key: \"extractContextOptions\",\n      value: function extractContextOptions(mergedOptions) {\n        var result = {};\n        var propKeys = Object.keys(PROP_TYPES);\n\n        for (var i = 0; i < propKeys.length; i++) {\n          var key = propKeys[i];\n          var value = mergedOptions[key];\n          if (value) result[key] = value;\n        }\n\n        return result;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var children = this.props.children;\n\n        var mergedOptions = _objectSpread2(_objectSpread2({}, this.getContext()), this.props);\n\n        var contextOptions = this.extractContextOptions(mergedOptions);\n\n        if (contextOptions.urlEndpoint && contextOptions.urlEndpoint.trim() !== \"\") {\n          contextOptions.ikClient = new ImageKit({\n            sdkVersion: \"react-\".concat(this.getVersion()),\n            urlEndpoint: contextOptions.urlEndpoint\n          });\n        }\n\n        return /*#__PURE__*/React__default['default'].createElement(ImageKitContextType.Provider, {\n          value: contextOptions\n        }, children);\n      }\n    }]);\n\n    return IKContext;\n  }(ImageKitComponent);\n\n  IKContext.propTypes = PROP_TYPES;\n  IKContext.contextType = ImageKitContextType;\n\n  var PROP_TYPES$1 = _objectSpread2(_objectSpread2({}, COMMON_PROPS), IK_IMAGE_PROPS);\n\n  var propsAffectingURL = [\"urlEndpoint\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"];\n\n  var IKImage = /*#__PURE__*/function (_ImageKitComponent) {\n    _inherits(IKImage, _ImageKitComponent);\n\n    var _super = _createSuper(IKImage);\n\n    function IKImage(props, context) {\n      var _this;\n\n      _classCallCheck(this, IKImage);\n\n      _this = _super.call(this, props, context);\n      _this.imageRef = /*#__PURE__*/React__default['default'].createRef();\n\n      var _this$getSrc = _this.getSrc(),\n          originalSrc = _this$getSrc.originalSrc,\n          lqipSrc = _this$getSrc.lqipSrc;\n\n      _this.state = {\n        currentUrl: undefined,\n        originalSrc: originalSrc,\n        lqipSrc: lqipSrc,\n        originalSrcLoaded: false,\n        intersected: false,\n        contextOptions: {}\n      };\n      return _this;\n    }\n\n    _createClass(IKImage, [{\n      key: \"getSrc\",\n      value: function getSrc() {\n        var result = {};\n        var _this$props = this.props,\n            lqip = _this$props.lqip,\n            src = _this$props.src,\n            path = _this$props.path,\n            transformation = _this$props.transformation,\n            transformationPosition = _this$props.transformationPosition,\n            queryParameters = _this$props.queryParameters;\n        var ikClient = this.getIKClient();\n        var contextOptions = this.getContext();\n        var options = {\n          urlEndpoint: this.props.urlEndpoint || contextOptions.urlEndpoint,\n          src: src || contextOptions.src,\n          path: path || contextOptions.path,\n          transformation: transformation || contextOptions.transformation,\n          transformationPosition: transformationPosition || contextOptions.transformationPosition,\n          queryParameters: queryParameters || contextOptions.queryParameters\n        };\n        result.originalSrc = ikClient.url(options);\n\n        if (lqip && lqip.active) {\n          var quality = parseInt(lqip.quality || lqip.threshold, 10) || 20;\n          var blur = parseInt(lqip.blur || lqip.blur, 10) || 6;\n          var newTransformation = options.transformation ? _toConsumableArray(options.transformation) : [];\n\n          if (lqip.raw && typeof lqip.raw === \"string\" && lqip.raw.trim() != \"\") {\n            newTransformation.push({\n              raw: lqip.raw.trim()\n            });\n          } else {\n            newTransformation.push({\n              quality: quality,\n              blur: blur\n            });\n          }\n\n          result.lqipSrc = ikClient.url(_objectSpread2(_objectSpread2({}, options), {}, {\n            transformation: newTransformation\n          }));\n        }\n\n        return result;\n      }\n    }, {\n      key: \"getEffectiveConnection\",\n      value: function getEffectiveConnection() {\n        try {\n          return navigator.connection.effectiveType;\n        } catch (ex) {\n          return \"4g\";\n        }\n      }\n    }, {\n      key: \"updateImageUrl\",\n      value: function updateImageUrl() {\n        /*\n          No lazy loading no lqip\n            src=originalImage\n          No lazy loading lqip\n            src=lqip\n            src=originalImage (when loaded)\n          lazy loading and no lqip\n            src=''\n            onIntersect:\n            src=originalImage\n          lazy loading and lqip\n            src=lqip\n            onIntersect:\n            src=originalImage (when loaded)\n        */\n        var _this$state = this.state,\n            intersected = _this$state.intersected,\n            originalSrcLoaded = _this$state.originalSrcLoaded;\n        var _this$props2 = this.props,\n            _this$props2$lqip = _this$props2.lqip,\n            lqip = _this$props2$lqip === void 0 ? null : _this$props2$lqip,\n            loading = _this$props2.loading;\n\n        if (loading !== \"lazy\" && lqip === null) {\n          this.setState({\n            currentUrl: this.state.originalSrc\n          });\n        } else if (loading !== \"lazy\" && lqip && lqip.active) {\n          if (originalSrcLoaded) {\n            this.setState({\n              currentUrl: this.state.originalSrc\n            });\n          } else {\n            this.setState({\n              currentUrl: this.state.lqipSrc\n            });\n          }\n        } else if (loading === \"lazy\" && lqip === null) {\n          if (intersected) {\n            this.setState({\n              currentUrl: this.state.originalSrc\n            });\n          } else {\n            this.setState({\n              currentUrl: \"\"\n            });\n          }\n        } else if (loading === \"lazy\" && lqip && lqip.active) {\n          if (intersected && originalSrcLoaded) {\n            this.setState({\n              currentUrl: this.state.originalSrc\n            });\n          } else {\n            this.setState({\n              currentUrl: this.state.lqipSrc\n            });\n          }\n        }\n      }\n    }, {\n      key: \"triggerOriginalImageLoad\",\n      value: function triggerOriginalImageLoad() {\n        var _this2 = this;\n\n        var img = new Image();\n\n        img.onload = function () {\n          _this2.setState({\n            originalSrcLoaded: true\n          }, function () {\n            _this2.updateImageUrl();\n          });\n        };\n\n        img.src = this.state.originalSrc;\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this3 = this;\n\n        this.updateImageUrl();\n        this.setState({\n          contextOptions: this.getContext()\n        });\n        var image = this.imageRef.current;\n        var _this$props3 = this.props,\n            lqip = _this$props3.lqip,\n            loading = _this$props3.loading;\n\n        if (window && 'IntersectionObserver' in window && loading === \"lazy\") {\n          var connectionType = this.getEffectiveConnection(); // Values based on native lazy loading in Chrome - https://web.dev/native-lazy-loading/#improved-data-savings-and-distance-from-viewport-thresholds\n\n          var rootMargin = \"1250px\";\n          if (connectionType !== \"4g\") rootMargin = \"2500px\";\n          var imageObserver = new IntersectionObserver(function (entries) {\n            var el = entries[0];\n\n            if (el && el.isIntersecting) {\n              _this3.setState({\n                intersected: true\n              }, function () {\n                if (lqip && lqip.active) _this3.triggerOriginalImageLoad();\n                imageObserver.disconnect();\n\n                _this3.updateImageUrl();\n              });\n            }\n          }, {\n            rootMargin: \"\".concat(rootMargin, \" 0px \").concat(rootMargin, \" 0px\")\n          });\n          imageObserver.observe(image);\n          this.setState({\n            observe: imageObserver\n          });\n        } else {\n          // Load original image right away\n          this.setState({\n            intersected: true\n          }, function () {\n            if (lqip && lqip.active) _this3.triggerOriginalImageLoad();\n\n            _this3.updateImageUrl();\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        var observe = this.state.observe;\n        if (observe) observe.disconnect();\n      }\n    }, {\n      key: \"areObjectsDifferent\",\n      value: function areObjectsDifferent(prevProps, newProps) {\n        for (var index = 0; index < propsAffectingURL.length; index++) {\n          if (prevProps[propsAffectingURL[index]] != newProps[propsAffectingURL[index]]) {\n            return true;\n          }\n        }\n\n        return false;\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps, prevState) {\n        var _this4 = this;\n\n        var contextOptions = this.getContext();\n\n        if (this.areObjectsDifferent(prevProps, this.props) || this.areObjectsDifferent(prevState.contextOptions, contextOptions)) {\n          var _this$getSrc2 = this.getSrc(),\n              originalSrc = _this$getSrc2.originalSrc,\n              lqipSrc = _this$getSrc2.lqipSrc;\n\n          this.setState({\n            originalSrc: originalSrc,\n            lqipSrc: lqipSrc\n          }, function () {\n            _this4.updateImageUrl();\n\n            _this4.setState({\n              contextOptions: _this4.getContext()\n            });\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var currentUrl = this.state.currentUrl;\n\n        var _this$props4 = this.props,\n            urlEndpoint = _this$props4.urlEndpoint,\n            loading = _this$props4.loading,\n            lqip = _this$props4.lqip,\n            path = _this$props4.path,\n            src = _this$props4.src,\n            transformation = _this$props4.transformation,\n            transformationPosition = _this$props4.transformationPosition,\n            queryParameters = _this$props4.queryParameters,\n            restProps = _objectWithoutProperties(_this$props4, [\"urlEndpoint\", \"loading\", \"lqip\", \"path\", \"src\", \"transformation\", \"transformationPosition\", \"queryParameters\"]);\n\n        return /*#__PURE__*/React__default['default'].createElement(\"img\", _extends({\n          alt: this.props.alt || \"\",\n          src: currentUrl,\n          ref: this.imageRef\n        }, restProps));\n      }\n    }]);\n\n    return IKImage;\n  }(ImageKitComponent);\n\n  IKImage.propTypes = PROP_TYPES$1;\n\n  var PROP_TYPES$2 = _objectSpread2(_objectSpread2({}, COMMON_PROPS), IK_UPLOAD_PROPS);\n\n  var IKUpload = /*#__PURE__*/function (_ImageKitComponent) {\n    _inherits(IKUpload, _ImageKitComponent);\n\n    var _super = _createSuper(IKUpload);\n\n    function IKUpload() {\n      _classCallCheck(this, IKUpload);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(IKUpload, [{\n      key: \"uploadFile\",\n      value: function uploadFile(e) {\n        var contextOptions = this.getContext();\n        var _this$props = this.props,\n            fileName = _this$props.fileName,\n            useUniqueFileName = _this$props.useUniqueFileName,\n            tags = _this$props.tags,\n            folder = _this$props.folder,\n            isPrivateFile = _this$props.isPrivateFile,\n            customCoordinates = _this$props.customCoordinates,\n            responseFields = _this$props.responseFields,\n            onError = _this$props.onError,\n            onSuccess = _this$props.onSuccess;\n        var publicKey = this.props.publicKey || contextOptions.publicKey;\n        var authenticationEndpoint = this.props.authenticationEndpoint || contextOptions.authenticationEndpoint;\n        var urlEndpoint = this.props.urlEndpoint || contextOptions.urlEndpoint;\n\n        if (!publicKey || publicKey.trim() === \"\") {\n          if (onError && typeof onError === \"function\") {\n            onError({\n              message: \"Missing publicKey\"\n            });\n          }\n\n          return;\n        }\n\n        if (!authenticationEndpoint || authenticationEndpoint.trim() === \"\") {\n          if (onError && typeof onError === \"function\") {\n            onError({\n              message: \"Missing authenticationEndpoint\"\n            });\n          }\n\n          return;\n        }\n\n        if (!urlEndpoint || urlEndpoint.trim() === \"\") {\n          if (onError && typeof onError === \"function\") {\n            onError({\n              message: \"Missing urlEndpoint\"\n            });\n          }\n\n          return;\n        }\n\n        var ikClient = this.getIKClient();\n        var file = e.target.files[0];\n        var params = {\n          file: file,\n          fileName: fileName || file.name,\n          useUniqueFileName: useUniqueFileName,\n          tags: tags,\n          folder: folder,\n          isPrivateFile: isPrivateFile,\n          customCoordinates: customCoordinates,\n          responseFields: responseFields\n        };\n        ikClient.upload(params, function (err, result) {\n          if (err) {\n            if (onError && typeof onError === \"function\") {\n              onError(err);\n            }\n          } else {\n            if (onSuccess && typeof onSuccess === \"function\") {\n              onSuccess(result);\n            }\n          }\n        }, {\n          publicKey: publicKey,\n          authenticationEndpoint: authenticationEndpoint\n        });\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this = this;\n\n        var _this$props2 = this.props,\n            publicKey = _this$props2.publicKey,\n            urlEndpoint = _this$props2.urlEndpoint,\n            authenticationEndpoint = _this$props2.authenticationEndpoint,\n            fileName = _this$props2.fileName,\n            useUniqueFileName = _this$props2.useUniqueFileName,\n            tags = _this$props2.tags,\n            folder = _this$props2.folder,\n            isPrivateFile = _this$props2.isPrivateFile,\n            customCoordinates = _this$props2.customCoordinates,\n            responseFields = _this$props2.responseFields,\n            onError = _this$props2.onError,\n            onSuccess = _this$props2.onSuccess,\n            restProps = _objectWithoutProperties(_this$props2, [\"publicKey\", \"urlEndpoint\", \"authenticationEndpoint\", \"fileName\", \"useUniqueFileName\", \"tags\", \"folder\", \"isPrivateFile\", \"customCoordinates\", \"responseFields\", \"onError\", \"onSuccess\"]);\n\n        return /*#__PURE__*/React__default['default'].createElement(\"input\", _extends({\n          type: \"file\"\n        }, restProps, {\n          onChange: function onChange(e) {\n            if (_this.props.onChange && typeof _this.props.onChange === \"function\") {\n              _this.props.onChange(e);\n            }\n\n            _this.uploadFile(e);\n          }\n        }));\n      }\n    }]);\n\n    return IKUpload;\n  }(ImageKitComponent);\n  IKUpload.defaultProps = {\n    useUniqueFileName: true,\n    isPrivateFile: false,\n    customCoordinates: \"\",\n    tags: [],\n    folder: \"/\",\n    responseFields: []\n  };\n  IKUpload.propTypes = PROP_TYPES$2;\n\n  exports.IKContext = IKContext;\n  exports.IKImage = IKImage;\n  exports.IKUpload = IKUpload;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}